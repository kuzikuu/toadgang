var Sw=Object.defineProperty;var _w=(t,e,n)=>e in t?Sw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gr=(t,e,n)=>(_w(t,typeof e!="symbol"?e+"":e,n),n),Cf=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var F=(t,e,n)=>(Cf(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ie=(t,e,n,r)=>(Cf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var cc=(t,e,n,r)=>({set _(s){ie(t,e,s,n)},get _(){return F(t,e,r)}}),Be=(t,e,n)=>(Cf(t,e,"access private method"),n);import{r as ye,g as Id,a as Bd,c as tr}from"./vendor-9e9c62a7.js";var bm={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=ye,Iw=Symbol.for("react.element"),Bw=Symbol.for("react.fragment"),kw=Object.prototype.hasOwnProperty,Mw=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rw={key:!0,ref:!0,__self:!0,__source:!0};function wm(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kw.call(e,r)&&!Rw.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Iw,type:t,key:i,ref:o,props:s,_owner:Mw.current}}Eu.Fragment=Bw;Eu.jsx=wm;Eu.jsxs=wm;bm.exports=Eu;var jt=bm.exports;function Su(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const vm="2.33.3";let Ro={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${vm}`},Y=class ml extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof ml?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof ml&&n.cause.docsPath||n.docsPath)(),i=(a=Ro.getDocsUrl)==null?void 0:a.call(Ro,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Ro.version?[`Version: ${Ro.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=vm}walk(e){return xm(this,e)}};function xm(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?xm(t.cause,e):e?null:t}let Em=class extends Y{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Cw extends Y{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Tw extends Y{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Pw=class extends Y{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function nr(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Je(t){return nr(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function kn(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}let Sm=class extends Y{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},_m=class extends Y{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class y0 extends Y{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Nr(t,{dir:e,size:n=32}={}){return typeof t=="string"?ys(t,{dir:e,size:n}):Ow(t,{dir:e,size:n})}function ys(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new _m({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Ow(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new _m({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}const $w=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ln(t,e={}){return typeof t=="number"||typeof t=="bigint"?ee(t,e):typeof t=="string"?ro(t,e):typeof t=="boolean"?kd(t,e):kt(t,e)}function kd(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Kn(n,{size:e.size}),Nr(n,{size:e.size})):n}function kt(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=$w[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Kn(r,{size:e.size}),Nr(r,{dir:"right",size:e.size})):r}function ee(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new Em({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Nr(a,{size:r}):a}const Nw=new TextEncoder;function ro(t,e={}){const n=Nw.encode(t);return kt(n,e)}const Uw=new TextEncoder;function vo(t,e={}){return typeof t=="number"||typeof t=="bigint"?Fw(t,e):typeof t=="boolean"?Lw(t,e):nr(t)?Mn(t,e):Vs(t,e)}function Lw(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Kn(n,{size:e.size}),Nr(n,{size:e.size})):n}const xr={zero:48,nine:57,A:65,F:70,a:97,f:102};function g0(t){if(t>=xr.zero&&t<=xr.nine)return t-xr.zero;if(t>=xr.A&&t<=xr.F)return t-(xr.A-10);if(t>=xr.a&&t<=xr.f)return t-(xr.a-10)}function Mn(t,e={}){let n=t;e.size&&(Kn(n,{size:e.size}),n=Nr(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=g0(r.charCodeAt(a++)),u=g0(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new Y(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function Fw(t,e){const n=ee(t,e);return Mn(n)}function Vs(t,e={}){const n=Uw.encode(t);return typeof e.size=="number"?(Kn(n,{size:e.size}),Nr(n,{dir:"right",size:e.size})):n}function Kn(t,{size:e}){if(Je(t)>e)throw new Pw({givenSize:Je(t),maxSize:e})}function zw(t,e){const n=typeof e=="string"?{to:e}:e,r=n.to;return r==="number"?Rn(t,n):r==="bigint"?$t(t,n):r==="string"?jw(t,n):r==="boolean"?Am(t,n):Mn(t,n)}function $t(t,e={}){const{signed:n}=e;e.size&&Kn(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Am(t,e={}){let n=t;if(e.size&&(Kn(n,{size:e.size}),n=kn(n)),kn(n)==="0x00")return!1;if(kn(n)==="0x01")return!0;throw new Tw(n)}function Rn(t,e={}){return Number($t(t,e))}function jw(t,e={}){let n=Mn(t);return e.size&&(Kn(n,{size:e.size}),n=kn(n,{dir:"right"})),new TextDecoder().decode(n)}function Md(t,e){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=e(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:t})}const Im={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function _u(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Rn(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Rn(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Im[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=qw(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const Dw=Md("transaction",_u);function qw(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Rd(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:_u(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Vw=Md("block",Rd);function Fr(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const Bm={"0x0":"reverted","0x1":"success"};function km(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Fr(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Rn(t.transactionIndex):null,status:t.status?Bm[t.status]:null,type:t.type?Im[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const Hw=Md("transactionReceipt",km),Kw={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Au(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=Gw(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>kt(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=ee(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=ee(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=ee(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=ee(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=ee(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=ee(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=Kw[t.type]),typeof t.value<"u"&&(e.value=ee(t.value)),e}function Gw(t){return t.map(e=>({address:e.address,r:e.r?ee(BigInt(e.r)):e.r,s:e.s?ee(BigInt(e.s)):e.s,chainId:ee(e.chainId),nonce:ee(e.nonce),...typeof e.yParity<"u"?{yParity:ee(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ee(e.v)}:{}}))}const Iu=2n**256n-1n;function rr(t){return typeof t[0]=="string"?Pn(t):Zw(t)}function Zw(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Pn(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class b0 extends Y{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Mm extends Y{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class Ww extends Y{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Jw={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ww({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Mm({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new b0({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new b0({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Cd(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Jw);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function vs(t,e="hex"){const n=Rm(t),r=Cd(new Uint8Array(n.length));return n.encode(r),e==="hex"?kt(r.bytes):r.bytes}function Rm(t){return Array.isArray(t)?Yw(t.map(e=>Rm(e))):Qw(t)}function Yw(t){const e=t.reduce((s,i)=>s+i.length,0),n=Cm(e);return{length:(()=>e<=55?1+e:1+n+e)(),encode(s){e<=55?s.pushByte(192+e):(s.pushByte(192+55+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function Qw(t){const e=typeof t=="string"?Mn(t):t,n=Cm(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length)(),encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(128+55+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function Cm(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Y("Length is too large.")}const Xw={gwei:9,wei:18},ev={ether:-9,wei:9};function Tm(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Pm(t,e="wei"){return Tm(t,Xw[e])}function Xn(t,e="wei"){return Tm(t,ev[e])}function Bu(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class tv extends Y{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class nv extends Y{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class rv extends Y{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Bu(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class sv extends Y{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Om extends Y{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class $m extends Y{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class iv extends Y{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function ov(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:s,...i}=n,o=n.address;e.push([r?ln(r):"0x",o,s?ln(s):"0x",...ja({},i)])}return e}function Td(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Mn(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>kt(i))}function Pd(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Mn(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Mn(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>kt(o))}const vi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function As(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function so(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ht(t,...e){if(!As(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Nm(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");so(t.outputLen),so(t.blockLen)}function io(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Um(t,e){Ht(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function av(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function xs(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Tf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ar(t,e){return t<<32-e|t>>>e}const cv=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function uv(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function fv(t){for(let e=0;e<t.length;e++)t[e]=uv(t[e]);return t}const w0=cv?t=>t:fv,Lm=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),lv=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qn(t){if(Ht(t),Lm)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=lv[t[n]];return e}const Er={_0:48,_9:57,A:65,F:70,a:97,f:102};function v0(t){if(t>=Er._0&&t<=Er._9)return t-Er._0;if(t>=Er.A&&t<=Er.F)return t-(Er.A-10);if(t>=Er.a&&t<=Er.f)return t-(Er.a-10)}function Ws(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Lm)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=v0(t.charCodeAt(i)),a=v0(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function ku(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Mu(t){return typeof t=="string"&&(t=ku(t)),Ht(t),t}function He(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ht(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Od{}function Ru(t){const e=r=>t().update(Mu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function za(t=32){if(vi&&typeof vi.getRandomValues=="function")return vi.getRandomValues(new Uint8Array(t));if(vi&&typeof vi.randomBytes=="function")return Uint8Array.from(vi.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function dv(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function hv(t,e,n){return t&e^~t&n}function pv(t,e,n){return t&e^t&n^e&n}class Fm extends Od{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Tf(this.buffer)}update(e){io(this),e=Mu(e),Ht(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Tf(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){io(this),Um(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,xs(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;dv(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Tf(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Zr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kt=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Gt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uc=BigInt(2**32-1),x0=BigInt(32);function mv(t,e=!1){return e?{h:Number(t&uc),l:Number(t>>x0&uc)}:{h:Number(t>>x0&uc)|0,l:Number(t&uc)|0}}function zm(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=mv(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const E0=(t,e,n)=>t>>>n,S0=(t,e,n)=>t<<32-n|e>>>n,xi=(t,e,n)=>t>>>n|e<<32-n,Ei=(t,e,n)=>t<<32-n|e>>>n,fc=(t,e,n)=>t<<64-n|e>>>n-32,lc=(t,e,n)=>t>>>n-32|e<<64-n,yv=(t,e,n)=>t<<n|e>>>32-n,gv=(t,e,n)=>e<<n|t>>>32-n,bv=(t,e,n)=>e<<n-32|t>>>64-n,wv=(t,e,n)=>t<<n-32|e>>>64-n;function Sr(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const vv=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),xv=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ev=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Sv=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,_v=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Av=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Iv=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wr=new Uint32Array(64);class Bv extends Fm{constructor(e=32){super(64,e,8,!1),this.A=Zr[0]|0,this.B=Zr[1]|0,this.C=Zr[2]|0,this.D=Zr[3]|0,this.E=Zr[4]|0,this.F=Zr[5]|0,this.G=Zr[6]|0,this.H=Zr[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Wr[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Wr[d-15],m=Wr[d-2],w=ar(h,7)^ar(h,18)^h>>>3,E=ar(m,17)^ar(m,19)^m>>>10;Wr[d]=E+Wr[d-7]+w+Wr[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const h=ar(a,6)^ar(a,11)^ar(a,25),m=f+h+hv(a,c,u)+Iv[d]+Wr[d]|0,E=(ar(r,2)^ar(r,13)^ar(r,22))+pv(r,s,i)|0;f=u,u=c,c=a,a=o+m|0,o=i,i=s,s=r,r=m+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){xs(Wr)}destroy(){this.set(0,0,0,0,0,0,0,0),xs(this.buffer)}}const jm=(()=>zm(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),kv=(()=>jm[0])(),Mv=(()=>jm[1])(),Jr=new Uint32Array(80),Yr=new Uint32Array(80);class Dm extends Fm{constructor(e=64){super(128,e,16,!1),this.Ah=Gt[0]|0,this.Al=Gt[1]|0,this.Bh=Gt[2]|0,this.Bl=Gt[3]|0,this.Ch=Gt[4]|0,this.Cl=Gt[5]|0,this.Dh=Gt[6]|0,this.Dl=Gt[7]|0,this.Eh=Gt[8]|0,this.El=Gt[9]|0,this.Fh=Gt[10]|0,this.Fl=Gt[11]|0,this.Gh=Gt[12]|0,this.Gl=Gt[13]|0,this.Hh=Gt[14]|0,this.Hl=Gt[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:d,Fl:h,Gh:m,Gl:w,Hh:E,Hl:_}=this;return[e,n,r,s,i,o,a,c,u,f,d,h,m,w,E,_]}set(e,n,r,s,i,o,a,c,u,f,d,h,m,w,E,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=h|0,this.Gh=m|0,this.Gl=w|0,this.Hh=E|0,this.Hl=_|0}process(e,n){for(let M=0;M<16;M++,n+=4)Jr[M]=e.getUint32(n),Yr[M]=e.getUint32(n+=4);for(let M=16;M<80;M++){const U=Jr[M-15]|0,$=Yr[M-15]|0,j=xi(U,$,1)^xi(U,$,8)^E0(U,$,7),z=Ei(U,$,1)^Ei(U,$,8)^S0(U,$,7),H=Jr[M-2]|0,R=Yr[M-2]|0,q=xi(H,R,19)^fc(H,R,61)^E0(H,R,6),L=Ei(H,R,19)^lc(H,R,61)^S0(H,R,6),V=Ev(z,L,Yr[M-7],Yr[M-16]),x=Sv(V,j,q,Jr[M-7],Jr[M-16]);Jr[M]=x|0,Yr[M]=V|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:d,El:h,Fh:m,Fl:w,Gh:E,Gl:_,Hh:k,Hl:O}=this;for(let M=0;M<80;M++){const U=xi(d,h,14)^xi(d,h,18)^fc(d,h,41),$=Ei(d,h,14)^Ei(d,h,18)^lc(d,h,41),j=d&m^~d&E,z=h&w^~h&_,H=_v(O,$,z,Mv[M],Yr[M]),R=Av(H,k,U,j,kv[M],Jr[M]),q=H|0,L=xi(r,s,28)^fc(r,s,34)^fc(r,s,39),V=Ei(r,s,28)^lc(r,s,34)^lc(r,s,39),x=r&i^r&a^i&a,l=s&o^s&c^o&c;k=E|0,O=_|0,E=m|0,_=w|0,m=d|0,w=h|0,{h:d,l:h}=Sr(u|0,f|0,R|0,q|0),u=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const p=vv(q,V,l);r=xv(p,R,L,x),s=p|0}({h:r,l:s}=Sr(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Sr(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Sr(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Sr(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l:h}=Sr(this.Eh|0,this.El|0,d|0,h|0),{h:m,l:w}=Sr(this.Fh|0,this.Fl|0,m|0,w|0),{h:E,l:_}=Sr(this.Gh|0,this.Gl|0,E|0,_|0),{h:k,l:O}=Sr(this.Hh|0,this.Hl|0,k|0,O|0),this.set(r,s,i,o,a,c,u,f,d,h,m,w,E,_,k,O)}roundClean(){xs(Jr,Yr)}destroy(){xs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Rv extends Dm{constructor(){super(48),this.Ah=Kt[0]|0,this.Al=Kt[1]|0,this.Bh=Kt[2]|0,this.Bl=Kt[3]|0,this.Ch=Kt[4]|0,this.Cl=Kt[5]|0,this.Dh=Kt[6]|0,this.Dl=Kt[7]|0,this.Eh=Kt[8]|0,this.El=Kt[9]|0,this.Fh=Kt[10]|0,this.Fl=Kt[11]|0,this.Gh=Kt[12]|0,this.Gl=Kt[13]|0,this.Hh=Kt[14]|0,this.Hl=Kt[15]|0}}const oo=Ru(()=>new Bv),Cv=Ru(()=>new Dm),Pk=Ru(()=>new Rv),yl=oo;function Tv(t,e){const n=e||"hex",r=yl(nr(t,{strict:!1})?vo(t):t);return n==="bytes"?r:ln(r)}function Pv(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=Tv(e,"bytes");return s.set([n],0),r==="bytes"?s:kt(s)}function qm(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(Pv({commitment:i,to:r,version:n}));return s}const _0=6,Vm=32,$d=4096,Hm=Vm*$d,A0=Hm*_0-1-1*$d*_0,Km=1;class Ov extends Y{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Gm extends Y{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class $v extends Y{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Nv extends Y{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${Km}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Uv(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Mn(t.data):t.data,r=Je(n);if(!r)throw new Gm;if(r>A0)throw new Ov({maxSize:A0,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Cd(new Uint8Array(Hm));let c=0;for(;c<$d;){const u=n.slice(o,o+(Vm-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>kt(a.bytes))}function Zm(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??Uv({data:e,to:r}),i=t.commitments??Td({blobs:s,kzg:n,to:r}),o=t.proofs??Pd({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}let en=class extends Y{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};class gl extends Y{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Wm extends Y{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Cu extends Y{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class Pi extends Y{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Pi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Js extends Y{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Xn(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class bl extends Y{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Xn(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(bl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class wl extends Y{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(wl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class vl extends Y{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(vl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class xl extends Y{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(xl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class El extends Y{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(El,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Sl extends Y{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Sl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class _l extends Y{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(_l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Al extends Y{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Al,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Fo extends Y{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Xn(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Xn(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Fo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Tu extends Y{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}let Pu=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Lv=BigInt(0),Co=BigInt(1),Fv=BigInt(2),zv=BigInt(7),jv=BigInt(256),Dv=BigInt(113),Jm=[],Ym=[],Qm=[];for(let t=0,e=Co,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Jm.push(2*(5*r+n)),Ym.push((t+1)*(t+2)/2%64);let s=Lv;for(let i=0;i<7;i++)e=(e<<Co^(e>>zv)*Dv)%jv,e&Fv&&(s^=Co<<(Co<<BigInt(i))-Co);Qm.push(s)}const Xm=zm(Qm,!0),qv=Xm[0],Vv=Xm[1],I0=(t,e,n)=>n>32?bv(t,e,n):yv(t,e,n),B0=(t,e,n)=>n>32?wv(t,e,n):gv(t,e,n);function Hv(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],d=I0(u,f,1)^n[a],h=B0(u,f,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=d,t[o+m+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Ym[o],c=I0(s,i,a),u=B0(s,i,a),f=Jm[o];s=t[f],i=t[f+1],t[f]=c,t[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=qv[r],t[1]^=Vv[r]}xs(n)}class Nd extends Od{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,so(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=av(this.state)}clone(){return this._cloneInto()}keccak(){w0(this.state32),Hv(this.state32,this.rounds),w0(this.state32),this.posOut=0,this.pos=0}update(e){io(this),e=Mu(e),Ht(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){io(this,!1),Ht(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return so(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Um(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xs(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Nd(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Kv=(t,e,n)=>Ru(()=>new Nd(e,t,n)),ey=(()=>Kv(1,136,256/8))();function Dt(t,e){const n=e||"hex",r=ey(nr(t,{strict:!1})?vo(t):t);return n==="bytes"?r:ln(r)}const Pf=new Pu(8192);function Ou(t,e){if(Pf.has(`${t}.${e}`))return Pf.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Dt(Vs(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Pf.set(`${t}.${e}`,i),i}function qt(t,e){if(!Mt(t,{strict:!1}))throw new en({address:t});return Ou(t,e)}const Gv=/^0x[a-fA-F0-9]{40}$/,Of=new Pu(8192);function Mt(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Of.has(r))return Of.get(r);const s=(()=>Gv.test(t)?t.toLowerCase()===t?!0:n?Ou(t)===t:!0:!1)();return Of.set(r,s),s}function Ys(t,e,n,{strict:r}={}){return nr(t,{strict:!1})?Tc(t,e,n,{strict:r}):ry(t,e,n,{strict:r})}function ty(t,e){if(typeof e=="number"&&e>0&&e>Je(t)-1)throw new Sm({offset:e,position:"start",size:Je(t)})}function ny(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Je(t)!==n-e)throw new Sm({offset:n,position:"end",size:Je(t)})}function ry(t,e,n,{strict:r}={}){ty(t,e);const s=t.slice(e,n);return r&&ny(s,e,n),s}function Tc(t,e,n,{strict:r}={}){ty(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&ny(s,e,n),s}function Zv(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,s=n.address;if(!Mt(s))throw new en({address:s});if(r<0)throw new Cu({chainId:r})}Ud(t)}function Wv(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new Gm;for(const n of e){const r=Je(n),s=Rn(Ys(n,0,1));if(r!==32)throw new $v({hash:n,size:r});if(s!==Km)throw new Nv({hash:n,version:s})}}Ud(t)}function Ud(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=t;if(e<=0)throw new Cu({chainId:e});if(s&&!Mt(s))throw new en({address:s});if(r&&r>Iu)throw new Js({maxFeePerGas:r});if(n&&r&&n>r)throw new Fo({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Jv(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(e<=0)throw new Cu({chainId:e});if(i&&!Mt(i))throw new en({address:i});if(n||s)throw new Y("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Iu)throw new Js({maxFeePerGas:r})}function Yv(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(i&&!Mt(i))throw new en({address:i});if(typeof e<"u"&&e<=0)throw new Cu({chainId:e});if(n||s)throw new Y("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Iu)throw new Js({maxFeePerGas:r})}function sy(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new rv({transaction:t})}function $u(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:s}=t[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new sv({storageKey:s[i]});if(!Mt(r,{strict:!1}))throw new en({address:r});e.push([r,s])}return e}function Qv(t,e){const n=sy(t);return n==="eip1559"?tx(t,e):n==="eip2930"?nx(t,e):n==="eip4844"?ex(t,e):n==="eip7702"?Xv(t,e):rx(t,e)}function Xv(t,e){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=t;Zv(t);const h=$u(f),m=ov(n);return Pn(["0x04",vs([ee(r),i?ee(i):"0x",u?ee(u):"0x",c?ee(c):"0x",s?ee(s):"0x",o??"0x",a?ee(a):"0x",d??"0x",h,m,...ja(t,e)])])}function ex(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=t;Wv(t);let h=t.blobVersionedHashes,m=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof m>"u")){const M=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(j=>kt(j)),U=t.kzg,$=Td({blobs:M,kzg:U});if(typeof h>"u"&&(h=qm({commitments:$})),typeof m>"u"){const j=Pd({blobs:M,commitments:$,kzg:U});m=Zm({blobs:M,commitments:$,proofs:j})}}const w=$u(f),E=[ee(n),s?ee(s):"0x",u?ee(u):"0x",c?ee(c):"0x",r?ee(r):"0x",i??"0x",o?ee(o):"0x",d??"0x",w,a?ee(a):"0x",h??[],...ja(t,e)],_=[],k=[],O=[];if(m)for(let M=0;M<m.length;M++){const{blob:U,commitment:$,proof:j}=m[M];_.push(U),k.push($),O.push(j)}return Pn(["0x03",vs(m?[E,_,k,O]:E)])}function tx(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=t;Ud(t);const d=$u(u),h=[ee(n),s?ee(s):"0x",c?ee(c):"0x",a?ee(a):"0x",r?ee(r):"0x",i??"0x",o?ee(o):"0x",f??"0x",d,...ja(t,e)];return Pn(["0x02",vs(h)])}function nx(t,e){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=t;Jv(t);const f=$u(c),d=[ee(n),i?ee(i):"0x",u?ee(u):"0x",r?ee(r):"0x",o??"0x",a?ee(a):"0x",s??"0x",f,...ja(t,e)];return Pn(["0x01",vs(d)])}function rx(t,e){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;Yv(t);let u=[i?ee(i):"0x",c?ee(c):"0x",r?ee(r):"0x",o??"0x",a?ee(a):"0x",s??"0x"];if(e){const f=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const m=27n+(e.v===27n?0n:1n);if(e.v!==m)throw new nv({v:e.v});return m})(),d=kn(e.r),h=kn(e.s);u=[...u,ee(f),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else n>0&&(u=[...u,ee(n),"0x","0x"]);return vs(u)}function ja(t,e){const n=e??t,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=kn(n.r),o=kn(n.s);return[(()=>typeof s=="number"?s?ee(1):"0x":r===0n?"0x":r===1n?ee(1):r===27n?"0x":ee(1))(),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}const sx={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},ix={block:Vw({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=_u(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?$t(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:Dw({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?$t(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:Hw({format(t){return{l1GasPrice:t.l1GasPrice?$t(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?$t(t.l1GasUsed):null,l1Fee:t.l1Fee?$t(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function ox(t,e){return ux(t)?cx(t):Qv(t,e)}const ax={transaction:ox};function cx(t){fx(t);const{sourceHash:e,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=t,u=[e,r,a??"0x",o?ln(o):"0x",c?ln(c):"0x",s?ln(s):"0x",i?"0x1":"0x",n??"0x"];return Pn(["0x7e",vs(u)])}function ux(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function fx(t){const{from:e,to:n}=t;if(e&&!Mt(e))throw new en({address:e});if(n&&!Mt(n))throw new en({address:n})}const Pc={blockTime:2e3,contracts:sx,formatters:ix,serializers:ax},To=1,Oc=Su({...Pc,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Pc.contracts,disputeGameFactory:{[To]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[To]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[To]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[To]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:To});({...Oc});const Po=11155111,zo=Su({...Pc,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Pc.contracts,disputeGameFactory:{[Po]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Po]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Po]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Po]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Po});({...zo});function xo({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new gl({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new gl({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Cn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class lx extends Y{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}const iy={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},oy={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},dx={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function sr(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Sx(t.type);return`${t.name}(${Nu(t.inputs,{includeName:e})})`}function Nu(t,{includeName:e=!1}={}){return t?t.map(n=>hx(n,{includeName:e})).join(e?", ":","):""}function hx(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Nu(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class px extends Y{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class k0 extends Y{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class ay extends Y{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Nu(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Da extends Y{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class mx extends Y{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class yx extends Y{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Je(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class cy extends Y{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class gx extends Y{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class M0 extends Y{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class uy extends Y{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class bx extends Y{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class fy extends Y{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class R0 extends Y{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ao extends Y{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ly extends Y{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class wx extends Y{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class vx extends Y{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${sr(e.abiItem)}\`, and`,`\`${n.type}\` in \`${sr(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let dy=class extends Y{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class jo extends Y{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Nu(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class Uu extends Y{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${sr(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class xx extends Y{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Ex extends Y{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let hy=class extends Y{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Sx extends Y{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class _x extends Y{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}const Ax=t=>Dt(vo(t));function Ix(t){return Ax(t)}const Bx="1.0.8";let On=class Il extends Error{constructor(e,n={}){var o;const r=n.cause instanceof Il?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Il&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Bx}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Hr(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const py=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,my=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yy=/^\(.+?\).*?$/,C0=/^tuple(?<array>(\[(\d*)\])*)$/;function Bl(t){let e=t.type;if(C0.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=Bl(i),s<n-1&&(e+=", ")}const r=Hr(C0,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,Bl({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Oo(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=Bl(s),r!==n-1&&(e+=", ")}return e}function $c(t){var e;return t.type==="function"?`function ${t.name}(${Oo(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Oo(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Oo(t.inputs)})`:t.type==="error"?`error ${t.name}(${Oo(t.inputs)})`:t.type==="constructor"?`constructor(${Oo(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const gy=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function kx(t){return gy.test(t)}function Mx(t){return Hr(gy,t)}const by=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Rx(t){return by.test(t)}function Cx(t){return Hr(by,t)}const wy=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Tx(t){return wy.test(t)}function Px(t){return Hr(wy,t)}const vy=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ld(t){return vy.test(t)}function Ox(t){return Hr(vy,t)}const xy=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $x(t){return xy.test(t)}function Nx(t){return Hr(xy,t)}const Ey=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ux(t){return Ey.test(t)}function Lx(t){return Hr(Ey,t)}const Fx=/^receive\(\) external payable$/;function zx(t){return Fx.test(t)}const jx=new Set(["indexed"]),kl=new Set(["calldata","memory","storage"]);class Dx extends On{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class qx extends On{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Vx extends On{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Hx extends On{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Kx extends On{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Gx extends On{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Zx extends On{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Wx extends On{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Eo extends On{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Jx extends On{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Yx extends On{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Qx extends On{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Xx extends On{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function e2(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const $f=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ml(t,e={}){if(Tx(t))return t2(t,e);if(Rx(t))return n2(t,e);if(kx(t))return r2(t,e);if($x(t))return s2(t,e);if(Ux(t))return i2(t);if(zx(t))return{type:"receive",stateMutability:"payable"};throw new Jx({signature:t})}function t2(t,e={}){const n=Px(t);if(!n)throw new Eo({signature:t,type:"function"});const r=Yn(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Qs(r[a],{modifiers:kl,structs:e,type:"function"}));const o=[];if(n.returns){const a=Yn(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Qs(a[u],{modifiers:kl,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function n2(t,e={}){const n=Cx(t);if(!n)throw new Eo({signature:t,type:"event"});const r=Yn(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Qs(r[o],{modifiers:jx,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function r2(t,e={}){const n=Mx(t);if(!n)throw new Eo({signature:t,type:"error"});const r=Yn(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Qs(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function s2(t,e={}){const n=Nx(t);if(!n)throw new Eo({signature:t,type:"constructor"});const r=Yn(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Qs(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function i2(t){const e=Lx(t);if(!e)throw new Eo({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const o2=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,a2=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,c2=/^u?int$/;function Qs(t,e){var d,h;const n=e2(t,e==null?void 0:e.type,e==null?void 0:e.structs);if($f.has(n))return $f.get(n);const r=yy.test(t),s=Hr(r?a2:o2,t);if(!s)throw new Hx({param:t});if(s.name&&f2(s.name))throw new Kx({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(r){c="tuple";const m=Yn(s.type),w=[],E=m.length;for(let _=0;_<E;_++)w.push(Qs(m[_],{structs:a}));u={components:w}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(c2.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!Sy(c))throw new Vx({type:c});if(s.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new Gx({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(kl.has(s.modifier)&&!l2(c,!!s.array))throw new Zx({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return $f.set(n,f),f}function Yn(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?Yn(a,[...e,n.trim()]):Yn(a,e,`${n}${o}`,r);case"(":return Yn(a,e,`${n}${o}`,r+1);case")":return Yn(a,e,`${n}${o}`,r-1);default:return Yn(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new Xx({current:n,depth:r});return e.push(n.trim()),e}function Sy(t){return t==="address"||t==="bool"||t==="function"||t==="string"||py.test(t)||my.test(t)}const u2=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function f2(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||py.test(t)||my.test(t)||u2.test(t)}function l2(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function _y(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Ld(a))continue;const c=Ox(a);if(!c)throw new Eo({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let h=0;h<d;h++){const w=u[h].trim();if(!w)continue;const E=Qs(w,{type:"struct"});f.push(E)}if(!f.length)throw new Yx({signature:a});e[c.name]=f}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Ay(c,e)}return r}const d2=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ay(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(yy.test(o.type))r.push(o);else{const c=Hr(d2,o.type);if(!(c!=null&&c.type))throw new Wx({abiParameter:o});const{array:u,type:f}=c;if(f in e){if(n.has(f))throw new Qx({type:f});r.push({...o,type:`tuple${u??""}`,components:Ay(e[f]??[],e,new Set([...n,f]))})}else if(Sy(f))r.push(o);else throw new qx({type:f})}}return r}function Iy(t){const e=_y(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];Ld(i)||n.push(Ml(i,e))}return n}function T0(t){let e;if(typeof t=="string")e=Ml(t);else{const n=_y(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!Ld(i)){e=Ml(i,n);break}}}if(!e)throw new Dx({signature:t});return e}function h2(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new Y("Unable to normalize signature.");return s}const p2=t=>{const e=(()=>typeof t=="string"?t:$c(t))();return h2(e)};function By(t){return Ix(p2(t))}const qa=t=>Ys(By(t),0,4);function m2(t,e={}){typeof e.size<"u"&&Kn(t,{size:e.size});const n=kt(t,e);return $t(n,e)}function y2(t,e={}){let n=t;if(typeof e.size<"u"&&(Kn(n,{size:e.size}),n=kn(n)),n.length>1||n[0]>1)throw new Cw(n);return!!n[0]}function Ur(t,e={}){typeof e.size<"u"&&Kn(t,{size:e.size});const n=kt(t,e);return Rn(n,e)}function g2(t,e={}){let n=t;return typeof e.size<"u"&&(Kn(n,{size:e.size}),n=kn(n,{dir:"right"})),new TextDecoder().decode(n)}const b2=/^(.*)\[([0-9]*)\]$/,ky=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Fd=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Kr(t,e){if(t.length!==e.length)throw new cy({expectedLength:t.length,givenLength:e.length});const n=w2({params:t,values:e}),r=jd(n);return r.length===0?"0x":r}function w2({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(zd({param:t[r],value:e[r]}));return n}function zd({param:t,value:e}){const n=Dd(t.type);if(n){const[r,s]=n;return x2(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return I2(e,{param:t});if(t.type==="address")return v2(e);if(t.type==="bool")return S2(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=Fd.exec(t.type)??[];return _2(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return E2(e,{param:t});if(t.type==="string")return A2(e);throw new xx(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function jd(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Je(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(ee(e+s,{size:32})),r.push(a),s+=Je(a)):n.push(a)}return rr([...n,...r])}function v2(t){if(!Mt(t))throw new en({address:t});return{dynamic:!1,encoded:ys(t.toLowerCase())}}function x2(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new hy(t);if(!r&&t.length!==e)throw new mx({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=zd({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=jd(i);if(r){const a=ee(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?rr([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:rr(i.map(({encoded:o})=>o))}}function E2(t,{param:e}){const[,n]=e.type.split("bytes"),r=Je(t);if(!n){let s=t;return r%32!==0&&(s=ys(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:rr([ys(ee(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new yx({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:ys(t,{dir:"right"})}}function S2(t){if(typeof t!="boolean")throw new Y(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ys(kd(t))}}function _2(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new Em({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ee(t,{size:32,signed:e})}}function A2(t){const e=ro(t),n=Math.ceil(Je(e)/32),r=[];for(let s=0;s<n;s++)r.push(ys(Ys(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:rr([ys(ee(Je(e),{size:32})),...r])}}function I2(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=zd({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?jd(r):rr(r.map(({encoded:s})=>s))}}function Dd(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Va(t,e){const n=typeof e=="string"?Mn(e):e,r=Cd(n);if(Je(n)===0&&t.length>0)throw new Da;if(Je(e)&&Je(e)<32)throw new ay({data:typeof e=="string"?e:kt(e),params:t,size:Je(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,u]=Li(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Li(t,e,{staticPosition:n}){const r=Dd(e.type);if(r){const[s,i]=r;return k2(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return T2(t,e,{staticPosition:n});if(e.type==="address")return B2(t);if(e.type==="bool")return M2(t);if(e.type.startsWith("bytes"))return R2(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return C2(t,e);if(e.type==="string")return P2(t,{staticPosition:n});throw new Ex(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const P0=32,Rl=32;function B2(t){const e=t.readBytes(32);return[Ou(kt(ry(e,-20))),32]}function k2(t,e,{length:n,staticPosition:r}){if(!n){const o=Ur(t.readBytes(Rl)),a=r+o,c=a+P0;t.setPosition(a);const u=Ur(t.readBytes(P0)),f=Do(e);let d=0;const h=[];for(let m=0;m<u;++m){t.setPosition(c+(f?m*32:d));const[w,E]=Li(t,e,{staticPosition:c});d+=E,h.push(w)}return t.setPosition(r+32),[h,32]}if(Do(e)){const o=Ur(t.readBytes(Rl)),a=r+o,c=[];for(let u=0;u<n;++u){t.setPosition(a+u*32);const[f]=Li(t,e,{staticPosition:a});c.push(f)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Li(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function M2(t){return[y2(t.readBytes(32),{size:32}),32]}function R2(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Ur(t.readBytes(32));t.setPosition(n+o);const a=Ur(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[kt(c),32]}return[kt(t.readBytes(Number.parseInt(s),32)),32]}function C2(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?m2(s,{signed:n}):Ur(s,{signed:n}),32]}function T2(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Do(e)){const o=Ur(t.readBytes(Rl)),a=n+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(a+i);const[f,d]=Li(t,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=f}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=Li(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function P2(t,{staticPosition:e}){const n=Ur(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Ur(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=g2(kn(i));return t.setPosition(e+32),[o,32]}function Do(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Do);const n=Dd(t.type);return!!(n&&Do({...t,type:n[1]}))}function My(t){const{abi:e,data:n}=t,r=Ys(n,0,4);if(r==="0x")throw new Da;const i=[...e||[],oy,dx].find(o=>o.type==="error"&&r===qa(sr(o)));if(!i)throw new uy(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Va(i.inputs,Ys(n,4)):void 0,errorName:i.name}}const Bt=(t,e,n)=>JSON.stringify(t,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(r,i):i},n);function Ry({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Bt(e[i]):e[i]}`).join(", ")})`}const Lu=By;function fi(t){const{abi:e,args:n=[],name:r}=t,s=nr(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?qa(a)===r:a.type==="event"?Lu(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Cl(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=Cy(a.inputs,o.inputs,n);if(u)throw new vx({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function Cl(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Mt(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Cl(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Cl(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Cy(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Cy(s.components,i.components,n[r]);const o=[s.type,i.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Mt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Mt(n[r],{strict:!1}):!1)())return o}}class O2 extends Y{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class $2 extends Y{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function O0(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function N2(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=O0(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=O0(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}const U2=t=>t,Ha=t=>t;class Ty extends Y{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:h,stateOverride:m}){var _;const w=n?Cn(n):void 0;let E=Bu({from:w==null?void 0:w.address,to:d,value:typeof h<"u"&&`${Pm(h)} ${((_=s==null?void 0:s.nativeCurrency)==null?void 0:_.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Xn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Xn(u)} gwei`,nonce:f});m&&(E+=`
${N2(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class L2 extends Y{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=fi({abi:n,args:r,name:o}),u=c?Ry({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?sr(c,{includeName:!0}):void 0,d=Bu({address:s&&U2(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class Tl extends Y{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=My({abi:e,data:n});const{abiItem:f,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[m]=h;c=iy[m]}else{const m=f?sr(f,{includeName:!0}):void 0,w=f&&h?Ry({abiItem:f,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",w&&w!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof uy&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class F2 extends Y{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class z2 extends Y{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Fu extends Y{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Hs extends Y{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Ha(o)}`,e&&`Request body: ${Bt(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class qd extends Y{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ha(r)}`,`Request body: ${Bt(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class $0 extends Y{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ha(n)}`,`Request body: ${Bt(e)}`],name:"TimeoutError"})}}const j2=-1;class xn extends Y{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof qd?e.code:n??j2}}let $n=class extends xn{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class qo extends xn{constructor(e){super(e,{code:qo.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Vo extends xn{constructor(e){super(e,{code:Vo.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Vo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ho extends xn{constructor(e,{method:n}={}){super(e,{code:Ho.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ko extends xn{constructor(e){super(e,{code:Ko.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Xs extends xn{constructor(e){super(e,{code:Xs.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Xs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ei extends xn{constructor(e){super(e,{code:ei.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Go extends xn{constructor(e){super(e,{code:Go.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Go,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class gs extends xn{constructor(e){super(e,{code:gs.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(gs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Zo extends xn{constructor(e){super(e,{code:Zo.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ms extends xn{constructor(e,{method:n}={}){super(e,{code:Ms.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ms,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class co extends xn{constructor(e){super(e,{code:co.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(co,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Wo extends xn{constructor(e){super(e,{code:Wo.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let it=class Py extends $n{constructor(e){super(e,{code:Py.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Jo extends $n{constructor(e){super(e,{code:Jo.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Yo extends $n{constructor(e,{method:n}={}){super(e,{code:Yo.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Qo extends $n{constructor(e){super(e,{code:Qo.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let Pl=class Oy extends $n{constructor(e){super(e,{code:Oy.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(Pl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class vn extends $n{constructor(e){super(e,{code:vn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Xo extends $n{constructor(e){super(e,{code:Xo.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Xo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ea extends $n{constructor(e){super(e,{code:ea.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ta extends $n{constructor(e){super(e,{code:ta.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class na extends $n{constructor(e){super(e,{code:na.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(na,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ra extends $n{constructor(e){super(e,{code:ra.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class sa extends $n{constructor(e){super(e,{code:sa.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ia extends $n{constructor(e){super(e,{code:ia.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class D2 extends xn{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Vd(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Y?t.walk(s=>(s==null?void 0:s.code)===Pi.code):t;return r instanceof Y?new Pi({cause:t,message:r.details}):Pi.nodeMessage.test(n)?new Pi({cause:t,message:t.details}):Js.nodeMessage.test(n)?new Js({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):bl.nodeMessage.test(n)?new bl({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):wl.nodeMessage.test(n)?new wl({cause:t,nonce:e==null?void 0:e.nonce}):vl.nodeMessage.test(n)?new vl({cause:t,nonce:e==null?void 0:e.nonce}):xl.nodeMessage.test(n)?new xl({cause:t,nonce:e==null?void 0:e.nonce}):El.nodeMessage.test(n)?new El({cause:t}):Sl.nodeMessage.test(n)?new Sl({cause:t,gas:e==null?void 0:e.gas}):_l.nodeMessage.test(n)?new _l({cause:t,gas:e==null?void 0:e.gas}):Al.nodeMessage.test(n)?new Al({cause:t}):Fo.nodeMessage.test(n)?new Fo({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Tu({cause:t})}function $y(t,{docsPath:e,...n}){const r=(()=>{const s=Vd(t,n);return s instanceof Tu?t:s})();return new Ty(r,{docsPath:e,...n})}function Hd(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}function Ka(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Cn(e):void 0;if(o&&!Mt(o.address))throw new en({address:o.address});if(i&&!Mt(i))throw new en({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new tv;if(r&&r>Iu)throw new Js({maxFeePerGas:r});if(s&&r&&s>r)throw new Fo({maxFeePerGas:r,maxPriorityFeePerGas:s})}const Kd={address:null,apiKey:null,chain:zo,config:{analytics:!0,analyticsUrl:null,appearance:{name:null,logo:null,mode:null,theme:null},paymaster:null,wallet:{display:null,termsUrl:null,privacyUrl:null,supportedWallets:{rabby:!1,trust:!1,frame:!1}}},rpcUrl:null,schemaId:null,projectId:null,sessionId:null},Nc=t=>Kd[t],q2=t=>(Object.assign(Kd,t),Nc);var So=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ti=typeof window>"u"||"Deno"in globalThis;function sn(){}function V2(t,e){return typeof t=="function"?t(e):t}function Ol(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ny(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bs(t,e){return typeof t=="function"?t(e):t}function jn(t,e){return typeof t=="function"?t(e):t}function N0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Gd(o,e.options))return!1}else if(!oa(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function U0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ni(e.options.mutationKey)!==ni(i))return!1}else if(!oa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Gd(t,e){return((e==null?void 0:e.queryKeyHashFn)||ni)(t)}function ni(t){return JSON.stringify(t,(e,n)=>$l(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function oa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>oa(t[n],e[n])):!1}function Uy(t,e){if(t===e)return t;const n=L0(t)&&L0(e);if(n||$l(t)&&$l(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<o;f++){const d=n?f:i[f];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=Uy(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Uc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function L0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $l(t){if(!F0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F0(t){return Object.prototype.toString.call(t)==="[object Object]"}function H2(t){return new Promise(e=>{setTimeout(e,t)})}function Nl(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Uy(t,e):e}function K2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function G2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Zd=Symbol();function Ly(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Zd?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Fy(t,e){return typeof t=="function"?t(...e):!!t}var $s,rs,qi,cm,Z2=(cm=class extends So{constructor(){super();ue(this,$s,void 0);ue(this,rs,void 0);ue(this,qi,void 0);ie(this,qi,e=>{if(!ti&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,rs)||this.setEventListener(F(this,qi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,rs))==null||e.call(this),ie(this,rs,void 0))}setEventListener(e){var n;ie(this,qi,e),(n=F(this,rs))==null||n.call(this),ie(this,rs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,$s)!==e&&(ie(this,$s,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,$s)=="boolean"?F(this,$s):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$s=new WeakMap,rs=new WeakMap,qi=new WeakMap,cm),Wd=new Z2,Vi,ss,Hi,um,W2=(um=class extends So{constructor(){super();ue(this,Vi,!0);ue(this,ss,void 0);ue(this,Hi,void 0);ie(this,Hi,e=>{if(!ti&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,ss)||this.setEventListener(F(this,Hi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ss))==null||e.call(this),ie(this,ss,void 0))}setEventListener(e){var n;ie(this,Hi,e),(n=F(this,ss))==null||n.call(this),ie(this,ss,e(this.setOnline.bind(this)))}setOnline(e){F(this,Vi)!==e&&(ie(this,Vi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,Vi)}},Vi=new WeakMap,ss=new WeakMap,Hi=new WeakMap,um),Lc=new W2;function Ul(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function J2(t){return Math.min(1e3*2**t,3e4)}function zy(t){return(t??"online")==="online"?Lc.isOnline():!0}var jy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dy(t){let e=!1,n=0,r;const s=Ul(),i=()=>s.status!=="pending",o=E=>{var _;i()||(h(new jy(E)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>Wd.isFocused()&&(t.networkMode==="always"||Lc.isOnline())&&t.canRun(),f=()=>zy(t.networkMode)&&t.canRun(),d=E=>{i()||(r==null||r(),s.resolve(E))},h=E=>{i()||(r==null||r(),s.reject(E))},m=()=>new Promise(E=>{var _;r=k=>{(i()||u())&&E(k)},(_=t.onPause)==null||_.call(t)}).then(()=>{var E;r=void 0,i()||(E=t.onContinue)==null||E.call(t)}),w=()=>{if(i())return;let E;const _=n===0?t.initialPromise:void 0;try{E=_??t.fn()}catch(k){E=Promise.reject(k)}Promise.resolve(E).then(d).catch(k=>{var j;if(i())return;const O=t.retry??(ti?0:3),M=t.retryDelay??J2,U=typeof M=="function"?M(n,k):M,$=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,k);if(e||!$){h(k);return}n++,(j=t.onFail)==null||j.call(t,n,k),H2(U).then(()=>u()?void 0:m()).then(()=>{e?h(k):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?w():m().then(w),s)}}var Y2=t=>setTimeout(t,0);function Q2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Y2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ct=Q2(),Ns,fm,qy=(fm=class{constructor(){ue(this,Ns,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ol(this.gcTime)&&ie(this,Ns,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ti?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ns)&&(clearTimeout(F(this,Ns)),ie(this,Ns,void 0))}},Ns=new WeakMap,fm),Ki,Gi,zn,Us,Pt,ka,Ls,Wn,Ar,lm,X2=(lm=class extends qy{constructor(e){super();ue(this,Wn);ue(this,Ki,void 0);ue(this,Gi,void 0);ue(this,zn,void 0);ue(this,Us,void 0);ue(this,Pt,void 0);ue(this,ka,void 0);ue(this,Ls,void 0);ie(this,Ls,!1),ie(this,ka,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,Us,e.client),ie(this,zn,F(this,Us).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,Ki,e6(this.options)),this.state=e.state??F(this,Ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,Pt))==null?void 0:e.promise}setOptions(e){this.options={...F(this,ka),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,zn).remove(this)}setData(e,n){const r=Nl(this.state.data,e,this.options);return Be(this,Wn,Ar).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Be(this,Wn,Ar).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=F(this,Pt))==null?void 0:r.promise;return(s=F(this,Pt))==null||s.cancel(e),n?n.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Ki))}isActive(){return this.observers.some(e=>jn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ny(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Pt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Pt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,zn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(F(this,Pt)&&(F(this,Ls)?F(this,Pt).cancel({revert:!0}):F(this,Pt).cancelRetry()),this.scheduleGc()),F(this,zn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Wn,Ar).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,f,d,h,m,w,E,_,k,O,M;if(this.state.fetchStatus!=="idle"&&((c=F(this,Pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,Pt))return F(this,Pt).continueRetry(),F(this,Pt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const U=this.observers.find($=>$.options.queryFn);U&&this.setOptions(U.options)}const r=new AbortController,s=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(ie(this,Ls,!0),r.signal)})},i=()=>{const U=Ly(this.options,n),j=(()=>{const z={client:F(this,Us),queryKey:this.queryKey,meta:this.meta};return s(z),z})();return ie(this,Ls,!1),this.options.persister?this.options.persister(U,j,this):U(j)},a=(()=>{const U={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,Us),state:this.state,fetchFn:i};return s(U),U})();(u=this.options.behavior)==null||u.onFetch(a,this),ie(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Be(this,Wn,Ar).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),ie(this,Pt,Dy({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(U,$)=>{Be(this,Wn,Ar).call(this,{type:"failed",failureCount:U,error:$})},onPause:()=>{Be(this,Wn,Ar).call(this,{type:"pause"})},onContinue:()=>{Be(this,Wn,Ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const U=await F(this,Pt).start();if(U===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(U),(m=(h=F(this,zn).config).onSuccess)==null||m.call(h,U,this),(E=(w=F(this,zn).config).onSettled)==null||E.call(w,U,this.state.error,this),U}catch(U){if(U instanceof jy){if(U.silent)return F(this,Pt).promise;if(U.revert)return this.setState({...F(this,Gi),fetchStatus:"idle"}),this.state.data}throw Be(this,Wn,Ar).call(this,{type:"error",error:U}),(k=(_=F(this,zn).config).onError)==null||k.call(_,U,this),(M=(O=F(this,zn).config).onSettled)==null||M.call(O,this.state.data,U,this),U}finally{this.scheduleGc()}}},Ki=new WeakMap,Gi=new WeakMap,zn=new WeakMap,Us=new WeakMap,Pt=new WeakMap,ka=new WeakMap,Ls=new WeakMap,Wn=new WeakSet,Ar=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Vy(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Gi,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,zn).notify({query:this,type:"updated",action:e})})},lm);function Vy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function e6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,dm,t6=(dm=class extends So{constructor(e={}){super();ue(this,ur,void 0);this.config=e,ie(this,ur,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Gd(s,n);let o=this.get(i);return o||(o=new X2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,ur).has(e.queryHash)||(F(this,ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,ur).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,ur).get(e)}getAll(){return[...F(this,ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>N0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>N0(e,r)):n}notify(e){Ct.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ur=new WeakMap,dm),fr,tn,Fs,lr,Xr,hm,n6=(hm=class extends qy{constructor(e){super();ue(this,lr);ue(this,fr,void 0);ue(this,tn,void 0);ue(this,Fs,void 0);this.mutationId=e.mutationId,ie(this,tn,e.mutationCache),ie(this,fr,[]),this.state=e.state||Hy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,fr).includes(e)||(F(this,fr).push(e),this.clearGcTimeout(),F(this,tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,fr,F(this,fr).filter(n=>n!==e)),this.scheduleGc(),F(this,tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,fr).length||(this.state.status==="pending"?this.scheduleGc():F(this,tn).remove(this))}continue(){var e;return((e=F(this,Fs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,u,f,d,h,m,w,E,_,k,O,M,U,$,j,z,H;const n=()=>{Be(this,lr,Xr).call(this,{type:"continue"})};ie(this,Fs,Dy({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,q)=>{Be(this,lr,Xr).call(this,{type:"failed",failureCount:R,error:q})},onPause:()=>{Be(this,lr,Xr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,tn).canRun(this)}));const r=this.state.status==="pending",s=!F(this,Fs).canStart();try{if(r)n();else{Be(this,lr,Xr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=F(this,tn).config).onMutate)==null?void 0:o.call(i,e,this));const q=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));q!==this.state.context&&Be(this,lr,Xr).call(this,{type:"pending",context:q,variables:e,isPaused:s})}const R=await F(this,Fs).start();return await((f=(u=F(this,tn).config).onSuccess)==null?void 0:f.call(u,R,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,e,this.state.context)),await((w=(m=F(this,tn).config).onSettled)==null?void 0:w.call(m,R,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,R,null,e,this.state.context)),Be(this,lr,Xr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((O=(k=F(this,tn).config).onError)==null?void 0:O.call(k,R,e,this.state.context,this)),await((U=(M=this.options).onError)==null?void 0:U.call(M,R,e,this.state.context)),await((j=($=F(this,tn).config).onSettled)==null?void 0:j.call($,void 0,R,this.state.variables,this.state.context,this)),await((H=(z=this.options).onSettled)==null?void 0:H.call(z,void 0,R,e,this.state.context)),R}finally{Be(this,lr,Xr).call(this,{type:"error",error:R})}}finally{F(this,tn).runNext(this)}}},fr=new WeakMap,tn=new WeakMap,Fs=new WeakMap,lr=new WeakSet,Xr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ct.batch(()=>{F(this,fr).forEach(r=>{r.onMutationUpdate(e)}),F(this,tn).notify({mutation:this,type:"updated",action:e})})},hm);function Hy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cr,Jn,Ma,pm,r6=(pm=class extends So{constructor(e={}){super();ue(this,Cr,void 0);ue(this,Jn,void 0);ue(this,Ma,void 0);this.config=e,ie(this,Cr,new Set),ie(this,Jn,new Map),ie(this,Ma,0)}build(e,n,r){const s=new n6({mutationCache:this,mutationId:++cc(this,Ma)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Cr).add(e);const n=dc(e);if(typeof n=="string"){const r=F(this,Jn).get(n);r?r.push(e):F(this,Jn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Cr).delete(e)){const n=dc(e);if(typeof n=="string"){const r=F(this,Jn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Jn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=dc(e);if(typeof n=="string"){const r=F(this,Jn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=dc(e);if(typeof n=="string"){const s=(r=F(this,Jn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ct.batch(()=>{F(this,Cr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Cr).clear(),F(this,Jn).clear()})}getAll(){return Array.from(F(this,Cr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U0(n,r))}findAll(e={}){return this.getAll().filter(n=>U0(e,n))}notify(e){Ct.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ct.batch(()=>Promise.all(e.map(n=>n.continue().catch(sn))))}},Cr=new WeakMap,Jn=new WeakMap,Ma=new WeakMap,pm);function dc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function z0(t){return{onFetch:(e,n)=>{var f,d,h,m,w;const r=e.options,s=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let E=!1;const _=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},k=Ly(e.options,e.fetchOptions),O=async(M,U,$)=>{if(E)return Promise.reject();if(U==null&&M.pages.length)return Promise.resolve(M);const z=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:U,direction:$?"backward":"forward",meta:e.options.meta};return _(L),L})(),H=await k(z),{maxPages:R}=e.options,q=$?G2:K2;return{pages:q(M.pages,H,R),pageParams:q(M.pageParams,U,R)}};if(s&&i.length){const M=s==="backward",U=M?s6:j0,$={pages:i,pageParams:o},j=U(r,$);a=await O($,j,M)}else{const M=t??i.length;do{const U=c===0?o[0]??r.initialPageParam:j0(r,a);if(c>0&&U==null)break;a=await O(a,U),c++}while(c<M)}return a};e.options.persister?e.fetchFn=()=>{var E,_;return(_=(E=e.options).persister)==null?void 0:_.call(E,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function j0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function s6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tt,is,os,Zi,Wi,as,Ji,Yi,mm,i6=(mm=class{constructor(t={}){ue(this,tt,void 0);ue(this,is,void 0);ue(this,os,void 0);ue(this,Zi,void 0);ue(this,Wi,void 0);ue(this,as,void 0);ue(this,Ji,void 0);ue(this,Yi,void 0);ie(this,tt,t.queryCache||new t6),ie(this,is,t.mutationCache||new r6),ie(this,os,t.defaultOptions||{}),ie(this,Zi,new Map),ie(this,Wi,new Map),ie(this,as,0)}mount(){cc(this,as)._++,F(this,as)===1&&(ie(this,Ji,Wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,tt).onFocus())})),ie(this,Yi,Lc.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,tt).onOnline())})))}unmount(){var t,e;cc(this,as)._--,F(this,as)===0&&((t=F(this,Ji))==null||t.call(this),ie(this,Ji,void 0),(e=F(this,Yi))==null||e.call(this),ie(this,Yi,void 0))}isFetching(t){return F(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,is).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,tt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(bs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=V2(e,i);if(o!==void 0)return F(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ct.batch(()=>F(this,tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,tt);Ct.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,tt);return Ct.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ct.batch(()=>F(this,tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sn).catch(sn)}invalidateQueries(t,e={}){return Ct.batch(()=>(F(this,tt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ct.batch(()=>F(this,tt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,tt).build(this,e);return n.isStaleByTime(bs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sn).catch(sn)}fetchInfiniteQuery(t){return t.behavior=z0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sn).catch(sn)}ensureInfiniteQueryData(t){return t.behavior=z0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lc.isOnline()?F(this,is).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,tt)}getMutationCache(){return F(this,is)}getDefaultOptions(){return F(this,os)}setDefaultOptions(t){ie(this,os,t)}setQueryDefaults(t,e){F(this,Zi).set(ni(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Zi).values()],n={};return e.forEach(r=>{oa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Wi).set(ni(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Wi).values()],n={};return e.forEach(r=>{oa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,os).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Gd(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Zd&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,os).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,tt).clear(),F(this,is).clear()}},tt=new WeakMap,is=new WeakMap,os=new WeakMap,Zi=new WeakMap,Wi=new WeakMap,as=new WeakMap,Ji=new WeakMap,Yi=new WeakMap,mm),mn,Ce,Ra,nn,zs,Qi,cs,us,Ca,Xi,eo,js,Ds,fs,to,qs,No,Ta,Ll,Pa,Fl,Oa,zl,$a,jl,Na,Dl,Ua,ql,La,Vl,xu,Ky,ym,o6=(ym=class extends So{constructor(e,n){super();ue(this,qs);ue(this,Ta);ue(this,Pa);ue(this,Oa);ue(this,$a);ue(this,Na);ue(this,Ua);ue(this,La);ue(this,xu);ue(this,mn,void 0);ue(this,Ce,void 0);ue(this,Ra,void 0);ue(this,nn,void 0);ue(this,zs,void 0);ue(this,Qi,void 0);ue(this,cs,void 0);ue(this,us,void 0);ue(this,Ca,void 0);ue(this,Xi,void 0);ue(this,eo,void 0);ue(this,js,void 0);ue(this,Ds,void 0);ue(this,fs,void 0);ue(this,to,new Set);this.options=n,ie(this,mn,e),ie(this,us,null),ie(this,cs,Ul()),this.options.experimental_prefetchInRender||F(this,cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Ce).addObserver(this),D0(F(this,Ce),this.options)?Be(this,qs,No).call(this):this.updateResult(),Be(this,$a,jl).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hl(F(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hl(F(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Na,Dl).call(this),Be(this,Ua,ql).call(this),F(this,Ce).removeObserver(this)}setOptions(e){const n=this.options,r=F(this,Ce);if(this.options=F(this,mn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jn(this.options.enabled,F(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,La,Vl).call(this),F(this,Ce).setOptions(this.options),n._defaulted&&!Uc(this.options,n)&&F(this,mn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Ce),observer:this});const s=this.hasListeners();s&&q0(F(this,Ce),r,this.options,n)&&Be(this,qs,No).call(this),this.updateResult(),s&&(F(this,Ce)!==r||jn(this.options.enabled,F(this,Ce))!==jn(n.enabled,F(this,Ce))||bs(this.options.staleTime,F(this,Ce))!==bs(n.staleTime,F(this,Ce)))&&Be(this,Ta,Ll).call(this);const i=Be(this,Pa,Fl).call(this);s&&(F(this,Ce)!==r||jn(this.options.enabled,F(this,Ce))!==jn(n.enabled,F(this,Ce))||i!==F(this,fs))&&Be(this,Oa,zl).call(this,i)}getOptimisticResult(e){const n=F(this,mn).getQueryCache().build(F(this,mn),e),r=this.createResult(n,e);return c6(this,r)&&(ie(this,nn,r),ie(this,Qi,this.options),ie(this,zs,F(this,Ce).state)),r}getCurrentResult(){return F(this,nn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){F(this,to).add(e)}getCurrentQuery(){return F(this,Ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,mn).defaultQueryOptions(e),r=F(this,mn).getQueryCache().build(F(this,mn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Be(this,qs,No).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,nn)))}createResult(e,n){var R;const r=F(this,Ce),s=this.options,i=F(this,nn),o=F(this,zs),a=F(this,Qi),u=e!==r?e.state:F(this,Ra),{state:f}=e;let d={...f},h=!1,m;if(n._optimisticResults){const q=this.hasListeners(),L=!q&&D0(e,n),V=q&&q0(e,r,n,s);(L||V)&&(d={...d,...Vy(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:_}=d;m=d.data;let k=!1;if(n.placeholderData!==void 0&&m===void 0&&_==="pending"){let q;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(q=i.data,k=!0):q=typeof n.placeholderData=="function"?n.placeholderData((R=F(this,eo))==null?void 0:R.state.data,F(this,eo)):n.placeholderData,q!==void 0&&(_="success",m=Nl(i==null?void 0:i.data,q,n),h=!0)}if(n.select&&m!==void 0&&!k)if(i&&m===(o==null?void 0:o.data)&&n.select===F(this,Ca))m=F(this,Xi);else try{ie(this,Ca,n.select),m=n.select(m),m=Nl(i==null?void 0:i.data,m,n),ie(this,Xi,m),ie(this,us,null)}catch(q){ie(this,us,q)}F(this,us)&&(w=F(this,us),m=F(this,Xi),E=Date.now(),_="error");const O=d.fetchStatus==="fetching",M=_==="pending",U=_==="error",$=M&&O,j=m!==void 0,H={status:_,fetchStatus:d.fetchStatus,isPending:M,isSuccess:_==="success",isError:U,isInitialLoading:$,isLoading:$,data:m,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:O,isRefetching:O&&!M,isLoadingError:U&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:U&&j,isStale:Jd(e,n),refetch:this.refetch,promise:F(this,cs),isEnabled:jn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const q=x=>{H.status==="error"?x.reject(H.error):H.data!==void 0&&x.resolve(H.data)},L=()=>{const x=ie(this,cs,H.promise=Ul());q(x)},V=F(this,cs);switch(V.status){case"pending":e.queryHash===r.queryHash&&q(V);break;case"fulfilled":(H.status==="error"||H.data!==V.value)&&L();break;case"rejected":(H.status!=="error"||H.error!==V.reason)&&L();break}}return H}updateResult(){const e=F(this,nn),n=this.createResult(F(this,Ce),this.options);if(ie(this,zs,F(this,Ce).state),ie(this,Qi,this.options),F(this,zs).data!==void 0&&ie(this,eo,F(this,Ce)),Uc(n,e))return;ie(this,nn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!F(this,to).size)return!0;const o=new Set(i??F(this,to));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,nn)).some(a=>{const c=a;return F(this,nn)[c]!==e[c]&&o.has(c)})};Be(this,xu,Ky).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,$a,jl).call(this)}},mn=new WeakMap,Ce=new WeakMap,Ra=new WeakMap,nn=new WeakMap,zs=new WeakMap,Qi=new WeakMap,cs=new WeakMap,us=new WeakMap,Ca=new WeakMap,Xi=new WeakMap,eo=new WeakMap,js=new WeakMap,Ds=new WeakMap,fs=new WeakMap,to=new WeakMap,qs=new WeakSet,No=function(e){Be(this,La,Vl).call(this);let n=F(this,Ce).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(sn)),n},Ta=new WeakSet,Ll=function(){Be(this,Na,Dl).call(this);const e=bs(this.options.staleTime,F(this,Ce));if(ti||F(this,nn).isStale||!Ol(e))return;const r=Ny(F(this,nn).dataUpdatedAt,e)+1;ie(this,js,setTimeout(()=>{F(this,nn).isStale||this.updateResult()},r))},Pa=new WeakSet,Fl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Ce)):this.options.refetchInterval)??!1},Oa=new WeakSet,zl=function(e){Be(this,Ua,ql).call(this),ie(this,fs,e),!(ti||jn(this.options.enabled,F(this,Ce))===!1||!Ol(F(this,fs))||F(this,fs)===0)&&ie(this,Ds,setInterval(()=>{(this.options.refetchIntervalInBackground||Wd.isFocused())&&Be(this,qs,No).call(this)},F(this,fs)))},$a=new WeakSet,jl=function(){Be(this,Ta,Ll).call(this),Be(this,Oa,zl).call(this,Be(this,Pa,Fl).call(this))},Na=new WeakSet,Dl=function(){F(this,js)&&(clearTimeout(F(this,js)),ie(this,js,void 0))},Ua=new WeakSet,ql=function(){F(this,Ds)&&(clearInterval(F(this,Ds)),ie(this,Ds,void 0))},La=new WeakSet,Vl=function(){const e=F(this,mn).getQueryCache().build(F(this,mn),this.options);if(e===F(this,Ce))return;const n=F(this,Ce);ie(this,Ce,e),ie(this,Ra,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},xu=new WeakSet,Ky=function(e){Ct.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,nn))}),F(this,mn).getQueryCache().notify({query:F(this,Ce),type:"observerResultsUpdated"})})},ym);function a6(t,e){return jn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function D0(t,e){return a6(t,e)||t.state.data!==void 0&&Hl(t,e,e.refetchOnMount)}function Hl(t,e,n){if(jn(e.enabled,t)!==!1&&bs(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Jd(t,e)}return!1}function q0(t,e,n,r){return(t!==e||jn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Jd(t,n)}function Jd(t,e){return jn(e.enabled,t)!==!1&&t.isStaleByTime(bs(e.staleTime,t))}function c6(t,e){return!Uc(t.getCurrentResult(),e)}var ls,ds,yn,Tr,no,Ac,Fa,Kl,gm,u6=(gm=class extends So{constructor(e,n){super();ue(this,no);ue(this,Fa);ue(this,ls,void 0);ue(this,ds,void 0);ue(this,yn,void 0);ue(this,Tr,void 0);ie(this,ls,e),this.setOptions(n),this.bindMethods(),Be(this,no,Ac).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=F(this,ls).defaultMutationOptions(e),Uc(this.options,n)||F(this,ls).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,yn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ni(n.mutationKey)!==ni(this.options.mutationKey)?this.reset():((r=F(this,yn))==null?void 0:r.state.status)==="pending"&&F(this,yn).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=F(this,yn))==null||e.removeObserver(this)}onMutationUpdate(e){Be(this,no,Ac).call(this),Be(this,Fa,Kl).call(this,e)}getCurrentResult(){return F(this,ds)}reset(){var e;(e=F(this,yn))==null||e.removeObserver(this),ie(this,yn,void 0),Be(this,no,Ac).call(this),Be(this,Fa,Kl).call(this)}mutate(e,n){var r;return ie(this,Tr,n),(r=F(this,yn))==null||r.removeObserver(this),ie(this,yn,F(this,ls).getMutationCache().build(F(this,ls),this.options)),F(this,yn).addObserver(this),F(this,yn).execute(e)}},ls=new WeakMap,ds=new WeakMap,yn=new WeakMap,Tr=new WeakMap,no=new WeakSet,Ac=function(){var n;const e=((n=F(this,yn))==null?void 0:n.state)??Hy();ie(this,ds,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Fa=new WeakSet,Kl=function(e){Ct.batch(()=>{var n,r,s,i,o,a,c,u;if(F(this,Tr)&&this.hasListeners()){const f=F(this,ds).variables,d=F(this,ds).context;(e==null?void 0:e.type)==="success"?((r=(n=F(this,Tr)).onSuccess)==null||r.call(n,e.data,f,d),(i=(s=F(this,Tr)).onSettled)==null||i.call(s,e.data,null,f,d)):(e==null?void 0:e.type)==="error"&&((a=(o=F(this,Tr)).onError)==null||a.call(o,e.error,f,d),(u=(c=F(this,Tr)).onSettled)==null||u.call(c,void 0,e.error,f,d))}this.listeners.forEach(f=>{f(F(this,ds))})})},gm),Gy=ye.createContext(void 0),Yd=t=>{const e=ye.useContext(Gy);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},f6=({client:t,children:e})=>(ye.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),jt.jsx(Gy.Provider,{value:t,children:e})),Zy=ye.createContext(!1),l6=()=>ye.useContext(Zy);Zy.Provider;function d6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var h6=ye.createContext(d6()),p6=()=>ye.useContext(h6),m6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},y6=t=>{ye.useEffect(()=>{t.clearReset()},[t])},g6=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Fy(n,[t.error,r])),b6=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},w6=(t,e)=>t.isLoading&&t.isFetching&&!e,v6=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,V0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function x6(t,e,n){var d,h,m,w,E;const r=l6(),s=p6(),i=Yd(n),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",b6(o),m6(o,s),y6(s);const a=!i.getQueryCache().get(o.queryHash),[c]=ye.useState(()=>new e(i,o)),u=c.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(ye.useSyncExternalStore(ye.useCallback(_=>{const k=f?c.subscribe(Ct.batchCalls(_)):sn;return c.updateResult(),k},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),ye.useEffect(()=>{c.setOptions(o)},[o,c]),v6(o,u))throw V0(o,c,s);if(g6({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||w.call(m,o,u),o.experimental_prefetchInRender&&!ti&&w6(u,r)){const _=a?V0(o,c,s):(E=i.getQueryCache().get(o.queryHash))==null?void 0:E.promise;_==null||_.catch(sn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function E6(t,e){return x6(t,o6,e)}function S6(t,e){const n=Yd(e),[r]=ye.useState(()=>new u6(n,t));ye.useEffect(()=>{r.setOptions(t)},[r,t]);const s=ye.useSyncExternalStore(ye.useCallback(o=>r.subscribe(Ct.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=ye.useCallback((o,a)=>{r.mutate(o,a).catch(sn)},[r]);if(s.error&&Fy(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Nf="/docs/contract/encodeDeployData";function Qd(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new px({docsPath:Nf});if(!("inputs"in s))throw new k0({docsPath:Nf});if(!s.inputs||s.inputs.length===0)throw new k0({docsPath:Nf});const i=Kr(s.inputs,n);return Pn([r,i])}function _6(t){const e=Dt(`0x${t.substring(4)}`).substring(26);return Ou(`0x${e}`)}const A6="modulepreload",I6=function(t,e){return new URL(t,e).href},H0={},Ga=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=I6(i,r),i in H0)return;H0[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":A6,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};async function B6({hash:t,signature:e}){const n=nr(t)?t:ln(t),{secp256k1:r}=await Ga(()=>Promise.resolve().then(()=>l5),void 0,import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:f,v:d,yParity:h}=e,m=Number(h??d),w=K0(m);return new r.Signature($t(u),$t(f)).addRecoveryBit(w)}const o=nr(e)?e:ln(e);if(Je(o)!==65)throw new Error("invalid signature length");const a=Rn(`0x${o.slice(130)}`),c=K0(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function K0(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Wy({hash:t,signature:e}){return _6(await B6({hash:t,signature:e}))}function k6(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=Dt(Pn(["0x05",vs([e?ee(e):"0x",s,n?ee(n):"0x"])]));return r==="bytes"?Mn(i):i}async function M6(t){const{authorization:e,signature:n}=t;return Wy({hash:k6(e),signature:n??e})}function ge(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}async function Xd(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Rn(e)}class R6 extends Y{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class eh extends Y{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class C6 extends Y{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Xn(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Jy extends Y{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function hr(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const i=s??!1,o=n!==void 0?ee(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new Jy({blockHash:e,blockNumber:n});return(((d=(f=(u=t.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||Rd)(a)}async function th(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function T6(t,e){return Yy(t,e)}async function Yy(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await ge(t,hr,"getBlock")({}),f=await a({block:u,client:t,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return $t(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):ge(t,hr,"getBlock")({}),ge(t,th,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new eh;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function P6(t,e){return Gl(t,e)}async function Gl(t,e){var h,m;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var w,E;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((E=r==null?void 0:r.fees)==null?void 0:E.baseFeeMultiplier)??1.2})();if(o<1)throw new R6;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),u=w=>w*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await ge(t,hr,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const w=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:s,type:i});if(w!==null)return w}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new eh;const w=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Yy(t,{block:f,chain:r,request:s}),E=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??E+w,maxPriorityFeePerGas:w}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await ge(t,th,"getGasPrice")({}))}}class O6 extends Y{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:h}){var w;const m=Bu({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${Pm(h)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Xn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Xn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Xn(u)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function $6(t,{docsPath:e,...n}){const r=(()=>{const s=Vd(t,n);return s instanceof Tu?t:s})();return new O6(r,{docsPath:e,...n})}function G0(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new y0({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new y0({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function N6(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=ee(e)),n!==void 0&&(o.nonce=ee(n)),r!==void 0&&(o.state=G0(r)),s!==void 0){if(o.state)throw new $2;o.stateDiff=G0(s)}return o}function nh(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Mt(n,{strict:!1}))throw new en({address:n});if(e[n])throw new O2({address:n});e[n]=N6(r)}return e}async function Qy(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?ee(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function rh(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Cn(n):void 0;try{let l=function(v){const{block:I,request:S,rpcStateOverride:C}=v;return t.request({method:"eth_estimateGas",params:C?[S,I??t.experimental_blockTag??"latest",C]:I?[S,I]:[S]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:h,data:m,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:k,maxPriorityFeePerGas:O,nonce:M,value:U,stateOverride:$,...j}=await Xy(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),H=(typeof d=="bigint"?ee(d):void 0)||h,R=nh($),q=await(async()=>{if(j.to)return j.to;if(c&&c.length>0)return await M6({authorization:c[0]}).catch(()=>{throw new Y("`to` is required. Could not infer from `authorizationList`")})})();Ka(e);const L=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,x=(L||Au)({...Hd(j,{format:L}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:m,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:k,maxPriorityFeePerGas:O,nonce:M,to:q,value:U});let p=BigInt(await l({block:H,request:x,rpcStateOverride:R}));if(c){const v=await Qy(t,{address:x.from}),I=await Promise.all(c.map(async S=>{const{address:C}=S,N=await l({block:H,request:{authorizationList:void 0,data:m,from:r==null?void 0:r.address,to:C,value:ee(v)},rpcStateOverride:R}).catch(()=>100000n);return 2n*BigInt(N)}));p+=I.reduce((S,C)=>S+C,0n)}return p}catch(a){throw $6(a,{...e,account:r,chain:t.chain})}}async function sh(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?ee(r):n]},{dedupe:!!r});return Rn(s)}const U6=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Z0=new Map;async function Xy(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=U6,type:f}=e,d=n&&Cn(n),h={...e,...d?{from:d==null?void 0:d.address}:{}};let m;async function w(){return m||(m=await ge(t,hr,"getBlock")({blockTag:"latest"}),m)}let E;async function _(){return E||(s?s.id:typeof e.chainId<"u"?e.chainId:(E=await ge(t,Xd,"getChainId")({}),E))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const k=await _();h.nonce=await c.consume({address:d.address,chainId:k,client:t})}else h.nonce=await ge(t,sh,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const k=Td({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const O=qm({commitments:k,to:"hex"});h.blobVersionedHashes=O}if(u.includes("sidecars")){const O=Pd({blobs:r,commitments:k,kzg:o}),M=Zm({blobs:r,commitments:k,proofs:O,to:"hex"});h.sidecars=M}}if(u.includes("chainId")&&(h.chainId=await _()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{h.type=sy(h)}catch{let k=Z0.get(t.uid);if(typeof k>"u"){const O=await w();k=typeof(O==null?void 0:O.baseFeePerGas)=="bigint",Z0.set(t.uid,k)}h.type=k?"eip1559":"legacy"}if(u.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const k=await w(),{maxFeePerGas:O,maxPriorityFeePerGas:M}=await Gl(t,{block:k,chain:s,request:h});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<M)throw new C6({maxPriorityFeePerGas:M});h.maxPriorityFeePerGas=M,h.maxFeePerGas=O}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new eh;if(typeof e.gasPrice>"u"){const k=await w(),{gasPrice:O}=await Gl(t,{block:k,chain:s,request:h,type:"legacy"});h.gasPrice=O}}return u.includes("gas")&&typeof i>"u"&&(h.gas=await ge(t,rh,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),Ka(h),delete h.parameters,h}async function L6(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Zl=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Wl=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],eg=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],tg=[...eg,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],F6=[...eg,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],W0=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],J0=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Y0=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Fk=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Uf="/docs/contract/decodeFunctionResult";function li(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=fi({abi:e,args:n,name:r});if(!a)throw new ao(r,{docsPath:Uf});i=a}if(i.type!=="function")throw new ao(void 0,{docsPath:Uf});if(!i.outputs)throw new ly(i.name,{docsPath:Uf});const o=Va(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Q0="/docs/contract/encodeFunctionData";function z6(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=fi({abi:e,args:n,name:r});if(!i)throw new ao(r,{docsPath:Q0});s=i}if(s.type!=="function")throw new ao(void 0,{docsPath:Q0});return{abi:[s],functionName:qa(sr(s))}}function gr(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:z6(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Kr(s.inputs,e??[]):void 0;return Pn([i,o??"0x"])}function ih(t,e){var r,s,i,o,a,c;if(!(t instanceof Y))return!1;const n=t.walk(u=>u instanceof Tl);return n instanceof Tl?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===iy[50]):!1}function j6(t){const{abi:e,data:n}=t,r=Ys(n,0,4),s=e.find(i=>i.type==="function"&&r===qa(sr(i)));if(!s)throw new wx(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Va(s.inputs,Ys(n,4)):void 0}}const Lf="/docs/contract/encodeErrorResult";function X0(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const c=fi({abi:e,args:r,name:n});if(!c)throw new M0(n,{docsPath:Lf});s=c}if(s.type!=="error")throw new M0(void 0,{docsPath:Lf});const i=sr(s),o=qa(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new gx(s.name,{docsPath:Lf});a=Kr(s.inputs,r)}return Pn([o,a])}const Ff="/docs/contract/encodeFunctionResult";function D6(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const o=fi({abi:e,name:n});if(!o)throw new ao(n,{docsPath:Ff});s=o}if(s.type!=="function")throw new ao(void 0,{docsPath:Ff});if(!s.outputs)throw new ly(s.name,{docsPath:Ff});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new hy(r)})();return Kr(s.outputs,i)}const zu="x-batch-gateway:true";async function ng(t){const{data:e,ccipRequest:n}=t,{args:[r]}=j6({abi:Wl,data:e}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(zu)?await ng({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=q6(c)}})),D6({abi:Wl,functionName:"query",result:[s,i]})}function q6(t){return t.name==="HttpRequestError"&&t.status?X0({abi:Wl,errorName:"HttpError",args:[t.status,t.shortMessage]}):X0({abi:[oy],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function rg(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return nr(e)?e:null}function Ic(t){let e=new Uint8Array(32).fill(0);if(!t)return kt(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=rg(n[r]),i=s?vo(s):Dt(Vs(n[r]),"bytes");e=Dt(rr([e,i]),"bytes")}return kt(e)}function V6(t){return`[${t.slice(2)}]`}function H6(t){const e=new Uint8Array(32).fill(0);return t?rg(t)||Dt(Vs(t)):kt(e)}function ju(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Vs(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Vs(s[i]);o.byteLength>255&&(o=Vs(V6(H6(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const K6=3;function uo(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof Fu?t:t instanceof Y?t.walk(w=>"data"in w)||t.walk():{},{code:c,data:u,details:f,message:d,shortMessage:h}=a,m=(()=>t instanceof Da?new F2({functionName:i}):[K6,Xs.code].includes(c)&&(u||f||d||h)?new Tl({abi:e,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof qd?f:h??d}):t)();return new L2(m,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oh=BigInt(0),Jl=BigInt(1);function Fc(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function hc(t){const e=t.toString(16);return e.length&1?"0"+e:e}function sg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?oh:BigInt("0x"+t)}function di(t){return sg(qn(t))}function ig(t){return Ht(t),sg(qn(Uint8Array.from(t).reverse()))}function Za(t,e){return Ws(t.toString(16).padStart(e*2,"0"))}function og(t,e){return Za(t,e).reverse()}function Ft(t,e,n){let r;if(typeof e=="string")try{r=Ws(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(As(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const zf=t=>typeof t=="bigint"&&oh<=t;function Yl(t,e,n){return zf(t)&&zf(e)&&zf(n)&&e<=t&&t<n}function ag(t,e,n,r){if(!Yl(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function G6(t){let e;for(e=0;t>oh;t>>=Jl,e+=1);return e}const Du=t=>(Jl<<BigInt(t))-Jl;function Z6(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),s=m=>Uint8Array.of(m);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},u=(...m)=>n(o,i,...m),f=(m=r(0))=>{o=u(s(0),m),i=u(),m.length!==0&&(o=u(s(1),m),i=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const w=[];for(;m<e;){i=u();const E=i.slice();w.push(E),m+=i.length}return He(...w)};return(m,w)=>{c(),f(m);let E;for(;!(E=w(d()));)f();return c(),E}}function W6(t){return typeof t=="function"&&Number.isSafeInteger(t.outputLen)}function qu(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function ep(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const J6="0.1.1";function Y6(){return J6}let ct=class Ql extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof Ql){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof Ql&&n.cause.docsPath||n.docsPath)(),o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Y6()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return cg(this,e)}};function cg(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?cg(t.cause,e):e?null:t}const Q6="#__bigint";function X6(t,e,n){return JSON.stringify(t,(r,s)=>typeof e=="function"?e(r,s):typeof s=="bigint"?s.toString()+Q6:s,n)}function eE(t,e){if(np(t)>e)throw new fE({givenSize:np(t),maxSize:e})}const _r={zero:48,nine:57,A:65,F:70,a:97,f:102};function tp(t){if(t>=_r.zero&&t<=_r.nine)return t-_r.zero;if(t>=_r.A&&t<=_r.F)return t-(_r.A-10);if(t>=_r.a&&t<=_r.f)return t-(_r.a-10)}function tE(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new lE({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=t[o?i:t.length-i-1]}return s}function ah(t,e){if(Hn(t)>e)throw new yE({givenSize:Hn(t),maxSize:e})}function nE(t,e){if(typeof e=="number"&&e>0&&e>Hn(t)-1)throw new hg({offset:e,position:"start",size:Hn(t)})}function rE(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Hn(t)!==n-e)throw new hg({offset:n,position:"end",size:Hn(t)})}function ug(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new gE({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const sE=new TextEncoder;function iE(t){return t instanceof Uint8Array?t:typeof t=="string"?aE(t):oE(t)}function oE(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function aE(t,e={}){const{size:n}=e;let r=t;n&&(ah(t,n),r=si(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=tp(s.charCodeAt(c++)),f=tp(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new ct(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+f}return o}function cE(t,e={}){const{size:n}=e,r=sE.encode(t);return typeof n=="number"?(eE(r,n),uE(r,n)):r}function uE(t,e){return tE(t,{dir:"right",size:e})}function np(t){return t.length}let fE=class extends ct{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},lE=class extends ct{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const dE=new TextEncoder,hE=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pE(t,e={}){const{strict:n=!1}=e;if(!t)throw new rp(t);if(typeof t!="string")throw new rp(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new sp(t);if(!t.startsWith("0x"))throw new sp(t)}function mr(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function fg(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ah(n,e.size),ri(n,e.size)):n}function lg(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=hE[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(ah(r,e.size),si(r,e.size)):r}function an(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof t=="bigint"?"n":"";throw new dg({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ri(c,r):c}function ch(t,e={}){return lg(dE.encode(t),e)}function ri(t,e){return ug(t,{dir:"left",size:e})}function si(t,e){return ug(t,{dir:"right",size:e})}function uh(t,e,n,r={}){const{strict:s}=r;nE(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&rE(i,e,n),i}function Hn(t){return Math.ceil((t.length-2)/2)}function mE(t,e={}){const{strict:n=!1}=e;try{return pE(t,{strict:n}),!0}catch{return!1}}class dg extends ct{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class rp extends ct{constructor(e){super(`Value \`${typeof e=="object"?X6(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class sp extends ct{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class yE extends ct{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class hg extends ct{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class gE extends ct{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function bE(t){return{address:t.address,amount:an(t.amount),index:an(t.index),validatorIndex:an(t.validatorIndex)}}function pg(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:an(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:an(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:an(t.gasLimit)},...typeof t.number=="bigint"&&{number:an(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:an(t.prevRandao)},...typeof t.time=="bigint"&&{time:an(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(bE)}}}const wE="0x82ad56cb",mg="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",vE="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",xE="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function fh(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const jf=new Map;function yg({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const d=f.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let m=0;m<f.length;m++){const{resolve:w}=f[m];w==null||w([h[m],h])}}).catch(h=>{for(let m=0;m<f.length;m++){const{reject:w}=f[m];w==null||w(h)}})},o=()=>jf.delete(e),a=()=>c().map(({args:f})=>f),c=()=>jf.get(e)||[],u=f=>jf.set(e,[...c(),f]);return{flush:o,async schedule(f){const{promise:d,resolve:h,reject:m}=fh();return(n==null?void 0:n([...a(),f]))&&i(),c().length>0?(u({args:f,resolve:h,reject:m}),d):(u({args:f,resolve:h,reject:m}),setTimeout(i,r),d)}}}async function Wa(t,e){var x,l,p,v;const{account:n=t.account,authorizationList:r,batch:s=!!((x=t.batch)!=null&&x.multicall),blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:h,factoryData:m,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:k,maxPriorityFeePerGas:O,nonce:M,to:U,value:$,stateOverride:j,...z}=e,H=n?Cn(n):void 0;if(f&&(h||m))throw new Y("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&U)throw new Y("Cannot provide both `code` & `to` as parameters.");const R=f&&d,q=h&&m&&U&&d,L=R||q,V=(()=>R?_E({code:f,data:d}):q?AE({data:d,factory:h,factoryData:m,to:U}):d)();try{Ka(e);const S=(typeof i=="bigint"?ee(i):void 0)||o,C=u?pg(u):void 0,N=nh(j),A=(v=(p=(l=t.chain)==null?void 0:l.formatters)==null?void 0:p.transactionRequest)==null?void 0:v.format,T=(A||Au)({...Hd(z,{format:A}),from:H==null?void 0:H.address,accessList:a,authorizationList:r,blobs:c,data:V,gas:w,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:k,maxPriorityFeePerGas:O,nonce:M,to:L?void 0:U,value:$});if(s&&EE({request:T})&&!N&&!C)try{return await SE(t,{...T,blockNumber:i,blockTag:o})}catch(te){if(!(te instanceof Wm)&&!(te instanceof gl))throw te}const X=(()=>{const te=[T,S];return N&&C?[...te,N,C]:N?[...te,N]:C?[...te,{},C]:te})(),J=await t.request({method:"eth_call",params:X});return J==="0x"?{data:void 0}:{data:J}}catch(I){const S=IE(I),{offchainLookup:C,offchainLookupSignature:N}=await Ga(()=>Promise.resolve().then(()=>KS),void 0,import.meta.url);if(t.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===N&&U)return{data:await C(t,{data:S,to:U})};throw L&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new z2({factory:h}):$y(I,{...e,account:H,chain:t.chain})}}function EE({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(wE)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function SE(t,e){var E;const{batchSize:n=1024,wait:r=0}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i=t.experimental_blockTag??"latest",data:o,multicallAddress:a,to:c}=e;let u=a;if(!u){if(!t.chain)throw new Wm;u=xo({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?ee(s):void 0)||i,{schedule:h}=yg({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(_){return _.reduce((O,{data:M})=>O+(M.length-2),0)>n*2},fn:async _=>{const k=_.map(U=>({allowFailure:!0,callData:U.data,target:U.to})),O=gr({abi:Zl,args:[k],functionName:"aggregate3"}),M=await t.request({method:"eth_call",params:[{data:O,to:u},d]});return li({abi:Zl,args:[k],functionName:"aggregate3",data:M||"0x"})}}),[{returnData:m,success:w}]=await h({data:o,to:c});if(!w)throw new Fu({data:m});return m==="0x"?{data:void 0}:{data:m}}function _E(t){const{code:e,data:n}=t;return Qd({abi:Iy(["constructor(bytes, bytes)"]),bytecode:mg,args:[e,n]})}function AE(t){const{data:e,factory:n,factoryData:r,to:s}=t;return Qd({abi:Iy(["constructor(address, bytes, address, bytes)"]),bytecode:vE,args:[s,e,n,r]})}function IE(t){var n;if(!(t instanceof Y))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function zr(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=gr({abi:n,args:s,functionName:i});try{const{data:c}=await ge(t,Wa,"call")({...o,data:a,to:r});return li({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw uo(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function BE(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return xo({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;try{const d=gr({abi:J0,functionName:"addr",...s!=null?{args:[Ic(i),BigInt(s)]}:{args:[Ic(i)]}}),h={address:u,abi:tg,functionName:"resolve",args:[ln(ju(i)),d,o??[zu]],blockNumber:n,blockTag:r},w=await ge(t,zr,"readContract")(h);if(w[0]==="0x")return null;const E=li({abi:J0,args:s!=null?[Ic(i),BigInt(s)]:void 0,functionName:"addr",data:w[0]});return E==="0x"||kn(E)==="0x00"?null:E}catch(d){if(a)throw d;if(ih(d,"resolve"))return null;throw d}}class kE extends Y{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class $o extends Y{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class lh extends Y{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ME extends Y{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const RE=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,CE=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,TE=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,PE=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function OE(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function ip(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function gg({uri:t,gatewayUrls:e}){const n=TE.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=ip(e==null?void 0:e.ipfs,"https://ipfs.io"),s=ip(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(RE),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},f=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||CE.test(t);if(t.startsWith("http")&&!f&&!d){let m=t;return e!=null&&e.arweave&&(m=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(PE,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new lh({uri:t})}function bg(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new kE({data:t});return t.image||t.image_url||t.image_data}async function $E({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await dh({gatewayUrls:t,uri:bg(n)})}catch{throw new lh({uri:e})}}async function dh({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=gg({uri:e,gatewayUrls:t});if(r||await OE(n))return n;throw new lh({uri:e})}function NE(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new $o({reason:"Only EIP-155 supported"});if(!o)throw new $o({reason:"Chain ID not found"});if(!c)throw new $o({reason:"Contract address not found"});if(!s)throw new $o({reason:"Token ID not found"});if(!a)throw new $o({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function UE(t,{nft:e}){if(e.namespace==="erc721")return zr(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return zr(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new ME({namespace:e.namespace})}async function LE(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?FE(t,{gatewayUrls:e,record:n}):dh({uri:n,gatewayUrls:e})}async function FE(t,{gatewayUrls:e,record:n}){const r=NE(n),s=await UE(t,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=gg({uri:s,gatewayUrls:e});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return dh({uri:bg(f),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),$E({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}async function wg(t,e){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return xo({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:tg,functionName:"resolve",args:[ln(ju(i)),gr({abi:W0,functionName:"text",args:[Ic(i),s]}),o??[zu]],blockNumber:n,blockTag:r},m=await ge(t,zr,"readContract")(d);if(m[0]==="0x")return null;const w=li({abi:W0,functionName:"text",data:m[0]});return w===""?null:w}catch(d){if(a)throw d;if(ih(d,"resolve"))return null;throw d}}async function zE(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await ge(t,wg,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await LE(t,{record:c,gatewayUrls:r})}catch{return null}}async function jE(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=xo({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:F6,functionName:"reverse",args:[ln(ju(c))],blockNumber:n,blockTag:r},f=ge(t,zr,"readContract"),[d,h]=s?await f({...u,args:[...u.args,s]}):await f(u);return e.toLowerCase()!==h.toLowerCase()?null:d}catch(u){if(i)throw u;if(ih(u,"reverse"))return null;throw u}}async function DE(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:i}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return xo({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await ge(t,zr,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ln(ju(s))],blockNumber:n,blockTag:r});return c}async function vg(t,e){var _,k,O;const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:h,value:m,...w}=e,E=n?Cn(n):void 0;try{Ka(e);const U=(typeof r=="bigint"?ee(r):void 0)||s,$=(O=(k=(_=t.chain)==null?void 0:_.formatters)==null?void 0:k.transactionRequest)==null?void 0:O.format,z=($||Au)({...Hd(w,{format:$}),from:E==null?void 0:E.address,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:h,value:m}),H=await t.request({method:"eth_createAccessList",params:[z,U]});return{accessList:H.accessList,gasUsed:BigInt(H.gasUsed)}}catch(M){throw $y(M,{...e,account:E,chain:t.chain})}}function Vu(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function qE(t){const e=Vu(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class VE extends Y{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const op="/docs/contract/encodeEventTopics";function Ja(t){var c;const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const u=fi({abi:e,name:n});if(!u)throw new R0(n,{docsPath:op});s=u}if(s.type!=="event")throw new R0(void 0,{docsPath:op});const i=sr(s),o=Lu(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,h)=>Array.isArray(f[h])?f[h].map((m,w)=>ap({param:d,value:f[h][w]})):typeof f[h]<"u"&&f[h]!==null?ap({param:d,value:f[h]}):null))??[])}return[o,...a]}function ap({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Dt(vo(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new VE(t.type);return Kr([t],[e])}async function xg(t,e){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=e,u=Vu(t,{method:"eth_newFilter"}),f=i?Ja({abi:r,args:s,eventName:i}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?ee(o):o,toBlock:typeof c=="bigint"?ee(c):c,topics:f}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}async function Eg(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Vu(t,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(m=>Ja({abi:[m],eventName:m.name,args:n}))],r&&(f=f[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?ee(i):i,toBlock:typeof a=="bigint"?ee(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function Sg(t){const e=Vu(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function HE(t,e){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=e,c=gr({abi:n,args:s,functionName:i});try{return await ge(t,rh,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?Cn(a.account):void 0;throw uo(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f==null?void 0:f.address})}}async function KE(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const GE=new Map,ZE=new Map;function WE(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,GE),r=e(t,ZE);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function JE(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=WE(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const YE=t=>`blockNumber.${t}`;async function Ya(t,{cacheTime:e=t.cacheTime}={}){const n=await JE(()=>t.request({method:"eth_blockNumber"}),{cacheKey:YE(t.uid),cacheTime:e});return BigInt(n)}async function QE(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?ee(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Rn(i)}async function cp(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?ee(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(i!=="0x")return i}function Qa(t,e){if(!Mt(t,{strict:!1}))throw new en({address:t});if(!Mt(e,{strict:!1}))throw new en({address:e});return t.toLowerCase()===e.toLowerCase()}const up="/docs/contract/decodeEventLog";function hh(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new bx({docsPath:up});const c=e.find(E=>E.type==="event"&&o===Lu(sr(E)));if(!(c&&"name"in c)||c.type!=="event")throw new fy(o,{docsPath:up});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(E=>!("name"in E&&E.name)),h=d?[]:{},m=f.map((E,_)=>[E,_]).filter(([E])=>"indexed"in E&&E.indexed);for(let E=0;E<m.length;E++){const[_,k]=m[E],O=a[E];if(!O)throw new Uu({abiItem:c,param:_});h[d?k:_.name||k]=XE({param:_,value:O})}const w=f.filter(E=>!("indexed"in E&&E.indexed));if(w.length>0){if(n&&n!=="0x")try{const E=Va(w,n);if(E)if(d)for(let _=0;_<f.length;_++)h[_]=h[_]??E.shift();else for(let _=0;_<w.length;_++)h[w[_].name]=E[_]}catch(E){if(i)throw E instanceof ay||E instanceof Mm?new jo({abiItem:c,data:n,params:w,size:Je(n)}):E}else if(i)throw new jo({abiItem:c,data:"0x",params:w,size:0})}return{eventName:u,args:Object.values(h).length>0?h:void 0}}function XE({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Va([t],e)||[])[0]}function ph(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(f=>f.type==="event"&&o.topics[0]===Lu(f));if(!c)return null;const u=hh({...o,abi:[c],strict:s});return i&&!i.includes(u.eventName)||!eS({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,f;if(c instanceof fy)return null;if(c instanceof jo||c instanceof Uu){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:f?[]:{},eventName:u}}}).filter(Boolean)}function eS(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?Qa(o,a):i.type==="string"||i.type==="bytes"?Dt(vo(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,e[i])):!1}):!1}async function mh(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,f=o??(i?[i]:void 0);let d=[];f&&(d=[f.flatMap(E=>Ja({abi:[E],eventName:E.name,args:o?void 0:a}))],i&&(d=d[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?ee(r):r,toBlock:typeof s=="bigint"?ee(s):s}]});const m=h.map(w=>Fr(w));return f?ph({abi:f,args:a,logs:m,strict:u}):m}async function _g(t,e){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=e,f=o?fi({abi:n,name:o}):void 0,d=f?void 0:n.filter(h=>h.type==="event");return ge(t,mh,"getLogs")({address:r,args:s,blockHash:i,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}class tS extends Y{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function nS(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[i,o,a,c,u,f,d]=await ge(t,zr,"readContract")({abi:rS,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new tS({address:n}):o}}const rS=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function sS(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function iS(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?ee(n):void 0,o=await t.request({method:"eth_feeHistory",params:[ee(e),i||r,s]},{dedupe:!!i});return sS(o)}async function Hu(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Fr(i));return!("abi"in e)||!e.abi?s:ph({abi:e.abi,logs:s,strict:n})}async function oS(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>Fr(i));return e.abi?ph({abi:e.abi,logs:s,strict:n}):s}async function aS(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?ee(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function yh(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var f,d,h;const o=r||"latest",a=n!==void 0?ee(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ee(i)]},{dedupe:!0}):(a||o)&&(c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,ee(i)]},{dedupe:!!a})),!c)throw new Om({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((h=(d=(f=t.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||_u)(c)}async function cS(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([ge(t,Ya,"getBlockNumber")({}),e?ge(t,yh,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Bc(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new $m({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||km)(n)}async function uS(t,e){var k;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,u=e.contracts,f=s??(typeof((k=t.batch)==null?void 0:k.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=xo({blockNumber:i,chain:t.chain,contract:"multicall3"})}const h=[[]];let m=0,w=0;for(let O=0;O<u.length;O++){const{abi:M,address:U,args:$,functionName:j}=u[O];try{const z=gr({abi:M,args:$,functionName:j});w+=(z.length-2)/2,f>0&&w>f&&h[m].length>0&&(m++,w=(z.length-2)/2,h[m]=[]),h[m]=[...h[m],{allowFailure:!0,callData:z,target:U}]}catch(z){const H=uo(z,{abi:M,address:U,args:$,docsPath:"/docs/contract/multicall",functionName:j,sender:n});if(!r)throw H;h[m]=[...h[m],{allowFailure:!0,callData:"0x",target:U}]}}const E=await Promise.allSettled(h.map(O=>ge(t,zr,"readContract")({abi:Zl,account:n,address:d,args:[O],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),_=[];for(let O=0;O<E.length;O++){const M=E[O];if(M.status==="rejected"){if(!r)throw M.reason;for(let $=0;$<h[O].length;$++)_.push({status:"failure",error:M.reason,result:void 0});continue}const U=M.value;for(let $=0;$<U.length;$++){const{returnData:j,success:z}=U[$],{callData:H}=h[O][$],{abi:R,address:q,functionName:L,args:V}=u[_.length];try{if(H==="0x")throw new Da;if(!z)throw new Fu({data:j});const x=li({abi:R,args:V,data:j,functionName:L});_.push(r?{result:x,status:"success"}:x)}catch(x){const l=uo(x,{abi:R,address:q,args:V,docsPath:"/docs/contract/multicall",functionName:L});if(!r)throw l;_.push({error:l,result:void 0,status:"failure"})}}}if(_.length!==u.length)throw new Y("multicall results mismatch");return _}async function Xl(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=e;try{const c=[];for(const h of s){const m=h.blockOverrides?pg(h.blockOverrides):void 0,w=h.calls.map(_=>{const k=_,O=k.account?Cn(k.account):void 0,M=k.abi?gr(k):k.data,U={...k,data:k.dataSuffix?rr([M||"0x",k.dataSuffix]):M,from:k.from??(O==null?void 0:O.address)};return Ka(U),Au(U)}),E=h.stateOverrides?nh(h.stateOverrides):void 0;c.push({blockOverrides:m,calls:w,stateOverrides:E})}const f=(typeof n=="bigint"?ee(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((h,m)=>({...Rd(h),calls:h.calls.map((w,E)=>{var q,L;const{abi:_,args:k,functionName:O,to:M}=s[m].calls[E],U=((q=w.error)==null?void 0:q.data)??w.returnData,$=BigInt(w.gasUsed),j=(L=w.logs)==null?void 0:L.map(V=>Fr(V)),z=w.status==="0x1"?"success":"failure",H=_&&z==="success"&&U!=="0x"?li({abi:_,data:U,functionName:O}):null,R=(()=>{var x;if(z==="success")return;let V;if(((x=w.error)==null?void 0:x.data)==="0x"?V=new Da:w.error&&(V=new Fu(w.error)),!!V)return uo(V,{abi:_??[],address:M??"0x",args:k,functionName:O??"<unknown>"})})();return{data:U,gasUsed:$,logs:j,status:z,...z==="success"?{result:H}:{error:R}}})}))}catch(c){const u=c,f=Vd(u,{});throw f instanceof Tu?u:f}}function Ag(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=ey(iE(t));return n==="Bytes"?r:lg(r)}class fS extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const lS={checksum:new fS(8192)},Df=lS.checksum,dS=/^0x[a-fA-F0-9]{40}$/;function Ku(t,e={}){const{strict:n=!0}=e;if(!dS.test(t))throw new fp({address:t,cause:new pS});if(n){if(t.toLowerCase()===t)return;if(hS(t)!==t)throw new fp({address:t,cause:new mS})}}function hS(t){if(Df.has(t))return Df.get(t);Ku(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Ag(cE(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Df.set(t,s),s}function ed(t,e={}){const{strict:n=!0}=e??{};try{return Ku(t,{strict:n}),!0}catch{return!1}}class fp extends ct{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}let pS=class extends ct{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}};class mS extends ct{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function td(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ct("Unable to normalize signature.");return s}function nd(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ed(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>nd(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>nd(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ig(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Ig(s.components,i.components,n[r]);const o=[s.type,i.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ed(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ed(n[r],{strict:!1}):!1)())return o}}function Bg(t,e={}){const{prepare:n=!0}=e,r=(()=>Array.isArray(t)||typeof t=="string"?T0(t):t)();return{...r,...n?{hash:Oi(r)}:{}}}function yS(t,e,n){const{args:r=[],prepare:s=!0}=n??{},i=mE(e,{strict:!1}),o=t.filter(u=>i?u.type==="function"||u.type==="error"?kg(u)===uh(e,0,4):u.type==="event"?Oi(u)===e:!1:"name"in u&&u.name===e);if(o.length===0)throw new rd({name:e});if(o.length===1)return{...o[0],...s?{hash:Oi(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Oi(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,h)=>{const m="inputs"in u&&u.inputs[h];return m?nd(d,m):!1})){if(a&&"inputs"in a&&a.inputs){const d=Ig(u.inputs,a.inputs,r);if(d)throw new bS({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new rd({name:e});return{...c,...s?{hash:Oi(c)}:{}}}function kg(t){return uh(Oi(t),0,4)}function gS(t){const e=(()=>typeof t=="string"?t:$c(t))();return td(e)}function Oi(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Ag(ch(gS(t)))}class bS extends ct{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${td($c(e.abiItem))}\`, and`,`\`${n.type}\` in \`${td($c(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class rd extends ct{constructor({name:e,data:n,type:r="item"}){const s=(()=>e?` with name "${e}"`:n?` with data "${n}"`:"")();super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const wS=/^(.*)\[([0-9]*)\]$/,vS=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Mg=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function xS({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(gh({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function gh({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=MS(r.type);if(s){const[i,o]=s;return SS(n,{checksumAddress:t,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return kS(n,{checksumAddress:t,parameter:r});if(r.type==="address")return ES(n,{checksum:t});if(r.type==="bool")return AS(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=Mg.exec(r.type)??[];return IS(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return _S(n,{type:r.type});if(r.type==="string")return BS(n);throw new Pg(r.type)}function bh(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Hn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(an(e+s,{size:32})),r.push(a),s+=Hn(a)):n.push(a)}return mr(...n,...r)}function ES(t,e){const{checksum:n=!1}=e;return Ku(t,{strict:n}),{dynamic:!1,encoded:ri(t.toLowerCase())}}function SS(t,e){const{checksumAddress:n,length:r,parameter:s}=e,i=r===null;if(!Array.isArray(t))throw new CS(t);if(!i&&t.length!==r)throw new RS({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const u=gh({checksumAddress:n,parameter:s,value:t[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=bh(a);if(i){const u=an(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?mr(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:mr(...a.map(({encoded:c})=>c))}}function _S(t,{type:e}){const[,n]=e.split("bytes"),r=Hn(t);if(!n){let s=t;return r%32!==0&&(s=si(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:mr(ri(an(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new Cg({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:si(t)}}function AS(t){if(typeof t!="boolean")throw new ct(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ri(fg(t))}}function IS(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new dg({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:an(t,{size:32,signed:e})}}function BS(t){const e=ch(t),n=Math.ceil(Hn(e)/32),r=[];for(let s=0;s<n;s++)r.push(si(uh(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:mr(si(an(Hn(e),{size:32})),...r)}}function kS(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,u=gh({checksumAddress:n,parameter:a,value:t[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?bh(i):mr(...i.map(({encoded:o})=>o))}}function MS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Rg(t,e,n){const{checksumAddress:r=!1}=n??{};if(t.length!==e.length)throw new Tg({expectedLength:t.length,givenLength:e.length});const s=xS({checksumAddress:r,parameters:t,values:e}),i=bh(s);return i.length===0?"0x":i}function sd(t,e){if(t.length!==e.length)throw new Tg({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(sd.encode(s,i))}return mr(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const c=r;return Ku(c),ri(c.toLowerCase(),s?32:0)}if(n==="string")return ch(r);if(n==="bytes")return r;if(n==="bool")return ri(fg(r),s?32:1);const i=n.match(Mg);if(i){const[c,u,f="256"]=i,d=Number.parseInt(f)/8;return an(r,{size:s?32:d,signed:u==="int"})}const o=n.match(vS);if(o){const[c,u]=o;if(Number.parseInt(u)!==(r.length-2)/2)throw new Cg({expectedSize:Number.parseInt(u),value:r});return si(r,s?32:0)}const a=n.match(wS);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(e(u,r[d],!0));return f.length===0?"0x":mr(...f)}throw new Pg(n)}t.encode=e})(sd||(sd={}));class RS extends ct{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Cg extends ct{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Hn(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Tg extends ct{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class CS extends ct{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Pg extends ct{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function TS(t,e){var s;const{bytecode:n,args:r}=e;return mr(n,(s=t.inputs)!=null&&s.length&&(r!=null&&r.length)?Rg(t.inputs,r):"0x")}function PS(t){return Bg(t)}function OS(t,...e){const{overloads:n}=t,r=n?$S([t,...n],t.name,{args:e[0]}):t,s=NS(r),i=e.length>0?Rg(r.inputs,e[0]):void 0;return i?mr(s,i):s}function Si(t,e={}){return Bg(t,e)}function $S(t,e,n){const r=yS(t,e,n);if(r.type!=="function")throw new rd({name:e,type:"function"});return r}function NS(t){return kg(t)}const US="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",cr="0x0000000000000000000000000000000000000000",pc=new Pu(8192);function LS(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(pc.get(n))return pc.get(n);const r=t().finally(()=>pc.delete(n));return pc.set(n,r),r}async function id(t){return new Promise(e=>setTimeout(e,t))}function aa(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof e=="function"?e({count:a,error:u}):e;f&&await id(f),o({count:a+1})};try{const u=await t();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function FS(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new Ms(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new Ms(new Error("method not supported"),{method:u});const f=s?ro(`${c}.${Bt(n)}`):void 0;return LS(()=>aa(async()=>{try{return await t(n)}catch(h){const m=h;switch(m.code){case qo.code:throw new qo(m);case Vo.code:throw new Vo(m);case Ho.code:throw new Ho(m,{method:n.method});case Ko.code:throw new Ko(m);case Xs.code:throw new Xs(m);case ei.code:throw new ei(m);case Go.code:throw new Go(m);case gs.code:throw new gs(m);case Zo.code:throw new Zo(m);case Ms.code:throw new Ms(m,{method:n.method});case co.code:throw new co(m);case Wo.code:throw new Wo(m);case it.code:throw new it(m);case Jo.code:throw new Jo(m);case Yo.code:throw new Yo(m);case Qo.code:throw new Qo(m);case Pl.code:throw new Pl(m);case vn.code:throw new vn(m);case Xo.code:throw new Xo(m);case ea.code:throw new ea(m);case ta.code:throw new ta(m);case na.code:throw new na(m);case ra.code:throw new ra(m);case sa.code:throw new sa(m);case ia.code:throw new ia(m);case 5e3:throw new it(m);default:throw h instanceof Y?h:new D2(m)}}},{delay:({count:h,error:m})=>{var w;if(m&&m instanceof Hs){const E=(w=m==null?void 0:m.headers)==null?void 0:w.get("Retry-After");if(E!=null&&E.match(/\d/))return Number.parseInt(E)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>zS(h)}),{enabled:s,id:f})}}function zS(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===co.code||t.code===Xs.code:t instanceof Hs&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}class jS extends Y{constructor({callbackSelector:e,cause:n,data:r,extraData:s,sender:i,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${Ha(c)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class DS extends Y{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Ha(n)}`,`Response: ${Bt(e)}`],name:"OffchainLookupResponseMalformedError"})}}class qS extends Y{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const VS="0x556f1830",Og={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function HS(t,{blockNumber:e,blockTag:n,data:r,to:s}){const{args:i}=My({data:r,abi:[Og]}),[o,a,c,u,f]=i,{ccipRead:d}=t,h=d&&typeof(d==null?void 0:d.request)=="function"?d.request:$g;try{if(!Qa(s,o))throw new qS({sender:o,to:s});const m=a.includes(zu)?await ng({data:c,ccipRequest:h}):await h({data:c,sender:o,urls:a}),{data:w}=await Wa(t,{blockNumber:e,blockTag:n,data:rr([u,Kr([{type:"bytes"},{type:"bytes"}],[m,f])]),to:s});return w}catch(m){throw new jS({callbackSelector:u,cause:m,data:r,extraData:f,sender:o,urls:a})}}async function $g({data:t,sender:e,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const o=n[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:t,sender:e}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new Hs({body:c,details:d!=null&&d.error?Bt(d.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!nr(d)){r=new DS({result:d,url:o});continue}return d}catch(f){r=new Hs({body:c,details:f.message,url:o})}}throw r}const KS=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:$g,offchainLookup:HS,offchainLookupAbiItem:Og,offchainLookupSignature:VS},Symbol.toStringTag,{value:"Module"}));function Ng(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function GS(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const lp=GS();function ZS(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=a;try{const h=await Ng(async({signal:w})=>{const E={...a,body:Array.isArray(r)?Bt(r.map(M=>({jsonrpc:"2.0",id:M.id??lp.take(),...M}))):Bt({jsonrpc:"2.0",id:r.id??lp.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(o>0?w:null)},_=new Request(t,E),k=await(s==null?void 0:s(_,E))??{...E,url:t};return await fetch(k.url??t,k)},{errorInstance:new $0({body:r,url:t}),timeout:o,signal:!0});i&&await i(h);let m;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))m=await h.json();else{m=await h.text();try{m=JSON.parse(m||"{}")}catch(w){if(h.ok)throw w;m={error:m}}}if(!h.ok)throw new Hs({body:r,details:Bt(m.error)||h.statusText,headers:h.headers,status:h.status,url:t});return m}catch(h){throw h instanceof Hs||h instanceof $0?h:new Hs({body:r,cause:h,url:t})}}}}class WS extends Y{constructor({domain:e}){super(`Invalid domain "${Bt(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class JS extends Y{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class YS extends Y{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function QS(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:r_({domain:e}),...t.types};n_({domain:e,message:n,primaryType:r,types:s});const i=["0x1901"];return e&&i.push(XS({domain:e,types:s})),r!=="EIP712Domain"&&i.push(Ug({data:n,primaryType:r,types:s})),Dt(rr(i))}function XS({domain:t,types:e}){return Ug({data:t,primaryType:"EIP712Domain",types:e})}function Ug({data:t,primaryType:e,types:n}){const r=Lg({data:t,primaryType:e,types:n});return Dt(r)}function Lg({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[e_({primaryType:e,types:n})];for(const i of n[e]){const[o,a]=zg({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(o),s.push(a)}return Kr(r,s)}function e_({primaryType:t,types:e}){const n=ln(t_({primaryType:t,types:e}));return Dt(n)}function t_({primaryType:t,types:e}){let n="";const r=Fg({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function Fg({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])Fg({primaryType:i.type,types:e},n);return n}function zg({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Dt(Lg({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Dt(r)];if(n==="string")return[{type:"bytes32"},Dt(ln(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>zg({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},Dt(Kr(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function n_(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:u,type:f}=c,d=a[u],h=f.match(Fd);if(h&&(typeof d=="number"||typeof d=="bigint")){const[E,_,k]=h;ee(d,{signed:_==="int",size:Number.parseInt(k)/8})}if(f==="address"&&typeof d=="string"&&!Mt(d))throw new en({address:d});const m=f.match(ky);if(m){const[E,_]=m;if(_&&Je(d)!==Number.parseInt(_))throw new dy({expectedSize:Number.parseInt(_),givenSize:Je(d)})}const w=s[f];w&&(s_(f),i(w,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new WS({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new JS({primaryType:r,types:s})}function r_({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function s_(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new YS({type:t})}function qk(t,e){if(t.length!==e.length)throw new cy({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(jg(s,i))}return Pn(n)}function jg(t,e,n=!1){if(t==="address"){const o=e;if(!Mt(o))throw new en({address:o});return Nr(o.toLowerCase(),{size:n?32:null})}if(t==="string")return ro(e);if(t==="bytes")return e;if(t==="bool")return Nr(kd(e),{size:n?32:1});const r=t.match(Fd);if(r){const[o,a,c="256"]=r,u=Number.parseInt(c)/8;return ee(e,{size:n?32:u,signed:a==="int"})}const s=t.match(ky);if(s){const[o,a]=s;if(Number.parseInt(a)!==(e.length-2)/2)throw new dy({expectedSize:Number.parseInt(a),givenSize:(e.length-2)/2});return Nr(e,{dir:"right",size:n?32:null})}const i=t.match(b2);if(i&&Array.isArray(e)){const[o,a]=i,c=[];for(let u=0;u<e.length;u++)c.push(jg(a,e[u],!0));return c.length===0?"0x":Pn(c)}throw new _x(t)}const i_=`Ethereum Signed Message:
`;function o_(t){const e=(()=>typeof t=="string"?ro(t):typeof t.raw=="string"?t.raw:kt(t.raw))(),n=ro(`${i_}${Je(e)}`);return rr([n,e])}function Dg(t,e){return Dt(o_(t),e)}const qg="0x6492649264926492649264926492649264926492649264926492649264926492";function a_(t){return Tc(t,-32)===qg}function c_(t){const{address:e,data:n,signature:r,to:s="hex"}=t,i=Pn([Kr([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),qg]);return s==="hex"?i:Mn(i)}class u_ extends Y{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Vk(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new u_({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Hk(t){const{source:e}=t,n=new Map,r=new Pu(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a}),f=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await f;return await e.set({address:o,chainId:a},d),r.set(u,d),d},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const h=await e.get({address:o,chainId:a,client:c}),m=r.get(u)??0;return m>0&&h<=m?m+1:(r.delete(u),h)}finally{this.reset({address:o,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}const f_="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function l_(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=e,u=e.account?Cn(e.account):void 0;if(o&&!u)throw new Y("`account` is required when `traceAssetChanges` is true");const f=u?TS(PS("constructor(bytes, bytes)"),{bytecode:mg,args:[f_,OS(Si("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(e.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:C}=await vg(t,{account:u.address,...S,data:S.abi?gr(S):S.data});return C.map(({address:N,storageKeys:A})=>A.length>0?N:null)})).then(S=>S.flat().filter(Boolean)):[],h=await Xl(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:i},{calls:d.map((S,C)=>({abi:[Si("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:cr,nonce:C})),stateOverrides:[{address:cr,nonce:0}]}]:[],{calls:[...s,{}].map(S=>({...S,from:u==null?void 0:u.address})),stateOverrides:i},...o?[{calls:[{data:f}]},{calls:d.map((S,C)=>({abi:[Si("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:cr,nonce:C})),stateOverrides:[{address:cr,nonce:0}]},{calls:d.map((S,C)=>({to:S,abi:[Si("function decimals() returns (uint256)")],functionName:"decimals",from:cr,nonce:C})),stateOverrides:[{address:cr,nonce:0}]},{calls:d.map((S,C)=>({to:S,abi:[Si("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:cr,nonce:C})),stateOverrides:[{address:cr,nonce:0}]},{calls:d.map((S,C)=>({to:S,abi:[Si("function symbol() returns (string)")],functionName:"symbol",from:cr,nonce:C})),stateOverrides:[{address:cr,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?h[2]:h[0],[w,E,,_,k,O,M,U]=o?h:[],{calls:$,...j}=m,z=$.slice(0,-1)??[],H=(w==null?void 0:w.calls)??[],R=(E==null?void 0:E.calls)??[],q=[...H,...R].map(S=>S.status==="success"?$t(S.data):null),L=(_==null?void 0:_.calls)??[],V=(k==null?void 0:k.calls)??[],x=[...L,...V].map(S=>S.status==="success"?$t(S.data):null),l=((O==null?void 0:O.calls)??[]).map(S=>S.status==="success"?S.result:null),p=((U==null?void 0:U.calls)??[]).map(S=>S.status==="success"?S.result:null),v=((M==null?void 0:M.calls)??[]).map(S=>S.status==="success"?S.result:null),I=[];for(const[S,C]of x.entries()){const N=q[S];if(typeof C!="bigint"||typeof N!="bigint")continue;const A=l[S-1],g=p[S-1],T=v[S-1],X=(()=>S===0?{address:US,decimals:18,symbol:"ETH"}:{address:d[S-1],decimals:T||A?Number(A??1):void 0,symbol:g??void 0})();I.some(J=>J.token.address===X.address)||I.push({token:X,value:{pre:N,post:C,diff:C-N}})}return{assetChanges:I,block:j,results:z}}const qf=new Map,dp=new Map;let d_=0;function jr(t,e,n){const r=++d_,s=()=>qf.get(t)||[],i=()=>{const f=s();qf.set(t,f.filter(d=>d.id!==r))},o=()=>{const f=s();if(!f.some(h=>h.id===r))return;const d=dp.get(t);if(f.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}i()},a=s();if(qf.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const f in e)c[f]=(...d)=>{var m,w;const h=s();if(h.length!==0)for(const E of h)(w=(m=E.fns)[f])==null||w.call(m,...d)};const u=n(c);return typeof u=="function"&&dp.set(t,u),o}function _o(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await id(c);const u=async()=>{s&&(await t({unpoll:i}),await id(r),u())};u()})(),i}function h_(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const u=(()=>typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))(),f=o??!1;let d;return u?(()=>{const w=Bt(["watchBlocks",t.uid,e,n,r,f,c]);return jr(w,{onBlock:s,onError:i},E=>_o(async()=>{var _;try{const k=await ge(t,hr,"getBlock")({blockTag:e,includeTransactions:f});if(k.number!==null&&(d==null?void 0:d.number)!=null){if(k.number===d.number)return;if(k.number-d.number>1&&n)for(let O=(d==null?void 0:d.number)+1n;O<k.number;O++){const M=await ge(t,hr,"getBlock")({blockNumber:O,includeTransactions:f});E.onBlock(M,d),d=M}}((d==null?void 0:d.number)==null||e==="pending"&&(k==null?void 0:k.number)==null||k.number!==null&&k.number>d.number)&&(E.onBlock(k,d),d=k)}catch(k){(_=E.onError)==null||_.call(E,k)}},{emitOnBegin:r,interval:c}))})():(()=>{let w=!0,E=!0,_=()=>w=!1;return(async()=>{try{r&&ge(t,hr,"getBlock")({blockTag:e,includeTransactions:f}).then(M=>{w&&E&&(s(M,void 0),E=!1)}).catch(i);const k=(()=>{if(t.transport.type==="fallback"){const M=t.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return M?M.value:t.transport}return t.transport})(),{unsubscribe:O}=await k.subscribe({params:["newHeads"],async onData(M){var $;if(!w)return;const U=await ge(t,hr,"getBlock")({blockNumber:($=M.result)==null?void 0:$.number,includeTransactions:f}).catch(()=>{});w&&(s(U,d),E=!1,d=U)},onError(M){i==null||i(M)}});_=O,w||_()}catch(k){i==null||i(k)}})(),()=>_()})()}function Vg(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=(()=>typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))();let c;return a?(()=>{const d=Bt(["watchBlockNumber",t.uid,e,n,o]);return jr(d,{onBlockNumber:r,onError:s},h=>_o(async()=>{var m;try{const w=await ge(t,Ya,"getBlockNumber")({cacheTime:0});if(c){if(w===c)return;if(w-c>1&&n)for(let E=c+1n;E<w;E++)h.onBlockNumber(E,c),c=E}(!c||w>c)&&(h.onBlockNumber(w,c),c=w)}catch(w){(m=h.onError)==null||m.call(h,w)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Bt(["watchBlockNumber",t.uid,e,n]);return jr(d,{onBlockNumber:r,onError:s},h=>{let m=!0,w=()=>m=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(O=>O.config.type==="webSocket"||O.config.type==="ipc");return k?k.value:t.transport}return t.transport})(),{unsubscribe:_}=await E.subscribe({params:["newHeads"],onData(k){var M;if(!m)return;const O=$t((M=k.result)==null?void 0:M.number);h.onBlockNumber(O,c),c=O},onError(k){var O;(O=h.onError)==null||O.call(h,k)}});w=_,m||w()}catch(E){s==null||s(E)}})(),()=>w()})})()}async function Gu(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function p_(t,{address:e,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:f=t.pollingInterval,strict:d}){const h=(()=>typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))(),m=d??!1;return h?(()=>{const _=Bt(["watchEvent",e,n,r,t.uid,s,f,o]);return jr(_,{onLogs:c,onError:a},k=>{let O;o!==void 0&&(O=o-1n);let M,U=!1;const $=_o(async()=>{var j;if(!U){try{M=await ge(t,Eg,"createEventFilter")({address:e,args:n,event:s,events:i,strict:m,fromBlock:o})}catch{}U=!0;return}try{let z;if(M)z=await ge(t,Hu,"getFilterChanges")({filter:M});else{const H=await ge(t,Ya,"getBlockNumber")({});O&&O!==H?z=await ge(t,mh,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:O+1n,toBlock:H}):z=[],O=H}if(z.length===0)return;if(r)k.onLogs(z);else for(const H of z)k.onLogs([H])}catch(z){M&&z instanceof ei&&(U=!1),(j=k.onError)==null||j.call(k,z)}},{emitOnBegin:!0,interval:f});return async()=>{M&&await ge(t,Gu,"uninstallFilter")({filter:M}),$()}})})():(()=>{let _=!0,k=()=>_=!1;return(async()=>{try{const O=(()=>{if(t.transport.type==="fallback"){const j=t.transport.transports.find(z=>z.config.type==="webSocket"||z.config.type==="ipc");return j?j.value:t.transport}return t.transport})(),M=i??(s?[s]:void 0);let U=[];M&&(U=[M.flatMap(z=>Ja({abi:[z],eventName:z.name,args:n}))],s&&(U=U[0]));const{unsubscribe:$}=await O.subscribe({params:["logs",{address:e,topics:U}],onData(j){var H;if(!_)return;const z=j.result;try{const{eventName:R,args:q}=hh({abi:M??[],data:z.data,topics:z.topics,strict:m}),L=Fr(z,{args:q,eventName:R});c([L])}catch(R){let q,L;if(R instanceof jo||R instanceof Uu){if(d)return;q=R.abiItem.name,L=(H=R.abiItem.inputs)==null?void 0:H.some(x=>!("name"in x&&x.name))}const V=Fr(z,{args:L?[]:{},eventName:q});c([V])}},onError(j){a==null||a(j)}});k=$,_||k()}catch(O){a==null||a(O)}})(),()=>k()})()}function m_(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=Bt(["watchPendingTransactions",t.uid,e,i]);return jr(u,{onTransactions:r,onError:n},f=>{let d;const h=_o(async()=>{var m;try{if(!d)try{d=await ge(t,Sg,"createPendingTransactionFilter")({});return}catch(E){throw h(),E}const w=await ge(t,Hu,"getFilterChanges")({filter:d});if(w.length===0)return;if(e)f.onTransactions(w);else for(const E of w)f.onTransactions([E])}catch(w){(m=f.onError)==null||m.call(f,w)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await ge(t,Gu,"uninstallFilter")({filter:d}),h()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!u)return;const m=h.result;r([m])},onError(h){n==null||n(h)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}const y_="0x5792579257925792579257925792579257925792579257925792579257925792",g_=ee(0,{size:32});async function b_(t,e){async function n(f){if(f.endsWith(y_.slice(2))){const h=kn(Tc(f,-64,-32)),m=Tc(f,0,-64).slice(2).match(/.{1,64}/g),w=await Promise.all(m.map(_=>g_.slice(2)!==_?t.request({method:"eth_getTransactionReceipt",params:[`0x${_}`]},{dedupe:!0}):void 0)),E=(()=>w.some(_=>_===null)?100:w.every(_=>(_==null?void 0:_.status)==="0x1")?200:w.every(_=>(_==null?void 0:_.status)==="0x0")?500:600)();return{atomic:!1,chainId:Rn(h),receipts:w.filter(Boolean),status:E,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?Rn(s):void 0,receipts:(i==null?void 0:i.map(f=>({...f,blockNumber:$t(f.blockNumber),gasUsed:$t(f.gasUsed),status:Bm[f.status]})))??[],statusCode:u,status:c,version:o}}class w_ extends Y{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}async function Kk(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:E})=>E===200||E>=300,retryCount:i=4,retryDelay:o=({count:E})=>~~(1<<E)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,u=Bt(["waitForCallsStatus",t.uid,n]),{promise:f,resolve:d,reject:h}=fh();let m;const w=jr(u,{resolve:d,reject:h},E=>{const _=_o(async()=>{const k=O=>{clearTimeout(m),_(),O(),w()};try{const O=await aa(async()=>{const M=await b_(t,{id:n});if(c&&M.status==="failure")throw new w_(M);return M},{retryCount:i,delay:o});if(!s(O))return;k(()=>E.resolve(O))}catch(O){k(()=>E.reject(O))}},{interval:r,emitOnBegin:!0});return _});return m=a?setTimeout(()=>{w(),clearTimeout(m),h(new v_({id:n}))},a):void 0,await f}class v_ extends Y{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function x_(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function E_(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Rn(t.nonce):void 0,storageProof:t.storageProof?x_(t.storageProof):void 0}}async function S_(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?ee(n):void 0,a=await t.request({method:"eth_getProof",params:[e,s,o||i]});return E_(a)}async function __(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:$})=>~~(1<<$)*200,timeout:c=18e4}=e,u=Bt(["waitForTransactionReceipt",t.uid,s]),f=(()=>{var $;return e.pollingInterval?e.pollingInterval:($=t.chain)!=null&&$.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let d,h,m,w=!1,E,_;const{promise:k,resolve:O,reject:M}=fh(),U=c?setTimeout(()=>{_(),E(),M(new iv({hash:s}))},c):void 0;return E=jr(u,{onReplaced:i,resolve:O,reject:M},async $=>{if(m=await ge(t,Bc,"getTransactionReceipt")({hash:s}).catch(()=>{}),m&&r<=1){clearTimeout(U),$.resolve(m),E();return}_=ge(t,Vg,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(j){const z=R=>{clearTimeout(U),_(),R(),E()};let H=j;if(!w)try{if(m){if(r>1&&(!m.blockNumber||H-m.blockNumber+1n<r))return;z(()=>$.resolve(m));return}if(n&&!d&&(w=!0,await aa(async()=>{d=await ge(t,yh,"getTransaction")({hash:s}),d.blockNumber&&(H=d.blockNumber)},{delay:a,retryCount:o}),w=!1),m=await ge(t,Bc,"getTransactionReceipt")({hash:s}),r>1&&(!m.blockNumber||H-m.blockNumber+1n<r))return;z(()=>$.resolve(m))}catch(R){if(R instanceof Om||R instanceof $m){if(!d){w=!1;return}try{h=d,w=!0;const q=await aa(()=>ge(t,hr,"getBlock")({blockNumber:H,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:x})=>x instanceof Jy});w=!1;const L=q.transactions.find(({from:x,nonce:l})=>x===h.from&&l===h.nonce);if(!L||(m=await ge(t,Bc,"getTransactionReceipt")({hash:L.hash}),r>1&&(!m.blockNumber||H-m.blockNumber+1n<r)))return;let V="replaced";L.to===h.to&&L.value===h.value&&L.input===h.input?V="repriced":L.from===L.to&&L.value===0n&&(V="cancelled"),z(()=>{var x;(x=$.onReplaced)==null||x.call($,{reason:V,replacedTransaction:h,transaction:L,transactionReceipt:m}),$.resolve(m)})}catch(q){z(()=>$.reject(q))}}else z(()=>$.reject(R))}}})}),k}async function Gk(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new lx({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Cn(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Cn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await ge(t,Xd,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ge(t,sh,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&Qa(o.address,i.address))&&(a.nonce+=1)),a}async function A_(t,e){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=e,c=a.account?Cn(a.account):t.account,u=gr({abi:n,args:s,functionName:o});try{const{data:f}=await ge(t,Wa,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=li({abi:n,args:s,functionName:o,data:f||"0x"}),h=n.filter(m=>"name"in m&&m.name===e.functionName);return{result:d,request:{abi:h,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw uo(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}class Hg extends Od{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Nm(e);const r=Mu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),xs(i)}update(e){return io(this),this.iHash.update(e),this}digestInto(e){io(this),Ht(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wh=(t,e,n)=>new Hg(t,e).update(n).digest();wh.create=(t,e)=>new Hg(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bn=BigInt(0),dn=BigInt(1),Rs=BigInt(2),I_=BigInt(3),Kg=BigInt(4),Gg=BigInt(5),Zg=BigInt(8);function Qt(t,e){const n=t%e;return n>=bn?n:e+n}function Ln(t,e,n){let r=t;for(;e-- >bn;)r*=r,r%=n;return r}function hp(t,e){if(t===bn)throw new Error("invert: expected non-zero number");if(e<=bn)throw new Error("invert: expected positive modulus, got "+e);let n=Qt(t,e),r=e,s=bn,i=dn;for(;n!==bn;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==dn)throw new Error("invert: does not exist");return Qt(s,e)}function Wg(t,e){const n=(t.ORDER+dn)/Kg,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function B_(t,e){const n=(t.ORDER-Gg)/Zg,r=t.mul(e,Rs),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Rs),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function k_(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-dn,n=0;for(;e%Rs===bn;)e/=Rs,n++;let r=Rs;const s=Wu(t);for(;pp(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Wg;let i=s.pow(r,e);const o=(e+dn)/Rs;return function(c,u){if(c.is0(u))return u;if(pp(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,i),h=c.pow(u,e),m=c.pow(u,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let w=1,E=c.sqr(h);for(;!c.eql(E,c.ONE);)if(w++,E=c.sqr(E),w===f)throw new Error("Cannot find square root");const _=dn<<BigInt(f-w-1),k=c.pow(d,_);f=w,d=c.sqr(k),h=c.mul(h,d),m=c.mul(m,k)}return m}}function M_(t){return t%Kg===I_?Wg:t%Zg===Gg?B_:k_(t)}const R_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jg(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=R_.reduce((r,s)=>(r[s]="function",r),e);return qu(t,n),t}function C_(t,e,n){if(n<bn)throw new Error("invalid exponent, negatives unsupported");if(n===bn)return t.ONE;if(n===dn)return e;let r=t.ONE,s=e;for(;n>bn;)n&dn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=dn;return r}function Zu(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function pp(t,e){const n=(t.ORDER-dn)/Rs,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function T_(t,e){e!==void 0&&so(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Wu(t,e,n=!1,r={}){if(t<=bn)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=e;f.BITS&&(s=f.BITS),f.sqrt&&(i=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=T_(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Du(o),ZERO:bn,ONE:dn,create:f=>Qt(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return bn<=f&&f<t},is0:f=>f===bn,isValidNot0:f=>!u.is0(f)&&u.isValid(f),isOdd:f=>(f&dn)===dn,neg:f=>Qt(-f,t),eql:(f,d)=>f===d,sqr:f=>Qt(f*f,t),add:(f,d)=>Qt(f+d,t),sub:(f,d)=>Qt(f-d,t),mul:(f,d)=>Qt(f*d,t),pow:(f,d)=>C_(u,f,d),div:(f,d)=>Qt(f*hp(d,t),t),sqrN:f=>f*f,addN:(f,d)=>f+d,subN:(f,d)=>f-d,mulN:(f,d)=>f*d,inv:f=>hp(f,t),sqrt:i||(f=>(c||(c=M_(t)),c(u,f))),toBytes:f=>n?og(f,a):Za(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return n?ig(f):di(f)},invertBatch:f=>Zu(u,f),cmov:(f,d,h)=>h?d:f});return Object.freeze(u)}function Yg(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Qg(t){const e=Yg(t);return e+Math.ceil(e/2)}function P_(t,e,n=!1){const r=t.length,s=Yg(e),i=Qg(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?ig(t):di(t),a=Qt(o,e-dn)+dn;return n?og(a,s):Za(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fo=BigInt(0),Cs=BigInt(1);function Lo(t,e){const n=e.negate();return t?n:e}function O_(t,e,n){const r=e==="pz"?o=>o.pz:o=>o.ez,s=Zu(t.Fp,n.map(r));return n.map((o,a)=>o.toAffine(s[a])).map(t.fromAffine)}function Xg(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Vf(t,e){Xg(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Du(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function mp(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Cs);const u=e*r,f=u+Math.abs(a)-1,d=a===0,h=a<0,m=e%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:h,isNegF:m,offsetF:u}}function $_(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function N_(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Hf=new WeakMap,eb=new WeakMap;function Kf(t){return eb.get(t)||1}function yp(t){if(t!==fo)throw new Error("invalid wNAF")}function U_(t,e){return{constTimeNegate:Lo,hasPrecomputes(n){return Kf(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>fo;)r&Cs&&(s=s.add(i)),i=i.double(),r>>=Cs;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Vf(r,e),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Vf(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:h,isNegF:m,offsetF:w}=mp(s,c,a);s=u,d?o=o.add(Lo(m,r[w])):i=i.add(Lo(h,r[f]))}return yp(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Vf(n,e);for(let a=0;a<o.windows&&s!==fo;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=mp(s,a,o);if(s=c,!f){const h=r[u];i=i.add(d?h.negate():h)}}return yp(s),i},getPrecomputes(n,r,s){let i=Hf.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Hf.set(r,i))),i},wNAFCached(n,r,s){const i=Kf(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Kf(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){Xg(r,e),eb.set(n,r),Hf.delete(n)}}}function L_(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>fo||r>fo;)n&Cs&&(i=i.add(s)),r&Cs&&(o=o.add(s)),s=s.double(),n>>=Cs,r>>=Cs;return{p1:i,p2:o}}function F_(t,e,n,r){$_(n,t),N_(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=G6(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Du(c),f=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let m=d;m>=0;m-=c){f.fill(o);for(let E=0;E<i;E++){const _=r[E],k=Number(_>>BigInt(m)&u);f[k]=f[k].add(n[E])}let w=o;for(let E=f.length-1,_=o;E>0;E--)_=_.add(f[E]),w=w.add(_);if(h=h.add(w),m!==0)for(let E=0;E<c;E++)h=h.double()}return h}function gp(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Jg(e),e}else return Wu(t)}function z_(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>fo))throw new Error(`CURVE.${a} must be positive bigint`)}const r=gp(e.p,n.Fp),s=gp(e.n,n.Fn),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const a of o)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bp(t){t.lowS!==void 0&&Fc("lowS",t.lowS),t.prehash!==void 0&&Fc("prehash",t.prehash)}let j_=class extends Error{constructor(e=""){super(e)}};const Mr={Err:j_,_tlv:{encode:(t,e)=>{const{Err:n}=Mr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=hc(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?hc(s.length/2|128):"";return hc(t)+i+s+e},decode(t,e){const{Err:n}=Mr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Mr;if(t<Ks)throw new e("integer: negative integers are not allowed");let n=hc(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Mr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return di(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Mr,s=Ft("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Mr,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Ks=BigInt(0),rn=BigInt(1),Ir=BigInt(2),$i=BigInt(3),od=BigInt(4);function D_(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function tb(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=Ft("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function q_(t,e={}){const{Fp:n,Fn:r}=z_("weierstrass",t,e),{h:s,n:i}=t;qu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(H,R,q){const{x:L,y:V}=R.toAffine(),x=n.toBytes(L);if(Fc("isCompressed",q),q){a();const l=!n.isOdd(V);return He(nb(l),x)}else return He(Uint8Array.of(4),x,n.toBytes(V))}function u(H){Ht(H);const R=n.BYTES,q=R+1,L=2*R+1,V=H.length,x=H[0],l=H.subarray(1);if(V===q&&(x===2||x===3)){const p=n.fromBytes(l);if(!n.isValid(p))throw new Error("bad point: is not on curve, wrong x");const v=h(p);let I;try{I=n.sqrt(v)}catch(N){const A=N instanceof Error?": "+N.message:"";throw new Error("bad point: is not on curve, sqrt error"+A)}a();const S=n.isOdd(I);return(x&1)===1!==S&&(I=n.neg(I)),{x:p,y:I}}else if(V===L&&x===4){const p=n.fromBytes(l.subarray(R*0,R*1)),v=n.fromBytes(l.subarray(R*1,R*2));if(!m(p,v))throw new Error("bad point: is not on curve");return{x:p,y:v}}else throw new Error(`bad point: got length ${V}, expected compressed=${q} or uncompressed=${L}`)}const f=e.toBytes||c,d=e.fromBytes||u,h=D_(n,t.a,t.b);function m(H,R){const q=n.sqr(R),L=h(H);return n.eql(q,L)}if(!m(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const w=n.mul(n.pow(t.a,$i),od),E=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(w,E)))throw new Error("bad curve params: a or b");function _(H,R,q=!1){if(!n.isValid(R)||q&&n.is0(R))throw new Error(`bad point coordinate ${H}`);return R}function k(H){if(!(H instanceof $))throw new Error("ProjectivePoint expected")}const O=ep((H,R)=>{const{px:q,py:L,pz:V}=H;if(n.eql(V,n.ONE))return{x:q,y:L};const x=H.is0();R==null&&(R=x?n.ONE:n.inv(V));const l=n.mul(q,R),p=n.mul(L,R),v=n.mul(V,R);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x:l,y:p}}),M=ep(H=>{if(H.is0()){if(e.allowInfinityPoint&&!n.is0(H.py))return;throw new Error("bad point: ZERO")}const{x:R,y:q}=H.toAffine();if(!n.isValid(R)||!n.isValid(q))throw new Error("bad point: x or y not field elements");if(!m(R,q))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function U(H,R,q,L,V){return q=new $(n.mul(q.px,H),q.py,q.pz),R=Lo(L,R),q=Lo(V,q),R.add(q)}class ${constructor(R,q,L){this.px=_("x",R),this.py=_("y",q,!0),this.pz=_("z",L),Object.freeze(this)}static fromAffine(R){const{x:q,y:L}=R||{};if(!R||!n.isValid(q)||!n.isValid(L))throw new Error("invalid affine point");if(R instanceof $)throw new Error("projective point not allowed");return n.is0(q)&&n.is0(L)?$.ZERO:new $(q,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(R){return O_($,"pz",R)}static fromBytes(R){return Ht(R),$.fromHex(R)}static fromHex(R){const q=$.fromAffine(d(Ft("pointHex",R)));return q.assertValidity(),q}static fromPrivateKey(R){const q=tb(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return $.BASE.multiply(q(R))}static msm(R,q){return F_($,r,R,q)}precompute(R=8,q=!0){return z.setWindowSize(this,R),q||this.multiply($i),this}_setWindowSize(R){this.precompute(R)}assertValidity(){M(this)}hasEvenY(){const{y:R}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(R)}equals(R){k(R);const{px:q,py:L,pz:V}=this,{px:x,py:l,pz:p}=R,v=n.eql(n.mul(q,p),n.mul(x,V)),I=n.eql(n.mul(L,p),n.mul(l,V));return v&&I}negate(){return new $(this.px,n.neg(this.py),this.pz)}double(){const{a:R,b:q}=t,L=n.mul(q,$i),{px:V,py:x,pz:l}=this;let p=n.ZERO,v=n.ZERO,I=n.ZERO,S=n.mul(V,V),C=n.mul(x,x),N=n.mul(l,l),A=n.mul(V,x);return A=n.add(A,A),I=n.mul(V,l),I=n.add(I,I),p=n.mul(R,I),v=n.mul(L,N),v=n.add(p,v),p=n.sub(C,v),v=n.add(C,v),v=n.mul(p,v),p=n.mul(A,p),I=n.mul(L,I),N=n.mul(R,N),A=n.sub(S,N),A=n.mul(R,A),A=n.add(A,I),I=n.add(S,S),S=n.add(I,S),S=n.add(S,N),S=n.mul(S,A),v=n.add(v,S),N=n.mul(x,l),N=n.add(N,N),S=n.mul(N,A),p=n.sub(p,S),I=n.mul(N,C),I=n.add(I,I),I=n.add(I,I),new $(p,v,I)}add(R){k(R);const{px:q,py:L,pz:V}=this,{px:x,py:l,pz:p}=R;let v=n.ZERO,I=n.ZERO,S=n.ZERO;const C=t.a,N=n.mul(t.b,$i);let A=n.mul(q,x),g=n.mul(L,l),T=n.mul(V,p),X=n.add(q,L),J=n.add(x,l);X=n.mul(X,J),J=n.add(A,g),X=n.sub(X,J),J=n.add(q,V);let te=n.add(x,p);return J=n.mul(J,te),te=n.add(A,T),J=n.sub(J,te),te=n.add(L,V),v=n.add(l,p),te=n.mul(te,v),v=n.add(g,T),te=n.sub(te,v),S=n.mul(C,J),v=n.mul(N,T),S=n.add(v,S),v=n.sub(g,S),S=n.add(g,S),I=n.mul(v,S),g=n.add(A,A),g=n.add(g,A),T=n.mul(C,T),J=n.mul(N,J),g=n.add(g,T),T=n.sub(A,T),T=n.mul(C,T),J=n.add(J,T),A=n.mul(g,J),I=n.add(I,A),A=n.mul(te,J),v=n.mul(X,v),v=n.sub(v,A),A=n.mul(X,g),S=n.mul(te,S),S=n.add(S,A),new $(v,I,S)}subtract(R){return this.add(R.negate())}is0(){return this.equals($.ZERO)}multiply(R){const{endo:q}=e;if(!r.isValidNot0(R))throw new Error("invalid scalar: out of range");let L,V;const x=l=>z.wNAFCached(this,l,$.normalizeZ);if(q){const{k1neg:l,k1:p,k2neg:v,k2:I}=q.splitScalar(R),{p:S,f:C}=x(p),{p:N,f:A}=x(I);V=C.add(A),L=U(q.beta,S,N,l,v)}else{const{p:l,f:p}=x(R);L=l,V=p}return $.normalizeZ([L,V])[0]}multiplyUnsafe(R){const{endo:q}=e,L=this;if(!r.isValid(R))throw new Error("invalid scalar: out of range");if(R===Ks||L.is0())return $.ZERO;if(R===rn)return L;if(z.hasPrecomputes(this))return this.multiply(R);if(q){const{k1neg:V,k1:x,k2neg:l,k2:p}=q.splitScalar(R),{p1:v,p2:I}=L_($,L,x,p);return U(q.beta,v,I,V,l)}else return z.wNAFCachedUnsafe(L,R)}multiplyAndAddUnsafe(R,q,L){const V=this.multiplyUnsafe(q).add(R.multiplyUnsafe(L));return V.is0()?void 0:V}toAffine(R){return O(this,R)}isTorsionFree(){const{isTorsionFree:R}=e;return s===rn?!0:R?R($,this):z.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:R}=e;return s===rn?this:R?R($,this):this.multiplyUnsafe(s)}toBytes(R=!0){return Fc("isCompressed",R),this.assertValidity(),f($,this,R)}toRawBytes(R=!0){return this.toBytes(R)}toHex(R=!0){return qn(this.toBytes(R))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}$.BASE=new $(t.Gx,t.Gy,n.ONE),$.ZERO=new $(n.ZERO,n.ONE,n.ZERO),$.Fp=n,$.Fn=r;const j=r.BITS,z=U_($,e.endo?Math.ceil(j/2):j);return $}function nb(t){return Uint8Array.of(t?2:3)}function V_(t,e,n={}){qu(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||za,s=e.hmac||((L,...V)=>wh(e.hash,L,He(...V))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function u(L){const V=a>>rn;return L>V}function f(L){return u(L)?o.neg(L):L}function d(L,V){if(!o.isValidNot0(V))throw new Error(`invalid signature ${L}: out of range 1..CURVE.n`)}class h{constructor(V,x,l){d("r",V),d("s",x),this.r=V,this.s=x,l!=null&&(this.recovery=l),Object.freeze(this)}static fromCompact(V){const x=o.BYTES,l=Ft("compactSignature",V,x*2);return new h(o.fromBytes(l.subarray(0,x)),o.fromBytes(l.subarray(x,x*2)))}static fromDER(V){const{r:x,s:l}=Mr.toSig(Ft("DER",V));return new h(x,l)}assertValidity(){}addRecoveryBit(V){return new h(this.r,this.s,V)}recoverPublicKey(V){const x=i.ORDER,{r:l,s:p,recovery:v}=this;if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");if(a*Ir<x&&v>1)throw new Error("recovery id is ambiguous for h>1 curve");const S=v===2||v===3?l+a:l;if(!i.isValid(S))throw new Error("recovery id 2 or 3 invalid");const C=i.toBytes(S),N=t.fromHex(He(nb((v&1)===0),C)),A=o.inv(S),g=M(Ft("msgHash",V)),T=o.create(-g*A),X=o.create(p*A),J=t.BASE.multiplyUnsafe(T).add(N.multiplyUnsafe(X));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(V){if(V==="compact")return He(o.toBytes(this.r),o.toBytes(this.s));if(V==="der")return Ws(Mr.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return qn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return qn(this.toBytes("compact"))}}const m=tb(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),w={isValidPrivateKey(L){try{return m(L),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const L=a;return P_(r(Qg(L)),L)},precompute(L=8,V=t.BASE){return V.precompute(L,!1)}};function E(L,V=!0){return t.fromPrivateKey(L).toBytes(V)}function _(L){if(typeof L=="bigint")return!1;if(L instanceof t)return!0;const x=Ft("key",L).length,l=i.BYTES,p=l+1,v=2*l+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===p))return x===p||x===v}function k(L,V,x=!0){if(_(L)===!0)throw new Error("first arg must be private key");if(_(V)===!1)throw new Error("second arg must be public key");return t.fromHex(V).multiply(m(L)).toBytes(x)}const O=e.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const V=di(L),x=L.length*8-c;return x>0?V>>BigInt(x):V},M=e.bits2int_modN||function(L){return o.create(O(L))},U=Du(c);function $(L){return ag("num < 2^"+c,L,Ks,U),o.toBytes(L)}function j(L,V,x=z){if(["recovered","canonical"].some(X=>X in x))throw new Error("sign() legacy options not supported");const{hash:l}=e;let{lowS:p,prehash:v,extraEntropy:I}=x;p==null&&(p=!0),L=Ft("msgHash",L),bp(x),v&&(L=Ft("prehashed msgHash",l(L)));const S=M(L),C=m(V),N=[$(C),$(S)];if(I!=null&&I!==!1){const X=I===!0?r(i.BYTES):I;N.push(Ft("extraEntropy",X))}const A=He(...N),g=S;function T(X){const J=O(X);if(!o.isValidNot0(J))return;const te=o.inv(J),ve=t.BASE.multiply(J).toAffine(),he=o.create(ve.x);if(he===Ks)return;const de=o.create(te*o.create(g+he*C));if(de===Ks)return;let Le=(ve.x===he?0:2)|Number(ve.y&rn),Te=de;return p&&u(de)&&(Te=f(de),Le^=1),new h(he,Te,Le)}return{seed:A,k2sig:T}}const z={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function R(L,V,x=z){const{seed:l,k2sig:p}=j(L,V,x);return Z6(e.hash.outputLen,o.BYTES,s)(l,p)}t.BASE.precompute(8);function q(L,V,x,l=H){const p=L;V=Ft("msgHash",V),x=Ft("publicKey",x),bp(l);const{lowS:v,prehash:I,format:S}=l;if("strict"in l)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&!["compact","der","js"].includes(S))throw new Error('format must be "compact", "der" or "js"');const C=typeof p=="string"||As(p),N=!C&&!S&&typeof p=="object"&&p!==null&&typeof p.r=="bigint"&&typeof p.s=="bigint";if(!C&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let A,g;try{if(N)if(S===void 0||S==="js")A=new h(p.r,p.s);else throw new Error("invalid format");if(C){try{S!=="compact"&&(A=h.fromDER(p))}catch(Te){if(!(Te instanceof Mr.Err))throw Te}!A&&S!=="der"&&(A=h.fromCompact(p))}g=t.fromHex(x)}catch{return!1}if(!A||v&&A.hasHighS())return!1;I&&(V=e.hash(V));const{r:T,s:X}=A,J=M(V),te=o.inv(X),ve=o.create(J*te),he=o.create(T*te),de=t.BASE.multiplyUnsafe(ve).add(g.multiplyUnsafe(he));return de.is0()?!1:o.create(de.x)===T}return Object.freeze({getPublicKey:E,getSharedSecret:k,sign:R,verify:q,utils:w,Point:t,Signature:h})}function H_(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Wu(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function K_(t){const{CURVE:e,curveOpts:n}=H_(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function G_(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Z_(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=K_(t),s=q_(e,n),i=V_(s,r,n);return G_(t,i)}function W_(t,e){const n=t.ORDER;let r=Ks;for(let w=n-rn;w%Ir===Ks;w/=Ir)r+=rn;const s=r,i=Ir<<s-rn-rn,o=i*Ir,a=(n-rn)/o,c=(a-rn)/Ir,u=o-rn,f=i,d=t.pow(e,a),h=t.pow(e,(a+rn)/Ir);let m=(w,E)=>{let _=d,k=t.pow(E,u),O=t.sqr(k);O=t.mul(O,E);let M=t.mul(w,O);M=t.pow(M,c),M=t.mul(M,k),k=t.mul(M,E),O=t.mul(M,w);let U=t.mul(O,k);M=t.pow(U,f);let $=t.eql(M,t.ONE);k=t.mul(O,h),M=t.mul(U,_),O=t.cmov(k,O,$),U=t.cmov(M,U,$);for(let j=s;j>rn;j--){let z=j-Ir;z=Ir<<z-rn;let H=t.pow(U,z);const R=t.eql(H,t.ONE);k=t.mul(O,_),_=t.mul(_,_),H=t.mul(U,_),O=t.cmov(k,O,R),U=t.cmov(H,U,R)}return{isValid:$,value:O}};if(t.ORDER%od===$i){const w=(t.ORDER-$i)/od,E=t.sqrt(t.neg(e));m=(_,k)=>{let O=t.sqr(k);const M=t.mul(_,k);O=t.mul(O,M);let U=t.pow(O,w);U=t.mul(U,M);const $=t.mul(U,E),j=t.mul(t.sqr(U),k),z=t.eql(j,_);let H=t.cmov($,U,z);return{isValid:z,value:H}}}return m}function J_(t,e){Jg(t);const{A:n,B:r,Z:s}=e;if(!t.isValid(n)||!t.isValid(r)||!t.isValid(s))throw new Error("mapToCurveSimpleSWU: invalid opts");const i=W_(t,s);if(!t.isOdd)throw new Error("Field does not have .isOdd()");return o=>{let a,c,u,f,d,h,m,w;a=t.sqr(o),a=t.mul(a,s),c=t.sqr(a),c=t.add(c,a),u=t.add(c,t.ONE),u=t.mul(u,r),f=t.cmov(s,t.neg(c),!t.eql(c,t.ZERO)),f=t.mul(f,n),c=t.sqr(u),h=t.sqr(f),d=t.mul(h,n),c=t.add(c,d),c=t.mul(c,u),h=t.mul(h,f),d=t.mul(h,r),c=t.add(c,d),m=t.mul(a,u);const{isValid:E,value:_}=i(c,h);w=t.mul(a,o),w=t.mul(w,_),m=t.cmov(m,u,E),w=t.cmov(w,_,E);const k=t.isOdd(o)===t.isOdd(w);w=t.cmov(t.neg(w),w,k);const O=Zu(t,[f],!0)[0];return m=t.mul(m,O),{x:m,y:w}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Y_(t,e){const n=r=>Z_({...t,hash:r});return{...n(e),create:n}}const Q_=di;function ts(t,e){if(ca(t),ca(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function X_(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function ca(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function e5(t,e,n,r){Ht(t),Ht(e),ca(n),e.length>255&&(e=r(He(ku("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(n/s);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=He(e,ts(e.length,1)),c=ts(0,i),u=ts(n,2),f=new Array(o),d=r(He(c,t,u,ts(0,1),a));f[0]=r(He(d,ts(1,1),a));for(let m=1;m<=o;m++){const w=[X_(d,f[m-1]),ts(m+1,1),a];f[m]=r(He(...w))}return He(...f).slice(0,n)}function t5(t,e,n,r,s){if(Ht(t),Ht(e),ca(n),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update(ku("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(t).update(ts(n,2)).update(e).update(ts(e.length,1)).digest()}function wp(t,e,n){qu(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=n;if(!As(c)&&typeof c!="string")throw new Error("DST must be string or uint8array");if(!W6(n.hash))throw new Error("expected valid hash");Ht(t),ca(e);const u=typeof c=="string"?ku(c):c,f=r.toString(2).length,d=Math.ceil((f+s)/8),h=e*i*d;let m;if(a==="xmd")m=e5(t,u,h,o);else if(a==="xof")m=t5(t,u,h,s,o);else if(a==="_internal_pass")m=t;else throw new Error('expand must be "xmd" or "xof"');const w=new Array(e);for(let E=0;E<e;E++){const _=new Array(i);for(let k=0;k<i;k++){const O=d*(k+E*i),M=m.subarray(O,O+d);_[k]=Qt(Q_(M),r)}w[E]=_}return w}function n5(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=n.map(d=>d.reduce((h,m)=>t.add(t.mul(h,r),m))),[u,f]=Zu(t,[o,c],!0);return r=t.mul(i,u),s=t.mul(s,t.mul(a,f)),{x:r,y:s}}}function r5(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function r(i){return t.fromAffine(e(i))}function s(i){const o=i.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(i,o){const a=n.DST?n.DST:{},c=Object.assign({},n,a,o),u=wp(i,2,c),f=r(u[0]),d=r(u[1]);return s(f.add(d))},encodeToCurve(i,o){const a=n.encodeDST?n.encodeDST:{},c=Object.assign({},n,a,o),u=wp(i,1,c);return s(r(u[0]))},mapToCurve(i){if(!Array.isArray(i))throw new Error("expected array of bigints");for(const o of i)if(typeof o!="bigint")throw new Error("expected array of bigints");return s(r(i))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dr={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},rb=BigInt(0),zc=BigInt(1),jc=BigInt(2),vp=(t,e)=>(t+e/jc)/e;function sb(t){const e=Dr.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,f=u*u*t%e,d=Ln(f,n,e)*f%e,h=Ln(d,n,e)*f%e,m=Ln(h,jc,e)*u%e,w=Ln(m,s,e)*m%e,E=Ln(w,i,e)*w%e,_=Ln(E,a,e)*E%e,k=Ln(_,c,e)*_%e,O=Ln(k,a,e)*E%e,M=Ln(O,n,e)*f%e,U=Ln(M,o,e)*w%e,$=Ln(U,r,e)*u%e,j=Ln($,jc,e);if(!Es.eql(Es.sqr(j),t))throw new Error("Cannot find square root");return j}const Es=Wu(Dr.p,void 0,void 0,{sqrt:sb}),hi=Y_({...Dr,Fp:Es,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Dr.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-zc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=vp(i*t,e),c=vp(-r*t,e);let u=Qt(t-a*n-c*s,e),f=Qt(-a*r-c*i,e);const d=u>o,h=f>o;if(d&&(u=e-u),h&&(f=e-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:h,k2:f}}}},oo),xp={};function Dc(t,...e){let n=xp[t];if(n===void 0){const r=oo(Uint8Array.from(t,s=>s.charCodeAt(0)));n=He(r,r),xp[t]=n}return oo(He(n,...e))}const vh=t=>t.toBytes(!0).slice(1),ad=t=>Za(t,32),Gf=t=>Qt(t,Dr.p),ua=t=>Qt(t,Dr.n),xh=(()=>hi.Point)(),Eh=t=>t%jc===rb;function cd(t){let e=hi.utils.normPrivateKeyToScalar(t),n=xh.fromPrivateKey(e);return{scalar:Eh(n.y)?e:ua(-e),bytes:vh(n)}}function ib(t){ag("x",t,zc,Dr.p);const e=Gf(t*t),n=Gf(e*t+BigInt(7));let r=sb(n);Eh(r)||(r=Gf(-r));const s=xh.fromAffine({x:t,y:r});return s.assertValidity(),s}const Fi=di;function ob(...t){return ua(Fi(Dc("BIP0340/challenge",...t)))}function s5(t){return cd(t).bytes}function i5(t,e,n=za(32)){const r=Ft("message",t),{bytes:s,scalar:i}=cd(e),o=Ft("auxRand",n,32),a=ad(i^Fi(Dc("BIP0340/aux",o))),c=Dc("BIP0340/nonce",a,s,r),u=ua(Fi(c));if(u===rb)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=cd(u),h=ob(f,s,r),m=new Uint8Array(64);if(m.set(f,0),m.set(ad(ua(d+h*i)),32),!ab(m,r,s))throw new Error("sign: Invalid signature produced");return m}function ab(t,e,n){const r=Ft("signature",t,64),s=Ft("message",e),i=Ft("publicKey",n,32);try{const o=ib(Fi(i)),a=Fi(r.subarray(0,32));if(!Yl(a,zc,Dr.p))return!1;const c=Fi(r.subarray(32,64));if(!Yl(c,zc,Dr.n))return!1;const u=ob(ad(a),vh(o),s),f=xh.BASE.multiplyUnsafe(c).add(o.multiplyUnsafe(ua(-u))),{x:d,y:h}=f.toAffine();return!(f.is0()||!Eh(h)||d!==a)}catch{return!1}}const o5=(()=>({getPublicKey:s5,sign:i5,verify:ab,utils:{randomPrivateKey:hi.utils.randomPrivateKey,lift_x:ib,pointToBytes:vh,numberToBytesBE:Za,bytesToNumberBE:di,taggedHash:Dc,mod:Qt}}))(),a5=(()=>n5(Es,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),c5=(()=>J_(Es,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Es.create(BigInt("-11"))}))(),Sh=(()=>r5(hi.Point,t=>{const{x:e,y:n}=c5(Es.create(t[0]));return a5(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Es.ORDER,m:1,k:128,expand:"xmd",hash:oo}))(),u5=(()=>Sh.hashToCurve)(),f5=(()=>Sh.encodeToCurve)(),l5=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:f5,hashToCurve:u5,schnorr:o5,secp256k1:hi,secp256k1_hasher:Sh},Symbol.toStringTag,{value:"Module"}));function d5({r:t,s:e,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new hi.Signature($t(t),$t(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:Mn(o)}async function _h(t,e){var d,h,m;const{address:n,factory:r,factoryData:s,hash:i,signature:o,universalSignatureVerifierAddress:a=(m=(h=(d=t.chain)==null?void 0:d.contracts)==null?void 0:h.universalSignatureVerifier)==null?void 0:m.address,...c}=e,u=(()=>nr(o)?o:typeof o=="object"&&"r"in o&&"s"in o?d5(o):kt(o))(),f=await(async()=>!r&&!s||a_(u)?u:c_({address:r,data:s,signature:u}))();try{const w=a?{to:a,data:gr({abi:Y0,functionName:"isValidSig",args:[n,i,f]}),...c}:{data:Qd({abi:Y0,args:[n,i,f],bytecode:xE}),...c},{data:E}=await ge(t,Wa,"call")(w);return Am(E??"0x0")}catch(w){try{if(Qa(qt(n),await Wy({hash:i,signature:o})))return!0}catch{}if(w instanceof Ty)return!1;throw w}}async function h5(t,{address:e,message:n,factory:r,factoryData:s,signature:i,...o}){const a=Dg(n);return _h(t,{address:e,factory:r,factoryData:s,hash:a,signature:i,...o})}async function p5(t,e){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...f}=e,d=QS({message:o,primaryType:a,types:c,domain:u});return _h(t,{address:n,factory:r,factoryData:s,hash:d,signature:i,...f})}function m5(t,e){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=t.pollingInterval,strict:h}=e;return(()=>typeof f<"u"?f:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))()?(()=>{const _=h??!1,k=Bt(["watchContractEvent",r,s,i,t.uid,o,d,_,a]);return jr(k,{onLogs:u,onError:c},O=>{let M;a!==void 0&&(M=a-1n);let U,$=!1;const j=_o(async()=>{var z;if(!$){try{U=await ge(t,xg,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:_,fromBlock:a})}catch{}$=!0;return}try{let H;if(U)H=await ge(t,Hu,"getFilterChanges")({filter:U});else{const R=await ge(t,Ya,"getBlockNumber")({});M&&M<R?H=await ge(t,_g,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:M+1n,toBlock:R,strict:_}):H=[],M=R}if(H.length===0)return;if(i)O.onLogs(H);else for(const R of H)O.onLogs([R])}catch(H){U&&H instanceof ei&&($=!1),(z=O.onError)==null||z.call(O,H)}},{emitOnBegin:!0,interval:d});return async()=>{U&&await ge(t,Gu,"uninstallFilter")({filter:U}),j()}})})():(()=>{const _=h??!1,k=Bt(["watchContractEvent",r,s,i,t.uid,o,d,_]);let O=!0,M=()=>O=!1;return jr(k,{onLogs:u,onError:c},U=>((async()=>{try{const $=(()=>{if(t.transport.type==="fallback"){const H=t.transport.transports.find(R=>R.config.type==="webSocket"||R.config.type==="ipc");return H?H.value:t.transport}return t.transport})(),j=o?Ja({abi:n,eventName:o,args:s}):[],{unsubscribe:z}=await $.subscribe({params:["logs",{address:r,topics:j}],onData(H){var q;if(!O)return;const R=H.result;try{const{eventName:L,args:V}=hh({abi:n,data:R.data,topics:R.topics,strict:h}),x=Fr(R,{args:V,eventName:L});U.onLogs([x])}catch(L){let V,x;if(L instanceof jo||L instanceof Uu){if(h)return;V=L.abiItem.name,x=(q=L.abiItem.inputs)==null?void 0:q.some(p=>!("name"in p&&p.name))}const l=Fr(R,{args:x?[]:{},eventName:V});U.onLogs([l])}},onError(H){var R;(R=U.onError)==null||R.call(U,H)}});M=z,O||M()}catch($){c==null||c($)}})(),()=>M()))})()}const kc="2.19.0",y5=()=>`@wagmi/core@${kc}`;var cb=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qc,ub;let Ju=class ud extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return y5()}constructor(e,n={}){var i;super(),qc.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof ud?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof ud&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return cb(this,qc,"m",ub).call(this,this,e)}};qc=new WeakSet,ub=function t(e,n){return n!=null&&n(e)?e:e.cause?cb(this,qc,"m",t).call(this,e.cause,n):e};class ii extends Ju{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class g5 extends Ju{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}async function b5(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new g5;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const fd=256;let mc=fd,yc;function fb(t=11){if(!yc||mc+t>fd*2){yc="",mc=0;for(let e=0;e<fd;e++)yc+=(256+Math.random()*256|0).toString(16).substring(1)}return yc.substring(mc,mc+++t)}function lb(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=t.pollingInterval??u,d=t.cacheTime??f,h=t.account?Cn(t.account):void 0,{config:m,request:w,value:E}=t.transport({chain:n,pollingInterval:f}),_={...m,...E},k={account:h,batch:e,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:w,transport:_,type:o,uid:fb(),...a?{experimental_blockTag:a}:{}};function O(M){return U=>{const $=U(M);for(const z in k)delete $[z];const j={...M,...$};return Object.assign(j,{extend:O(j)})}}return Object.assign(k,{extend:O(k)})}function w5({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=fb();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:FS(r,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:c}}class v5 extends Y{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function gc(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:f}=e;return({chain:d,retryCount:h,timeout:m})=>{const{batchSize:w=1e3,wait:E=0}=typeof n=="object"?n:{},_=e.retryCount??h,k=m??e.timeout??1e4,O=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!O)throw new v5;const M=ZS(O,{fetchOptions:r,onRequest:a,onResponse:c,timeout:k});return w5({key:s,methods:i,name:o,async request({method:U,params:$}){const j={method:U,params:$},{schedule:z}=yg({id:O,wait:E,shouldSplitBatch(L){return L.length>w},fn:L=>M.request({body:L}),sort:(L,V)=>L.id-V.id}),H=async L=>n?z(L):[await M.request({body:L})],[{error:R,result:q}]=await H(j);if(f)return{error:R,result:q};if(R)throw new qd({body:j,error:R,url:O});return q},retryCount:_,retryDelay:u,timeout:k,type:"http"},{fetchOptions:r,url:O})}}function x5(t){var d,h,m;const{scheme:e,statement:n,...r}=((d=t.match(E5))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((h=t.match(S5))==null?void 0:h.groups)??{},f=(m=t.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const E5=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,S5=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function _5(t){const{address:e,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Mt(r.address,{strict:!1})||e&&!Qa(r.address,e))return!1}catch{return!1}return!0}async function A5(t,e){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=e,f=x5(s);if(!f.address||!_5({address:n,domain:r,message:f,nonce:i,scheme:o,time:c}))return!1;const h=Dg(s);return _h(t,{address:f.address,hash:h,signature:a,...u})}function I5(t){return{call:e=>Wa(t,e),createAccessList:e=>vg(t,e),createBlockFilter:()=>qE(t),createContractEventFilter:e=>xg(t,e),createEventFilter:e=>Eg(t,e),createPendingTransactionFilter:()=>Sg(t),estimateContractGas:e=>HE(t,e),estimateGas:e=>rh(t,e),getBalance:e=>Qy(t,e),getBlobBaseFee:()=>KE(t),getBlock:e=>hr(t,e),getBlockNumber:e=>Ya(t,e),getBlockTransactionCount:e=>QE(t,e),getBytecode:e=>cp(t,e),getChainId:()=>Xd(t),getCode:e=>cp(t,e),getContractEvents:e=>_g(t,e),getEip712Domain:e=>nS(t,e),getEnsAddress:e=>BE(t,e),getEnsAvatar:e=>zE(t,e),getEnsName:e=>jE(t,e),getEnsResolver:e=>DE(t,e),getEnsText:e=>wg(t,e),getFeeHistory:e=>iS(t,e),estimateFeesPerGas:e=>P6(t,e),getFilterChanges:e=>Hu(t,e),getFilterLogs:e=>oS(t,e),getGasPrice:()=>th(t),getLogs:e=>mh(t,e),getProof:e=>S_(t,e),estimateMaxPriorityFeePerGas:e=>T6(t,e),getStorageAt:e=>aS(t,e),getTransaction:e=>yh(t,e),getTransactionConfirmations:e=>cS(t,e),getTransactionCount:e=>sh(t,e),getTransactionReceipt:e=>Bc(t,e),multicall:e=>uS(t,e),prepareTransactionRequest:e=>Xy(t,e),readContract:e=>zr(t,e),sendRawTransaction:e=>L6(t,e),simulate:e=>Xl(t,e),simulateBlocks:e=>Xl(t,e),simulateCalls:e=>l_(t,e),simulateContract:e=>A_(t,e),verifyMessage:e=>h5(t,e),verifySiweMessage:e=>A5(t,e),verifyTypedData:e=>p5(t,e),uninstallFilter:e=>Gu(t,e),waitForTransactionReceipt:e=>__(t,e),watchBlocks:e=>h_(t,e),watchBlockNumber:e=>Vg(t,e),watchContractEvent:e=>m5(t,e),watchEvent:e=>p_(t,e),watchPendingTransactions:e=>m_(t,e)}}function Wk(t){const{key:e="public",name:n="Public Client"}=t;return lb({...t,key:e,name:n,type:"publicClient"}).extend(I5)}function Jk(t){const{r:e,s:n}=hi.Signature.fromCompact(t.slice(2,130)),r=+`0x${t.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:ee(e,{size:32}),s:ee(n,{size:32}),v:s,yParity:i}:{r:ee(e,{size:32}),s:ee(n,{size:32}),yParity:i}}function db(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function fa(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fa(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!fa(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Zf=[];function Ep(t){const e=t.connectors;return fa(Zf,e)?Zf:(Zf=e,e)}let Wf=!1;async function B5(t,e={}){var u,f;if(Wf)return[];Wf=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((u=e.connectors)!=null&&u.length)for(const d of e.connectors){let h;typeof d=="function"?h=t._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...t.connectors);let r;try{r=await((f=t.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||c.some(E=>E===h)||!await d.isAuthorized())continue;const w=await d.connect({isReconnecting:!0}).catch(()=>null);w&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(E=>{const _=new Map(o?E.connections:new Map).set(d.uid,{accounts:w.accounts,chainId:w.chainId,connector:d});return{...E,current:o?E.current:d.uid,connections:_}}),a.push({accounts:w.accounts,chainId:w.chainId,connector:d}),c.push(h),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),Wf=!1,a}class _i extends Ju{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function k5(t,e){const{onChange:n}=e;return t.subscribe(()=>db(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return fa(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function M5(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}Ah.type="injected";function Ah(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...R5[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Ah.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&t.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f}={}){var m,w,E,_,k,O;const d=await this.getProvider();if(!d)throw new _i;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(_=(E=(w=(m=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:m.caveats)==null?void 0:w[0])==null?void 0:E.value)==null?void 0:_.map(U=>qt(U)),h.length>0&&(h=await this.getAccounts())}catch(M){const U=M;if(U.code===it.code)throw new it(U);if(U.code===gs.code)throw U}try{!(h!=null&&h.length)&&!f&&(h=(await d.request({method:"eth_requestAccounts"})).map($=>qt($))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let M=await this.getChainId();if(u&&M!==u){const U=await this.switchChain({chainId:u}).catch($=>{if($.code===it.code)throw $;return{id:M}});M=(U==null?void 0:U.id)??M}return e&&await((k=c.storage)==null?void 0:k.removeItem(`${this.id}.disconnected`)),t.target||await((O=c.storage)==null?void 0:O.setItem("injected.connected",!0)),{accounts:h,chainId:M}}catch(M){const U=M;throw U.code===it.code?new it(U):U.code===gs.code?new gs(U):U}},async disconnect(){var f,d;const u=await this.getProvider();if(!u)throw new _i;i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await Ng(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((f=c.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new _i;return(await u.request({method:"eth_accounts"})).map(d=>qt(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new _i;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=Mc(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,f;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!t.target&&!await((f=c.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const w=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",w),!!await this.getProvider()),E=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(k=>window.addEventListener("ethereum#initialized",()=>k(w()),{once:!0}))]:[],new Promise(k=>setTimeout(()=>k(w()),E))]))return!0}throw new _i}return!!(await aa(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){var w,E,_,k;const d=await this.getProvider();if(!d)throw new _i;const h=c.chains.find(O=>O.id===f);if(!h)throw new vn(new ii);const m=new Promise(O=>{const M=U=>{"chainId"in U&&U.chainId===f&&(c.emitter.off("change",M),O())};c.emitter.on("change",M)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:ee(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),m]),h}catch(O){const M=O;if(M.code===4902||((E=(w=M==null?void 0:M.data)==null?void 0:w.originalError)==null?void 0:E.code)===4902)try{const{default:U,...$}=h.blockExplorers??{};let j;u!=null&&u.blockExplorerUrls?j=u.blockExplorerUrls:U&&(j=[U.url,...Object.values($).map(R=>R.url)]);let z;(_=u==null?void 0:u.rpcUrls)!=null&&_.length?z=u.rpcUrls:z=[((k=h.rpcUrls.default)==null?void 0:k.http[0])??""];const H={blockExplorerUrls:j,chainId:ee(f),chainName:(u==null?void 0:u.chainName)??h.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??h.nativeCurrency,rpcUrls:z};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[H]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new it(new Error("User rejected switch after adding network."))}),m]),h}catch(U){throw new it(U)}throw M.code===it.code?new it(M):new vn(M)}},async onAccountsChanged(u){var f;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((f=c.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>qt(d))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const h=await this.getProvider();h&&(o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(i&&(f.removeListener("chainChanged",i),i=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const R5={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Mc(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Mc(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Mc(t,"isPhantom")}}};function Mc(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function C5(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function T5(){const t=new Set;let e=[];const n=()=>C5(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const P5=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const f=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());u=h=>{const m=o(h);if(!f(d,m)){const w=d;a(d=m,w)}},c!=null&&c.fireImmediately&&a(d,d)}return s(u)},t(e,n,r)},O5=P5;function $5(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,e==null?void 0:e.replacer)),removeItem:s=>n.removeItem(s)}}const ld=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ld(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ld(r)(n)}}}},N5=(t,e)=>(n,r,s)=>{let i={storage:$5(()=>localStorage),partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const f=()=>{const E=i.partialize({...r()});return u.setItem(i.name,{state:E,version:i.version})},d=s.setState;s.setState=(E,_)=>{d(E,_),f()};const h=t((...E)=>{n(...E),f()},r,s);s.getInitialState=()=>h;let m;const w=()=>{var E,_;if(!u)return;o=!1,a.forEach(O=>{var M;return O((M=r())!=null?M:h)});const k=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(E=r())!=null?E:h))||void 0;return ld(u.getItem.bind(u))(i.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==i.version){if(i.migrate)return[!0,i.migrate(O.state,O.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var M;const[U,$]=O;if(m=i.merge($,(M=r())!=null?M:h),n(m,!0),U)return f()}).then(()=>{k==null||k(m,void 0),m=r(),o=!0,c.forEach(O=>O(m))}).catch(O=>{k==null||k(void 0,O)})};return s.persist={setOptions:E=>{i={...i,...E},E.storage&&(u=E.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(c.add(E),()=>{c.delete(E)})},i.skipHydration||w(),m||h},U5=N5,Sp=t=>{let e;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=e=t(r,s,a);return a},Jf=t=>t?Sp(t):Sp;var hb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new s(f,d||c,h),w=n?n+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],m]:c._events[w].push(m):(c._events[w]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)e.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,w=new Array(m);h<m;h++)w[h]=d[h].fn;return w},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,h,m,w){var E=n?n+u:u;if(!this._events[E])return!1;var _=this._events[E],k=arguments.length,O,M;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,d),!0;case 4:return _.fn.call(_.context,f,d,h),!0;case 5:return _.fn.call(_.context,f,d,h,m),!0;case 6:return _.fn.call(_.context,f,d,h,m,w),!0}for(M=1,O=new Array(k-1);M<k;M++)O[M-1]=arguments[M];_.fn.apply(_.context,O)}else{var U=_.length,$;for(M=0;M<U;M++)switch(_[M].once&&this.removeListener(u,_[M].fn,void 0,!0),k){case 1:_[M].fn.call(_[M].context);break;case 2:_[M].fn.call(_[M].context,f);break;case 3:_[M].fn.call(_[M].context,f,d);break;case 4:_[M].fn.call(_[M].context,f,d,h);break;default:if(!O)for($=1,O=new Array(k-1);$<k;$++)O[$-1]=arguments[$];_[M].fn.apply(_[M].context,O)}}return!0},a.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var w=this._events[m];if(w.fn)w.fn===f&&(!h||w.once)&&(!d||w.context===d)&&o(this,m);else{for(var E=0,_=[],k=w.length;E<k;E++)(w[E].fn!==f||h&&!w[E].once||d&&w[E].context!==d)&&_.push(w[E]);_.length?this._events[m]=_.length===1?_[0]:_:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(hb);var L5=hb.exports;const la=Id(L5),Yk=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:la,default:la},Symbol.toStringTag,{value:"Module"}));class F5{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new la})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function z5(t){return new F5(t)}function j5(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function _p(t,e){return t.slice(0,e).join(".")||"."}function Ap(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function D5(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Ap(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const f=Ap(s,c);if(f!==0)return r?e.call(this,a,c,_p(i,f)):`[ref=${_p(i,f)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function q5(t,e,n,r){return JSON.stringify(t,D5((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function pb(t){const{deserialize:e=j5,key:n="wagmi",serialize:r=q5,storage:s=mb}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),u=await i(c);return u?e(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const mb={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function V5(){const t=(()=>typeof window<"u"&&window.localStorage?window.localStorage:mb)();return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const dd=256;let bc=dd,wc;function H5(t=11){if(!wc||bc+t>dd*2){wc="",bc=0;for(let e=0;e<dd;e++)wc+=(256+Math.random()*256|0).toString(16).substring(1)}return wc.substring(bc,bc+++t)}function K5(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=pb({storage:V5()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?T5():void 0,a=Jf(()=>i.chains),c=Jf(()=>{const $=[],j=new Set;for(const z of i.connectors??[]){const H=u(z);if($.push(H),!s&&H.rdns){const R=typeof H.rdns=="string"?[H.rdns]:H.rdns;for(const q of R)j.add(q)}}if(!s&&o){const z=o.getProviders();for(const H of z)j.has(H.info.rdns)||$.push(u(f(H)))}return $});function u($){var H;const j=z5(H5()),z={...$({emitter:j,chains:a.getState(),storage:n,transports:i.transports}),emitter:j,uid:j.uid};return j.on("connect",M),(H=z.setup)==null||H.call(z),z}function f($){const{info:j}=$,z=$.provider;return Ah({target:{...j,id:j.rdns,provider:z}})}const d=new Map;function h($={}){const j=$.chainId??_.getState().chainId,z=a.getState().find(R=>R.id===j);if($.chainId&&!z)throw new ii;{const R=d.get(_.getState().chainId);if(R&&!z)return R;if(!z)throw new ii}{const R=d.get(j);if(R)return R}let H;if(i.client)H=i.client({chain:z});else{const R=z.id,q=a.getState().map(x=>x.id),L={},V=Object.entries(i);for(const[x,l]of V)if(!(x==="chains"||x==="client"||x==="connectors"||x==="transports"))if(typeof l=="object")if(R in l)L[x]=l[R];else{if(q.some(v=>v in l))continue;L[x]=l}else L[x]=l;H=lb({...L,chain:z,batch:L.batch??{multicall:!0},transport:x=>i.transports[R]({...x,connectors:c})})}return d.set(j,H),H}function m(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let w;const E="0.0.0-canary-";kc.startsWith(E)?w=Number.parseInt(kc.replace(E,"")):w=Number.parseInt(kc.split(".")[0]??"0");const _=Jf(O5(n?U5(m,{migrate($,j){if(j===w)return $;const z=m(),H=k($,z.chainId);return{...z,chainId:H}},name:"store",partialize($){return{connections:{__type:"Map",value:Array.from($.connections.entries()).map(([j,z])=>{const{id:H,name:R,type:q,uid:L}=z.connector;return[j,{...z,connector:{id:H,name:R,type:q,uid:L}}]})},chainId:$.chainId,current:$.current}},merge($,j){typeof $=="object"&&$&&"status"in $&&delete $.status;const z=k($,j.chainId);return{...j,...$,chainId:z}},skipHydration:s,storage:n,version:w}):m));_.setState(m());function k($,j){return $&&typeof $=="object"&&"chainId"in $&&typeof $.chainId=="number"&&a.getState().some(z=>z.id===$.chainId)?$.chainId:j}r&&_.subscribe(({connections:$,current:j})=>{var z;return j?(z=$.get(j))==null?void 0:z.chainId:void 0},$=>{if(a.getState().some(z=>z.id===$))return _.setState(z=>({...z,chainId:$??z.chainId}))}),o==null||o.subscribe($=>{const j=new Set,z=new Set;for(const R of c.getState())if(j.add(R.id),R.rdns){const q=typeof R.rdns=="string"?[R.rdns]:R.rdns;for(const L of q)z.add(L)}const H=[];for(const R of $){if(z.has(R.info.rdns))continue;const q=u(f(R));j.has(q.id)||H.push(q)}n&&!_.persist.hasHydrated()||c.setState(R=>[...R,...H],!0)});function O($){_.setState(j=>{const z=j.connections.get($.uid);return z?{...j,connections:new Map(j.connections).set($.uid,{accounts:$.accounts??z.accounts,chainId:$.chainId??z.chainId,connector:z.connector})}:j})}function M($){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(j=>{const z=c.getState().find(H=>H.uid===$.uid);return z?(z.emitter.listenerCount("connect")&&z.emitter.off("connect",O),z.emitter.listenerCount("change")||z.emitter.on("change",O),z.emitter.listenerCount("disconnect")||z.emitter.on("disconnect",U),{...j,connections:new Map(j.connections).set($.uid,{accounts:$.accounts,chainId:$.chainId,connector:z}),current:$.uid,status:"connected"}):j})}function U($){_.setState(j=>{const z=j.connections.get($.uid);if(z){const R=z.connector;R.emitter.listenerCount("change")&&z.connector.emitter.off("change",O),R.emitter.listenerCount("disconnect")&&z.connector.emitter.off("disconnect",U),R.emitter.listenerCount("connect")||z.connector.emitter.on("connect",M)}if(j.connections.delete($.uid),j.connections.size===0)return{...j,connections:new Map,current:null,status:"disconnected"};const H=j.connections.values().next().value;return{...j,connections:new Map(j.connections),current:H.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:h,get state(){return _.getState()},setState($){let j;typeof $=="function"?j=$(_.getState()):j=$;const z=m();typeof j!="object"&&(j=z),Object.keys(z).some(R=>!(R in j))&&(j=z),_.setState(j,!0)},subscribe($,j,z){return _.subscribe($,j,z?{...z,fireImmediately:z.emitImmediately}:void 0)},_internal:{mipd:o,store:_,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState($){const j=typeof $=="function"?$(a.getState()):$;if(j.length!==0)return a.setState(j,!0)},subscribe($){return a.subscribe($)}},connectors:{providerDetailToConnector:f,setup:u,setState($){return c.setState(typeof $=="function"?$(c.getState()):$,!0)},subscribe($){return c.subscribe($)}},events:{change:O,connect:M,disconnect:U}}}}function G5(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const u of s??[])if(u.rdns){const f=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const d of f)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(i.has(u.info.rdns))continue;const f=t._internal.connectors.providerDetailToConnector(u),d=t._internal.connectors.setup(f);o.push(d)}return[...s,...o]})),r?B5(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}const Z5={getItem(t){return typeof window>"u"?null:W5(document.cookie,t)??null},setItem(t,e){typeof window>"u"||(document.cookie=`${t}=${e};path=/;samesite=Lax`)},removeItem(t){typeof window>"u"||(document.cookie=`${t}=;max-age=-1;path=/`)}};function W5(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}function J5(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=G5(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=ye.useRef(!0);return ye.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const yb=ye.createContext(void 0);function Y5(t){const{children:e,config:n}=t,r={value:n};return ye.createElement(J5,t,ye.createElement(yb.Provider,r,e))}const Q5="2.16.3",X5=()=>`wagmi@${Q5}`;let eA=class extends Ju{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return X5()}};class gb extends eA{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Yu(t={}){const e=t.config??ye.useContext(yb);if(!e)throw new gb;return e}var bb={exports:{}},wb={},vb={exports:{}},xb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=ye;function tA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nA=typeof Object.is=="function"?Object.is:tA,rA=lo.useState,sA=lo.useEffect,iA=lo.useLayoutEffect,oA=lo.useDebugValue;function aA(t,e){var n=e(),r=rA({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return iA(function(){s.value=n,s.getSnapshot=e,Yf(s)&&i({inst:s})},[t,n,e]),sA(function(){return Yf(s)&&i({inst:s}),t(function(){Yf(s)&&i({inst:s})})},[t]),oA(n),n}function Yf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nA(t,n)}catch{return!0}}function cA(t,e){return e()}var uA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cA:aA;xb.useSyncExternalStore=lo.useSyncExternalStore!==void 0?lo.useSyncExternalStore:uA;vb.exports=xb;var fA=vb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=ye,lA=fA;function dA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hA=typeof Object.is=="function"?Object.is:dA,pA=lA.useSyncExternalStore,mA=Qu.useRef,yA=Qu.useEffect,gA=Qu.useMemo,bA=Qu.useDebugValue;wb.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=mA(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=gA(function(){function c(m){if(!u){if(u=!0,f=m,m=r(m),s!==void 0&&o.hasValue){var w=o.value;if(s(w,m))return d=w}return d=m}if(w=d,hA(f,m))return w;var E=r(m);return s!==void 0&&s(w,E)?(f=m,w):(f=m,d=E)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,s]);var a=pA(t,i[0],i[1]);return yA(function(){o.hasValue=!0,o.value=a},[a]),bA(a),a};bb.exports=wb;var wA=bb.exports;const Qf=t=>typeof t=="object"&&!Array.isArray(t);function vA(t,e,n=e,r=fa){const s=ye.useRef([]),i=wA.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Qf(o)&&Qf(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return ye.useMemo(()=>{if(Qf(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function xA(t={}){const e=Yu(t);return vA(n=>k5(e,{onChange:n}),()=>db(e))}function EA(t){return{mutationFn(e){return b5(t,e)},mutationKey:["connect"]}}function SA(t={}){const e=Yu(t);return ye.useSyncExternalStore(n=>M5(e,{onChange:n}),()=>Ep(e),()=>Ep(e))}function _A(t={}){const{mutation:e}=t,n=Yu(t),r=EA(n),{mutate:s,mutateAsync:i,...o}=S6({...e,...r});return ye.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:SA({config:n})}}function AA(t={}){let e,n,r,s;return i=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:o}={}){try{const a=await this.getProvider(),c=(await a.request({method:"eth_requestAccounts",params:[]})).map(f=>qt(f));n||(n=this.onAccountsChanged.bind(this),a.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),a.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),a.on("disconnect",s));let u=await this.getChainId();if(o&&u!==o){const f=await this.switchChain({chainId:o}).catch(d=>{if(d.code===it.code)throw d;return{id:u}});u=(f==null?void 0:f.id)??u}return{accounts:c,chainId:u}}catch(a){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(a.message)?new it(a):a}},async disconnect(){const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>qt(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const o=(()=>{var u;return typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:((u=t.preference)==null?void 0:u.options)??"all"}})(),{createBaseAccountSDK:a}=await Ga(()=>import("./index-993c95b7.js"),["./index-993c95b7.js","./hooks.module-dd6ad649.js","./index-7dc74dc4.js","./vendor-9e9c62a7.js"],import.meta.url);e=a({...t,appChainIds:i.chains.map(u=>u.id),preference:o}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var f,d,h,m;const c=i.chains.find(w=>w.id===a);if(!c)throw new vn(new ii);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:ee(c.id)}]}),c}catch(w){if(w.code===4902)try{let E;o!=null&&o.blockExplorerUrls?E=o.blockExplorerUrls:E=(f=c.blockExplorers)!=null&&f.default.url?[(d=c.blockExplorers)==null?void 0:d.default.url]:[];let _;(h=o==null?void 0:o.rpcUrls)!=null&&h.length?_=o.rpcUrls:_=[((m=c.rpcUrls.default)==null?void 0:m.http[0])??""];const k={blockExplorerUrls:E,chainId:ee(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:_};return await u.request({method:"wallet_addEthereumChain",params:[k]}),c}catch(E){throw new it(E)}throw new vn(w)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>qt(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}Xa.type="coinbaseWallet";function Xa(t={}){return t.version==="3"||t.headlessMode?BA(t):IA(t)}function IA(t){let e,n,r,s;return i=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Xa.type,async connect({chainId:o,...a}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>qt(d));n||(n=this.onAccountsChanged.bind(this),c.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),c.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let f=await this.getChainId();if(o&&f!==o){const d=await this.switchChain({chainId:o}).catch(h=>{if(h.code===it.code)throw h;return{id:f}});f=(d==null?void 0:d.id)??f}return{accounts:u,chainId:f}}catch(c){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(c.message)?new it(c):c}},async disconnect(){var a;const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect(),(a=o.close)==null||a.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>qt(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const o=(()=>{var u;return typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:((u=t.preference)==null?void 0:u.options)??"all"}})(),{createCoinbaseWalletSDK:a}=await Ga(()=>import("./index-65858ca2.js"),["./index-65858ca2.js","./hooks.module-dd6ad649.js","./index-7dc74dc4.js","./vendor-9e9c62a7.js"],import.meta.url);e=a({...t,appChainIds:i.chains.map(u=>u.id),preference:o}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var f,d,h,m;const c=i.chains.find(w=>w.id===a);if(!c)throw new vn(new ii);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:ee(c.id)}]}),c}catch(w){if(w.code===4902)try{let E;o!=null&&o.blockExplorerUrls?E=o.blockExplorerUrls:E=(f=c.blockExplorers)!=null&&f.default.url?[(d=c.blockExplorers)==null?void 0:d.default.url]:[];let _;(h=o==null?void 0:o.rpcUrls)!=null&&h.length?_=o.rpcUrls:_=[((m=c.rpcUrls.default)==null?void 0:m.http[0])??""];const k={blockExplorerUrls:E,chainId:ee(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:_};return await u.request({method:"wallet_addEthereumChain",params:[k]}),c}catch(E){throw new it(E)}throw new vn(w)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>qt(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}function BA(t){let n,r,s,i,o;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:Xa.type,async connect({chainId:c}={}){try{const u=await this.getProvider(),f=(await u.request({method:"eth_requestAccounts"})).map(h=>qt(h));s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),u.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),u.on("disconnect",o));let d=await this.getChainId();if(c&&d!==c){const h=await this.switchChain({chainId:c}).catch(m=>{if(m.code===it.code)throw m;return{id:d}});d=(h==null?void 0:h.id)??d}return{accounts:f,chainId:d}}catch(u){throw/(user closed modal|accounts received is empty|user denied account)/i.test(u.message)?new it(u):u}},async disconnect(){const c=await this.getProvider();s&&(c.removeListener("accountsChanged",s),s=void 0),i&&(c.removeListener("chainChanged",i),i=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(u=>qt(u))},async getChainId(){const u=await(await this.getProvider()).request({method:"eth_chainId"});return Number(u)},async getProvider(){var c;if(!r){const u=await(async()=>{const{default:w}=await Ga(()=>import("./index-3ceb1e27.js").then(E=>E.i),["./index-3ceb1e27.js","./vendor-9e9c62a7.js","./hooks.module-dd6ad649.js"],import.meta.url);return typeof w!="function"&&typeof w.default=="function"?w.default:w})();n=new u({...t,reloadOnDisconnect:!1});const f=(c=n.walletExtension)==null?void 0:c.getChainId(),d=a.chains.find(w=>t.chainId?w.id===t.chainId:w.id===f)||a.chains[0],h=t.chainId||(d==null?void 0:d.id),m=t.jsonRpcUrl||(d==null?void 0:d.rpcUrls.default.http[0]);r=n.makeWeb3Provider(m,h)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){var h,m,w,E;const f=a.chains.find(_=>_.id===u);if(!f)throw new vn(new ii);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:ee(f.id)}]}),f}catch(_){if(_.code===4902)try{let k;c!=null&&c.blockExplorerUrls?k=c.blockExplorerUrls:k=(h=f.blockExplorers)!=null&&h.default.url?[(m=f.blockExplorers)==null?void 0:m.default.url]:[];let O;(w=c==null?void 0:c.rpcUrls)!=null&&w.length?O=c.rpcUrls:O=[((E=f.rpcUrls.default)==null?void 0:E.http[0])??""];const M={blockExplorerUrls:k,chainId:ee(u),chainName:(c==null?void 0:c.chainName)??f.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??f.nativeCurrency,rpcUrls:O};return await d.request({method:"wallet_addEthereumChain",params:[M]}),f}catch(k){throw new it(k)}throw new vn(_)}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(u=>qt(u))})},onChainChanged(c){const u=Number(c);a.emitter.emit("change",{chainId:u})},async onDisconnect(c){a.emitter.emit("disconnect");const u=await this.getProvider();s&&(u.removeListener("accountsChanged",s),s=void 0),i&&(u.removeListener("chainChanged",i),i=void 0),o&&(u.removeListener("disconnect",o),o=void 0)}})}const kA=({apiKey:t,appName:e,appLogoUrl:n,connectors:r=[Xa({appName:e,appLogoUrl:n,preference:"all"})]})=>K5({chains:[Oc,zo],connectors:r,storage:pb({storage:Z5}),ssr:!0,transports:{[Oc.id]:t?gc(`https://api.developer.coinbase.com/rpc/v1/base/${t}`):gc(),[zo.id]:t?gc(`https://api.developer.coinbase.com/rpc/v1/base-sepolia/${t}`):gc()}});function MA(){let t=null,e=null;try{t=Yu()}catch(n){n instanceof gb||console.error("Error fetching WagmiProvider, using default:",n)}try{e=Yd()}catch(n){n.message!=="No QueryClient set, use QueryClientProvider to set one"&&console.error("Error fetching QueryClient, using default:",n)}return ye.useMemo(()=>({providedWagmiConfig:t,providedQueryClient:e}),[t,e])}const Eb=ye.createContext(Kd);function RA(){return ye.useContext(Eb)}function Sb({children:t,connectors:e}){const{providedWagmiConfig:n,providedQueryClient:r}=MA();return jt.jsx(CA,{providedWagmiConfig:n,connectors:e,children:jt.jsx(TA,{providedQueryClient:r,children:t})})}function CA({children:t,providedWagmiConfig:e,connectors:n}){const r=RA(),s=ye.useRef(n),i=ye.useCallback(()=>{var c,u,f,d;if(e)return e;const h=((u=(c=r.config)==null?void 0:c.appearance)==null?void 0:u.name)??void 0,m=((d=(f=r.config)==null?void 0:f.appearance)==null?void 0:d.logo)??void 0;return kA({apiKey:r.apiKey??void 0,appName:h,appLogoUrl:m,connectors:n??[AA({appName:h,appLogoUrl:m})]})},[r.apiKey,r.config,n,e]),[o,a]=ye.useState(()=>i());return ye.useEffect(()=>{s.current!==n&&(a(i()),s.current=n)},[n,i]),e?t:jt.jsx(Y5,{config:o,children:t})}function TA({children:t,providedQueryClient:e}){const n=ye.useMemo(()=>e||new i6,[e]);return e?t:jt.jsx(f6,{client:n,children:t})}const PA="https://api.developer.coinbase.com/analytics";let Ih=class extends Error{constructor(n,r={}){super(n,r.cause?{cause:r.cause}:void 0);Gr(this,"name","BaseError");Gr(this,"cause");this.cause=r.cause}};class OA extends Ih{constructor(){super("Invalid domain manifest");Gr(this,"name","AddMiniApp.InvalidDomainManifest")}}let $A=class extends Ih{constructor(){super("Add miniapp rejected by user");Gr(this,"name","AddMiniApp.RejectedByUser")}};class _b extends Ih{constructor(){super("Sign in rejected by user");Gr(this,"name","SignIn.RejectedByUser")}}var Oe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Oe||(Oe={}));var Ip;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ip||(Ip={}));const ce=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ns=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},ne=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof qr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qr.create=t=>new qr(t);const NA=(t,e)=>{let n;switch(t.code){case ne.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Oe.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Oe.joinValues(t.keys,", ")}`;break;case ne.invalid_union:n="Invalid input";break;case ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Oe.joinValues(t.options)}`;break;case ne.invalid_enum_value:n=`Invalid enum value. Expected ${Oe.joinValues(t.options)}, received '${t.received}'`;break;case ne.invalid_arguments:n="Invalid function arguments";break;case ne.invalid_return_type:n="Invalid function return type";break;case ne.invalid_date:n="Invalid date";break;case ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Oe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ne.custom:n="Invalid input";break;case ne.invalid_intersection_types:n="Intersection results could not be merged";break;case ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,Oe.assertNever(t)}return{message:n}},hd=NA;let UA=hd;function LA(){return UA}const FA=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function se(t,e){const n=LA(),r=FA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===hd?void 0:hd].filter(s=>!!s)});t.common.issues.push(r)}class Tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return we;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Tn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return we;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),Uo=t=>({status:"dirty",value:t}),Gn=t=>({status:"valid",value:t}),Bp=t=>t.status==="aborted",kp=t=>t.status==="dirty",ho=t=>t.status==="valid",Vc=t=>typeof Promise<"u"&&t instanceof Promise;var fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(fe||(fe={}));class Ss{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mp=(t,e)=>{if(ho(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qr(t.common.issues);return this._error=n,this._error}}};function Me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:s}}class Pe{get description(){return this._def.description}_getType(e){return ns(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tn,ctx:{common:e.parent.common,data:e.data,parsedType:ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Vc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ns(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Mp(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ns(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return ho(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>ho(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ns(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Vc(s)?s:Promise.resolve(s));return Mp(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ne.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Vr({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Lr.create(this,this._def)}nullable(){return ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pr.create(this)}promise(){return Xc.create(this,this._def)}or(e){return Zc.create([this,e],this._def)}and(e){return Wc.create(this,e,this._def)}transform(e){return new Vr({...Me(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new eu({...Me(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new kb({typeName:Ee.ZodBranded,type:this,...Me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new tu({...Me(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return kh.create(this,e)}readonly(){return nu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zA=/^c[^\s-]{8,}$/i,jA=/^[0-9a-z]+$/,DA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VA=/^[a-z0-9_-]{21}$/i,HA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,KA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,GA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ZA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xf;const WA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ab="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tI=new RegExp(`^${Ab}$`);function Ib(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function nI(t){return new RegExp(`^${Ib(t)}$`)}function rI(t){let e=`${Ab}T${Ib(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function sI(t,e){return!!((e==="v4"||!e)&&WA.test(t)||(e==="v6"||!e)&&YA.test(t))}function iI(t,e){if(!HA.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function oI(t,e){return!!((e==="v4"||!e)&&JA.test(t)||(e==="v6"||!e)&&QA.test(t))}class hs extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return se(i,{code:ne.invalid_type,expected:ce.string,received:i.parsedType}),we}const r=new Tn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?se(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&se(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")GA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"email",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Xf||(Xf=new RegExp(ZA,"u")),Xf.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"emoji",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")qA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"uuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")VA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"nanoid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")zA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")jA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid2",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")DA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ulid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),se(s,{validation:"url",code:ne.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"regex",code:ne.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),se(s,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?rI(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:ne.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?tI.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:ne.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?nI(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:ne.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?KA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"duration",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?sI(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ip",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?iI(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"jwt",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?oI(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cidr",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?XA.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?eI.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64url",code:ne.invalid_string,message:i.message}),r.dirty()):Oe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ne.invalid_string,...fe.errToObj(r)})}_addCheck(e){return new hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...fe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...fe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...fe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...fe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...fe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...fe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...fe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...fe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...fe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...fe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...fe.errToObj(n)})}nonempty(e){return this.min(1,fe.errToObj(e))}trim(){return new hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}hs.create=t=>new hs({checks:[],typeName:Ee.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});function aI(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class po extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return se(i,{code:ne.invalid_type,expected:ce.number,received:i.parsedType}),we}let r;const s=new Tn;for(const i of this._def.checks)i.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?aI(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:ne.not_finite,message:i.message}),s.dirty()):Oe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,fe.toString(n))}setLimit(e,n,r,s){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:fe.toString(s)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}po.create=t=>new po({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class da extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let r;const s=new Tn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Oe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return se(n,{code:ne.invalid_type,expected:ce.bigint,received:n.parsedType}),we}gte(e,n){return this.setLimit("min",e,!0,fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,fe.toString(n))}setLimit(e,n,r,s){return new da({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:fe.toString(s)}]})}_addCheck(e){return new da({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}da.create=t=>new da({checks:[],typeName:Ee.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});class pd extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:ne.invalid_type,expected:ce.boolean,received:r.parsedType}),we}return Gn(e.data)}}pd.create=t=>new pd({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Hc extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return se(i,{code:ne.invalid_type,expected:ce.date,received:i.parsedType}),we}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return se(i,{code:ne.invalid_date}),we}const r=new Tn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Oe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:fe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:fe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Hc.create=t=>new Hc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...Me(t)});class Rp extends Pe{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:ne.invalid_type,expected:ce.symbol,received:r.parsedType}),we}return Gn(e.data)}}Rp.create=t=>new Rp({typeName:Ee.ZodSymbol,...Me(t)});class Kc extends Pe{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:ne.invalid_type,expected:ce.undefined,received:r.parsedType}),we}return Gn(e.data)}}Kc.create=t=>new Kc({typeName:Ee.ZodUndefined,...Me(t)});class Gc extends Pe{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return se(r,{code:ne.invalid_type,expected:ce.null,received:r.parsedType}),we}return Gn(e.data)}}Gc.create=t=>new Gc({typeName:Ee.ZodNull,...Me(t)});class Cp extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return Gn(e.data)}}Cp.create=t=>new Cp({typeName:Ee.ZodAny,...Me(t)});class Tp extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gn(e.data)}}Tp.create=t=>new Tp({typeName:Ee.ZodUnknown,...Me(t)});class _s extends Pe{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:ne.invalid_type,expected:ce.never,received:n.parsedType}),we}}_s.create=t=>new _s({typeName:Ee.ZodNever,...Me(t)});class Pp extends Pe{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:ne.invalid_type,expected:ce.void,received:r.parsedType}),we}return Gn(e.data)}}Pp.create=t=>new Pp({typeName:Ee.ZodVoid,...Me(t)});class pr extends Pe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return se(n,{code:ne.invalid_type,expected:ce.array,received:n.parsedType}),we;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(se(n,{code:o?ne.too_big:ne.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Ss(n,o,n.path,a)))).then(o=>Tn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Ss(n,o,n.path,a)));return Tn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new pr({...this._def,minLength:{value:e,message:fe.toString(n)}})}max(e,n){return new pr({...this._def,maxLength:{value:e,message:fe.toString(n)}})}length(e,n){return new pr({...this._def,exactLength:{value:e,message:fe.toString(n)}})}nonempty(e){return this.min(1,e)}}pr.create=(t,e)=>new pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Me(e)});function Ri(t){if(t instanceof rt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Lr.create(Ri(r))}return new rt({...t._def,shape:()=>e})}else return t instanceof pr?new pr({...t._def,type:Ri(t.element)}):t instanceof Lr?Lr.create(Ri(t.unwrap())):t instanceof ci?ci.create(Ri(t.unwrap())):t instanceof oi?oi.create(t.items.map(e=>Ri(e))):t}class rt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Oe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ce.object){const u=this._getOrReturnCtx(e);return se(u,{code:ne.invalid_type,expected:ce.object,received:u.parsedType}),we}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof _s&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const f=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Ss(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof _s){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")a.length>0&&(se(s,{code:ne.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of a){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Ss(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>Tn.mergeObjectSync(r,u)):Tn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return fe.errToObj,new rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:fe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new rt({...this._def,unknownKeys:"strip"})}passthrough(){return new rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new rt({...this._def,catchall:e})}pick(e){const n={};for(const r of Oe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new rt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Oe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new rt({...this._def,shape:()=>n})}deepPartial(){return Ri(this)}partial(e){const n={};for(const r of Oe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new rt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Oe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Lr;)i=i._def.innerType;n[r]=i}return new rt({...this._def,shape:()=>n})}keyof(){return Bb(Oe.objectKeys(this.shape))}}rt.create=(t,e)=>new rt({shape:()=>t,unknownKeys:"strip",catchall:_s.create(),typeName:Ee.ZodObject,...Me(e)});rt.strictCreate=(t,e)=>new rt({shape:()=>t,unknownKeys:"strict",catchall:_s.create(),typeName:Ee.ZodObject,...Me(e)});rt.lazycreate=(t,e)=>new rt({shape:t,unknownKeys:"strip",catchall:_s.create(),typeName:Ee.ZodObject,...Me(e)});class Zc extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new qr(a.ctx.common.issues));return se(n,{code:ne.invalid_union,unionErrors:o}),we}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new qr(c));return se(n,{code:ne.invalid_union,unionErrors:a}),we}}get options(){return this._def.options}}Zc.create=(t,e)=>new Zc({options:t,typeName:Ee.ZodUnion,...Me(e)});const Br=t=>t instanceof Jc?Br(t.schema):t instanceof Vr?Br(t.innerType()):t instanceof Yc?[t.value]:t instanceof ai?t.options:t instanceof Qc?Oe.objectValues(t.enum):t instanceof eu?Br(t._def.innerType):t instanceof Kc?[void 0]:t instanceof Gc?[null]:t instanceof Lr?[void 0,...Br(t.unwrap())]:t instanceof ci?[null,...Br(t.unwrap())]:t instanceof kb||t instanceof nu?Br(t.unwrap()):t instanceof tu?Br(t._def.innerType):[];class Bh extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return se(n,{code:ne.invalid_type,expected:ce.object,received:n.parsedType}),we;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Br(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Bh({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Me(r)})}}function md(t,e){const n=ns(t),r=ns(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=Oe.objectKeys(e),i=Oe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=md(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=md(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wc extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Bp(i)||Bp(o))return we;const a=md(i.value,o.value);return a.valid?((kp(i)||kp(o))&&n.dirty(),{status:n.value,value:a.data}):(se(r,{code:ne.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wc.create=(t,e,n)=>new Wc({left:t,right:e,typeName:Ee.ZodIntersection,...Me(n)});class oi extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return se(r,{code:ne.invalid_type,expected:ce.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return se(r,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ss(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Tn.mergeArray(n,o)):Tn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new oi({...this._def,rest:e})}}oi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oi({items:t,typeName:Ee.ZodTuple,rest:null,...Me(e)})};class Op extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return se(r,{code:ne.invalid_type,expected:ce.map,received:r.parsedType}),we;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:s._parse(new Ss(r,a,r.path,[u,"key"])),value:i._parse(new Ss(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return we;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(u.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return we;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(u.value,f.value)}return{status:n.value,value:a}}}}Op.create=(t,e,n)=>new Op({valueType:e,keyType:t,typeName:Ee.ZodMap,...Me(n)});class ha extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return se(r,{code:ne.invalid_type,expected:ce.set,received:r.parsedType}),we;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(se(r,{code:ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(se(r,{code:ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return we;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>i._parse(new Ss(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new ha({...this._def,minSize:{value:e,message:fe.toString(n)}})}max(e,n){return new ha({...this._def,maxSize:{value:e,message:fe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ha.create=(t,e)=>new ha({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Me(e)});class Jc extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jc.create=(t,e)=>new Jc({getter:t,typeName:Ee.ZodLazy,...Me(e)});class Yc extends Pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:ne.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}Yc.create=(t,e)=>new Yc({value:t,typeName:Ee.ZodLiteral,...Me(e)});function Bb(t,e){return new ai({values:t,typeName:Ee.ZodEnum,...Me(e)})}class ai extends Pe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:Oe.joinValues(r),received:n.parsedType,code:ne.invalid_type}),we}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:ne.invalid_enum_value,options:r}),we}return Gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ai.create(e,{...this._def,...n})}exclude(e,n=this._def){return ai.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ai.create=Bb;class Qc extends Pe{_parse(e){const n=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=Oe.objectValues(n);return se(r,{expected:Oe.joinValues(s),received:r.parsedType,code:ne.invalid_type}),we}if(this._cache||(this._cache=new Set(Oe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Oe.objectValues(n);return se(r,{received:r.data,code:ne.invalid_enum_value,options:s}),we}return Gn(e.data)}get enum(){return this._def.values}}Qc.create=(t,e)=>new Qc({values:t,typeName:Ee.ZodNativeEnum,...Me(e)});class Xc extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return se(n,{code:ne.invalid_type,expected:ce.promise,received:n.parsedType}),we;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return Gn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xc.create=(t,e)=>new Xc({type:t,typeName:Ee.ZodPromise,...Me(e)});class Vr extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return we;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?we:c.status==="dirty"||n.value==="dirty"?Uo(c.value):c});{if(n.value==="aborted")return we;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?we:a.status==="dirty"||n.value==="dirty"?Uo(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ho(o))return we;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ho(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):we);Oe.assertNever(s)}}Vr.create=(t,e,n)=>new Vr({schema:t,typeName:Ee.ZodEffects,effect:e,...Me(n)});Vr.createWithPreprocess=(t,e,n)=>new Vr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Me(n)});class Lr extends Pe{_parse(e){return this._getType(e)===ce.undefined?Gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lr.create=(t,e)=>new Lr({innerType:t,typeName:Ee.ZodOptional,...Me(e)});class ci extends Pe{_parse(e){return this._getType(e)===ce.null?Gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ci.create=(t,e)=>new ci({innerType:t,typeName:Ee.ZodNullable,...Me(e)});class eu extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}eu.create=(t,e)=>new eu({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Me(e)});class tu extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tu.create=(t,e)=>new tu({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Me(e)});class $p extends Pe{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return se(r,{code:ne.invalid_type,expected:ce.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}$p.create=t=>new $p({typeName:Ee.ZodNaN,...Me(t)});class kb extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class kh extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),Uo(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new kh({in:e,out:n,typeName:Ee.ZodPipeline})}}class nu extends Pe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ho(s)&&(s.value=Object.freeze(s.value)),s);return Vc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}nu.create=(t,e)=>new nu({innerType:t,typeName:Ee.ZodReadonly,...Me(e)});rt.lazycreate;var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const ot=hs.create,Mb=po.create,cI=pd.create;Kc.create;Gc.create;_s.create;const Gs=pr.create,Tt=rt.create;rt.strictCreate;const ru=Zc.create,Rb=Bh.create;Wc.create;oi.create;Jc.create;const Nt=Yc.create,Mh=ai.create;Qc.create;Xc.create;Vr.create;Lr.create;ci.create;Vr.createWithPreprocess;const uI=/[@#$%^&*+=/\\|~]/,fI=/(!{2,}|\?{2,}|-{2,})/,lI=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,Ao=({max:t,noSpaces:e}={})=>(e?ot().max(t??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):ot().max(t??Number.POSITIVE_INFINITY)).refine(r=>!lI.test(r),{message:"Emojis and symbols are not allowed"}).refine(r=>!uI.test(r),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(r=>!fI.test(r),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),on=ot().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(t=>!t.includes(" "),{message:"URL must not contain spaces"}).refine(t=>{try{const e=new URL(t).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),Rh=ot().max(32),Cb=ot().max(32),dI=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,hI=ot().regex(dI,{message:"Invalid CAIP-19 asset ID"}),Ch=ot().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),pI=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,mI=ot().max(1024).regex(pI,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(t=>!t.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(t=>!t.includes("/"),{message:"Domain must not include path separators"}).refine(t=>!t.includes("@"),{message:"Domain must not include @ symbol"}).refine(t=>!t.includes(":"),{message:"Domain must not include port numbers"}),yI=ru([Nt("1:1"),Nt("3:2")]),gI=Tt({header:ot(),payload:ot(),signature:ot()});Tt({fid:Mb(),type:Nt("app_key"),key:ot().startsWith("0x")});const bI=Tt({type:Nt("launch_frame"),name:Rh,url:on.optional(),splashImageUrl:on.optional(),splashBackgroundColor:Ch.optional()}),wI=Tt({type:Nt("launch_miniapp"),name:Rh,url:on.optional(),splashImageUrl:on.optional(),splashBackgroundColor:Ch.optional()}),vI=Tt({type:Nt("view_token"),token:hI}),xI=Rb("type",[wI,vI,bI]),EI=Tt({title:Cb,action:xI});Tt({version:ru([ot(),Mb()]).transform(t=>String(t)).pipe(ru([Nt("next"),Nt("1")])),imageUrl:on,aspectRatio:yI.optional(),button:EI});const Th=Tt({url:ot(),token:ot()});Tt({notificationId:ot().max(128),title:ot().max(32),body:ot().max(128),targetUrl:on,tokens:ot().array().max(100)});Tt({result:Tt({successfulTokens:Gs(ot()),invalidTokens:Gs(ot()),rateLimitedTokens:Gs(ot())})});const SI=Tt({event:Nt("miniapp_added"),notificationDetails:Th.optional()}),_I=Tt({event:Nt("frame_added"),notificationDetails:Th.optional()}),AI=Tt({event:Nt("miniapp_removed")}),II=Tt({event:Nt("frame_removed")}),BI=Tt({event:Nt("notifications_enabled"),notificationDetails:Th.required()}),kI=Tt({event:Nt("notifications_disabled")});Rb("event",[SI,AI,BI,kI,_I,II]);const MI=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],RI=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],CI=Mh(RI),TI=ru([Nt("0.0.0"),Nt("0.0.1"),Nt("1"),Nt("next")]),PI=Ao({max:30}),OI=Ao({max:170}),$I=Gs(on).max(3),NI=Gs(Ao({max:20,noSpaces:!0})).max(5),UI=Ao({max:30}),LI=Ao({max:30}),FI=Ao({max:100}),zI=cI(),jI=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function Tb(t){const e=new Set(t);return Array.from(e)}const DI=Gs(Mh(jI)).transform(Tb),qI=Gs(Mh(MI)).transform(Tb),Np=Tt({version:TI,name:Rh,iconUrl:on,homeUrl:on,imageUrl:on.optional(),buttonTitle:Cb.optional(),splashImageUrl:on.optional(),splashBackgroundColor:Ch.optional(),webhookUrl:on.optional(),subtitle:PI.optional(),description:OI.optional(),screenshotUrls:$I.optional(),primaryCategory:CI.optional(),tags:NI.optional(),heroImageUrl:on.optional(),tagline:UI.optional(),ogTitle:LI.optional(),ogDescription:FI.optional(),ogImageUrl:on.optional(),noindex:zI.optional(),requiredChains:DI.optional(),requiredCapabilities:qI.optional(),castShareUrl:on.optional(),canonicalDomain:mI.optional()}).refine(t=>{if(t.castShareUrl===void 0)return!0;try{const e=new URL(t.homeUrl).hostname,n=new URL(t.castShareUrl).hostname;return e===n}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});Tt({accountAssociation:gI,miniapp:Np.optional(),frame:Np.optional()}).refine(t=>t.frame&&t.miniapp?JSON.stringify(t.frame)===JSON.stringify(t.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(t=>({...t,frame:t.frame??t.miniapp}));var ke={},Xu={};Xu.byteLength=KI;Xu.toByteArray=ZI;Xu.fromByteArray=YI;var dr=[],Fn=[],VI=typeof Uint8Array<"u"?Uint8Array:Array,el="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ai=0,HI=el.length;Ai<HI;++Ai)dr[Ai]=el[Ai],Fn[el.charCodeAt(Ai)]=Ai;Fn["-".charCodeAt(0)]=62;Fn["_".charCodeAt(0)]=63;function Pb(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function KI(t){var e=Pb(t),n=e[0],r=e[1];return(n+r)*3/4-r}function GI(t,e,n){return(e+n)*3/4-n}function ZI(t){var e,n=Pb(t),r=n[0],s=n[1],i=new VI(GI(t,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)e=Fn[t.charCodeAt(c)]<<18|Fn[t.charCodeAt(c+1)]<<12|Fn[t.charCodeAt(c+2)]<<6|Fn[t.charCodeAt(c+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=Fn[t.charCodeAt(c)]<<2|Fn[t.charCodeAt(c+1)]>>4,i[o++]=e&255),s===1&&(e=Fn[t.charCodeAt(c)]<<10|Fn[t.charCodeAt(c+1)]<<4|Fn[t.charCodeAt(c+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function WI(t){return dr[t>>18&63]+dr[t>>12&63]+dr[t>>6&63]+dr[t&63]}function JI(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(WI(r));return s.join("")}function YI(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(JI(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(dr[e>>2]+dr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(dr[e>>10]+dr[e>>4&63]+dr[e<<2&63]+"=")),s.join("")}var Ph={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ph.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,u=c>>1,f=-7,d=n?s-1:0,h=n?-1:1,m=t[e+d];for(d+=h,i=m&(1<<-f)-1,m>>=-f,f+=a;f>0;i=i*256+t[e+d],d+=h,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=r;f>0;o=o*256+t[e+d],d+=h,f-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(m?-1:1)*o*Math.pow(2,i-r)};Ph.write=function(t,e,n,r,s,i){var o,a,c,u=i*8-s-1,f=(1<<u)-1,d=f>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,w=r?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=f?(a=0,o=f):o+d>=1?(a=(e*c-1)*Math.pow(2,s),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=w,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;t[n+m]=o&255,m+=w,o/=256,u-=8);t[n+m-w]|=E*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Xu,n=Ph,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const B=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(B,y),B.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(B){if(B>s)throw new RangeError('The value "'+B+'" is invalid for option "size"');const y=new Uint8Array(B);return Object.setPrototypeOf(y,a.prototype),y}function a(B,y,b){if(typeof B=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(B)}return c(B,y,b)}a.poolSize=8192;function c(B,y,b){if(typeof B=="string")return h(B,y);if(ArrayBuffer.isView(B))return w(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Sn(B,ArrayBuffer)||B&&Sn(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Sn(B,SharedArrayBuffer)||B&&Sn(B.buffer,SharedArrayBuffer)))return E(B,y,b);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=B.valueOf&&B.valueOf();if(P!=null&&P!==B)return a.from(P,y,b);const D=_(B);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return a.from(B[Symbol.toPrimitive]("string"),y,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}a.from=function(B,y,b){return c(B,y,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function f(B,y,b){return u(B),B<=0?o(B):y!==void 0?typeof b=="string"?o(B).fill(y,b):o(B).fill(y):o(B)}a.alloc=function(B,y,b){return f(B,y,b)};function d(B){return u(B),o(B<0?0:k(B)|0)}a.allocUnsafe=function(B){return d(B)},a.allocUnsafeSlow=function(B){return d(B)};function h(B,y){if((typeof y!="string"||y==="")&&(y="utf8"),!a.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const b=M(B,y)|0;let P=o(b);const D=P.write(B,y);return D!==b&&(P=P.slice(0,D)),P}function m(B){const y=B.length<0?0:k(B.length)|0,b=o(y);for(let P=0;P<y;P+=1)b[P]=B[P]&255;return b}function w(B){if(Sn(B,Uint8Array)){const y=new Uint8Array(B);return E(y.buffer,y.byteOffset,y.byteLength)}return m(B)}function E(B,y,b){if(y<0||B.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<y+(b||0))throw new RangeError('"length" is outside of buffer bounds');let P;return y===void 0&&b===void 0?P=new Uint8Array(B):b===void 0?P=new Uint8Array(B,y):P=new Uint8Array(B,y,b),Object.setPrototypeOf(P,a.prototype),P}function _(B){if(a.isBuffer(B)){const y=k(B.length)|0,b=o(y);return b.length===0||B.copy(b,0,0,y),b}if(B.length!==void 0)return typeof B.length!="number"||Ge(B.length)?o(0):m(B);if(B.type==="Buffer"&&Array.isArray(B.data))return m(B.data)}function k(B){if(B>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return B|0}function O(B){return+B!=B&&(B=0),a.alloc(+B)}a.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==a.prototype},a.compare=function(y,b){if(Sn(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),Sn(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(y)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===b)return 0;let P=y.length,D=b.length;for(let K=0,W=Math.min(P,D);K<W;++K)if(y[K]!==b[K]){P=y[K],D=b[K];break}return P<D?-1:D<P?1:0},a.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(y,b){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return a.alloc(0);let P;if(b===void 0)for(b=0,P=0;P<y.length;++P)b+=y[P].length;const D=a.allocUnsafe(b);let K=0;for(P=0;P<y.length;++P){let W=y[P];if(Sn(W,Uint8Array))K+W.length>D.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(D,K)):Uint8Array.prototype.set.call(D,W,K);else if(a.isBuffer(W))W.copy(D,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=W.length}return D};function M(B,y){if(a.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Sn(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const b=B.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&b===0)return 0;let D=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return Ke(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return Ze(B).length;default:if(D)return P?-1:Ke(B).length;y=(""+y).toLowerCase(),D=!0}}a.byteLength=M;function U(B,y,b){let P=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,y>>>=0,b<=y))return"";for(B||(B="utf8");;)switch(B){case"hex":return C(this,y,b);case"utf8":case"utf-8":return l(this,y,b);case"ascii":return I(this,y,b);case"latin1":case"binary":return S(this,y,b);case"base64":return x(this,y,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,y,b);default:if(P)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),P=!0}}a.prototype._isBuffer=!0;function $(B,y,b){const P=B[y];B[y]=B[b],B[b]=P}a.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<y;b+=2)$(this,b,b+1);return this},a.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<y;b+=4)$(this,b,b+3),$(this,b+1,b+2);return this},a.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<y;b+=8)$(this,b,b+7),$(this,b+1,b+6),$(this,b+2,b+5),$(this,b+3,b+4);return this},a.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?l(this,0,y):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(y){if(!a.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:a.compare(this,y)===0},a.prototype.inspect=function(){let y="";const b=t.INSPECT_MAX_BYTES;return y=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(y+=" ... "),"<Buffer "+y+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(y,b,P,D,K){if(Sn(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(b===void 0&&(b=0),P===void 0&&(P=y?y.length:0),D===void 0&&(D=0),K===void 0&&(K=this.length),b<0||P>y.length||D<0||K>this.length)throw new RangeError("out of range index");if(D>=K&&b>=P)return 0;if(D>=K)return-1;if(b>=P)return 1;if(b>>>=0,P>>>=0,D>>>=0,K>>>=0,this===y)return 0;let W=K-D,Ie=P-b;const Se=Math.min(W,Ie),xe=this.slice(D,K),qe=y.slice(b,P);for(let be=0;be<Se;++be)if(xe[be]!==qe[be]){W=xe[be],Ie=qe[be];break}return W<Ie?-1:Ie<W?1:0};function j(B,y,b,P,D){if(B.length===0)return-1;if(typeof b=="string"?(P=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Ge(b)&&(b=D?0:B.length-1),b<0&&(b=B.length+b),b>=B.length){if(D)return-1;b=B.length-1}else if(b<0)if(D)b=0;else return-1;if(typeof y=="string"&&(y=a.from(y,P)),a.isBuffer(y))return y.length===0?-1:z(B,y,b,P,D);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(B,y,b):Uint8Array.prototype.lastIndexOf.call(B,y,b):z(B,[y],b,P,D);throw new TypeError("val must be string, number or Buffer")}function z(B,y,b,P,D){let K=1,W=B.length,Ie=y.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(B.length<2||y.length<2)return-1;K=2,W/=2,Ie/=2,b/=2}function Se(qe,be){return K===1?qe[be]:qe.readUInt16BE(be*K)}let xe;if(D){let qe=-1;for(xe=b;xe<W;xe++)if(Se(B,xe)===Se(y,qe===-1?0:xe-qe)){if(qe===-1&&(qe=xe),xe-qe+1===Ie)return qe*K}else qe!==-1&&(xe-=xe-qe),qe=-1}else for(b+Ie>W&&(b=W-Ie),xe=b;xe>=0;xe--){let qe=!0;for(let be=0;be<Ie;be++)if(Se(B,xe+be)!==Se(y,be)){qe=!1;break}if(qe)return xe}return-1}a.prototype.includes=function(y,b,P){return this.indexOf(y,b,P)!==-1},a.prototype.indexOf=function(y,b,P){return j(this,y,b,P,!0)},a.prototype.lastIndexOf=function(y,b,P){return j(this,y,b,P,!1)};function H(B,y,b,P){b=Number(b)||0;const D=B.length-b;P?(P=Number(P),P>D&&(P=D)):P=D;const K=y.length;P>K/2&&(P=K/2);let W;for(W=0;W<P;++W){const Ie=parseInt(y.substr(W*2,2),16);if(Ge(Ie))return W;B[b+W]=Ie}return W}function R(B,y,b,P){return De(Ke(y,B.length-b),B,b,P)}function q(B,y,b,P){return De(Qe(y),B,b,P)}function L(B,y,b,P){return De(Ze(y),B,b,P)}function V(B,y,b,P){return De(ac(y,B.length-b),B,b,P)}a.prototype.write=function(y,b,P,D){if(b===void 0)D="utf8",P=this.length,b=0;else if(P===void 0&&typeof b=="string")D=b,P=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(P)?(P=P>>>0,D===void 0&&(D="utf8")):(D=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-b;if((P===void 0||P>K)&&(P=K),y.length>0&&(P<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let W=!1;for(;;)switch(D){case"hex":return H(this,y,b,P);case"utf8":case"utf-8":return R(this,y,b,P);case"ascii":case"latin1":case"binary":return q(this,y,b,P);case"base64":return L(this,y,b,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,y,b,P);default:if(W)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(B,y,b){return y===0&&b===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(y,b))}function l(B,y,b){b=Math.min(B.length,b);const P=[];let D=y;for(;D<b;){const K=B[D];let W=null,Ie=K>239?4:K>223?3:K>191?2:1;if(D+Ie<=b){let Se,xe,qe,be;switch(Ie){case 1:K<128&&(W=K);break;case 2:Se=B[D+1],(Se&192)===128&&(be=(K&31)<<6|Se&63,be>127&&(W=be));break;case 3:Se=B[D+1],xe=B[D+2],(Se&192)===128&&(xe&192)===128&&(be=(K&15)<<12|(Se&63)<<6|xe&63,be>2047&&(be<55296||be>57343)&&(W=be));break;case 4:Se=B[D+1],xe=B[D+2],qe=B[D+3],(Se&192)===128&&(xe&192)===128&&(qe&192)===128&&(be=(K&15)<<18|(Se&63)<<12|(xe&63)<<6|qe&63,be>65535&&be<1114112&&(W=be))}}W===null?(W=65533,Ie=1):W>65535&&(W-=65536,P.push(W>>>10&1023|55296),W=56320|W&1023),P.push(W),D+=Ie}return v(P)}const p=4096;function v(B){const y=B.length;if(y<=p)return String.fromCharCode.apply(String,B);let b="",P=0;for(;P<y;)b+=String.fromCharCode.apply(String,B.slice(P,P+=p));return b}function I(B,y,b){let P="";b=Math.min(B.length,b);for(let D=y;D<b;++D)P+=String.fromCharCode(B[D]&127);return P}function S(B,y,b){let P="";b=Math.min(B.length,b);for(let D=y;D<b;++D)P+=String.fromCharCode(B[D]);return P}function C(B,y,b){const P=B.length;(!y||y<0)&&(y=0),(!b||b<0||b>P)&&(b=P);let D="";for(let K=y;K<b;++K)D+=Xe[B[K]];return D}function N(B,y,b){const P=B.slice(y,b);let D="";for(let K=0;K<P.length-1;K+=2)D+=String.fromCharCode(P[K]+P[K+1]*256);return D}a.prototype.slice=function(y,b){const P=this.length;y=~~y,b=b===void 0?P:~~b,y<0?(y+=P,y<0&&(y=0)):y>P&&(y=P),b<0?(b+=P,b<0&&(b=0)):b>P&&(b=P),b<y&&(b=y);const D=this.subarray(y,b);return Object.setPrototypeOf(D,a.prototype),D};function A(B,y,b){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+y>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(y,b,P){y=y>>>0,b=b>>>0,P||A(y,b,this.length);let D=this[y],K=1,W=0;for(;++W<b&&(K*=256);)D+=this[y+W]*K;return D},a.prototype.readUintBE=a.prototype.readUIntBE=function(y,b,P){y=y>>>0,b=b>>>0,P||A(y,b,this.length);let D=this[y+--b],K=1;for(;b>0&&(K*=256);)D+=this[y+--b]*K;return D},a.prototype.readUint8=a.prototype.readUInt8=function(y,b){return y=y>>>0,b||A(y,1,this.length),this[y]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(y,b){return y=y>>>0,b||A(y,2,this.length),this[y]|this[y+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(y,b){return y=y>>>0,b||A(y,2,this.length),this[y]<<8|this[y+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(y,b){return y=y>>>0,b||A(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(y,b){return y=y>>>0,b||A(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},a.prototype.readBigUInt64LE=Zn(function(y){y=y>>>0,Un(y,"offset");const b=this[y],P=this[y+7];(b===void 0||P===void 0)&&ze(y,this.length-8);const D=b+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,K=this[++y]+this[++y]*2**8+this[++y]*2**16+P*2**24;return BigInt(D)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=Zn(function(y){y=y>>>0,Un(y,"offset");const b=this[y],P=this[y+7];(b===void 0||P===void 0)&&ze(y,this.length-8);const D=b*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],K=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+P;return(BigInt(D)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(y,b,P){y=y>>>0,b=b>>>0,P||A(y,b,this.length);let D=this[y],K=1,W=0;for(;++W<b&&(K*=256);)D+=this[y+W]*K;return K*=128,D>=K&&(D-=Math.pow(2,8*b)),D},a.prototype.readIntBE=function(y,b,P){y=y>>>0,b=b>>>0,P||A(y,b,this.length);let D=b,K=1,W=this[y+--D];for(;D>0&&(K*=256);)W+=this[y+--D]*K;return K*=128,W>=K&&(W-=Math.pow(2,8*b)),W},a.prototype.readInt8=function(y,b){return y=y>>>0,b||A(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},a.prototype.readInt16LE=function(y,b){y=y>>>0,b||A(y,2,this.length);const P=this[y]|this[y+1]<<8;return P&32768?P|4294901760:P},a.prototype.readInt16BE=function(y,b){y=y>>>0,b||A(y,2,this.length);const P=this[y+1]|this[y]<<8;return P&32768?P|4294901760:P},a.prototype.readInt32LE=function(y,b){return y=y>>>0,b||A(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},a.prototype.readInt32BE=function(y,b){return y=y>>>0,b||A(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},a.prototype.readBigInt64LE=Zn(function(y){y=y>>>0,Un(y,"offset");const b=this[y],P=this[y+7];(b===void 0||P===void 0)&&ze(y,this.length-8);const D=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(P<<24);return(BigInt(D)<<BigInt(32))+BigInt(b+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),a.prototype.readBigInt64BE=Zn(function(y){y=y>>>0,Un(y,"offset");const b=this[y],P=this[y+7];(b===void 0||P===void 0)&&ze(y,this.length-8);const D=(b<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(D)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+P)}),a.prototype.readFloatLE=function(y,b){return y=y>>>0,b||A(y,4,this.length),n.read(this,y,!0,23,4)},a.prototype.readFloatBE=function(y,b){return y=y>>>0,b||A(y,4,this.length),n.read(this,y,!1,23,4)},a.prototype.readDoubleLE=function(y,b){return y=y>>>0,b||A(y,8,this.length),n.read(this,y,!0,52,8)},a.prototype.readDoubleBE=function(y,b){return y=y>>>0,b||A(y,8,this.length),n.read(this,y,!1,52,8)};function g(B,y,b,P,D,K){if(!a.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>D||y<K)throw new RangeError('"value" argument is out of bounds');if(b+P>B.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(y,b,P,D){if(y=+y,b=b>>>0,P=P>>>0,!D){const Ie=Math.pow(2,8*P)-1;g(this,y,b,P,Ie,0)}let K=1,W=0;for(this[b]=y&255;++W<P&&(K*=256);)this[b+W]=y/K&255;return b+P},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(y,b,P,D){if(y=+y,b=b>>>0,P=P>>>0,!D){const Ie=Math.pow(2,8*P)-1;g(this,y,b,P,Ie,0)}let K=P-1,W=1;for(this[b+K]=y&255;--K>=0&&(W*=256);)this[b+K]=y/W&255;return b+P},a.prototype.writeUint8=a.prototype.writeUInt8=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,1,255,0),this[b]=y&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,2,65535,0),this[b]=y&255,this[b+1]=y>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,2,65535,0),this[b]=y>>>8,this[b+1]=y&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,4,4294967295,0),this[b+3]=y>>>24,this[b+2]=y>>>16,this[b+1]=y>>>8,this[b]=y&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,4,4294967295,0),this[b]=y>>>24,this[b+1]=y>>>16,this[b+2]=y>>>8,this[b+3]=y&255,b+4};function T(B,y,b,P,D){Fe(y,P,D,B,b,7);let K=Number(y&BigInt(4294967295));B[b++]=K,K=K>>8,B[b++]=K,K=K>>8,B[b++]=K,K=K>>8,B[b++]=K;let W=Number(y>>BigInt(32)&BigInt(4294967295));return B[b++]=W,W=W>>8,B[b++]=W,W=W>>8,B[b++]=W,W=W>>8,B[b++]=W,b}function X(B,y,b,P,D){Fe(y,P,D,B,b,7);let K=Number(y&BigInt(4294967295));B[b+7]=K,K=K>>8,B[b+6]=K,K=K>>8,B[b+5]=K,K=K>>8,B[b+4]=K;let W=Number(y>>BigInt(32)&BigInt(4294967295));return B[b+3]=W,W=W>>8,B[b+2]=W,W=W>>8,B[b+1]=W,W=W>>8,B[b]=W,b+8}a.prototype.writeBigUInt64LE=Zn(function(y,b=0){return T(this,y,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Zn(function(y,b=0){return X(this,y,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(y,b,P,D){if(y=+y,b=b>>>0,!D){const Se=Math.pow(2,8*P-1);g(this,y,b,P,Se-1,-Se)}let K=0,W=1,Ie=0;for(this[b]=y&255;++K<P&&(W*=256);)y<0&&Ie===0&&this[b+K-1]!==0&&(Ie=1),this[b+K]=(y/W>>0)-Ie&255;return b+P},a.prototype.writeIntBE=function(y,b,P,D){if(y=+y,b=b>>>0,!D){const Se=Math.pow(2,8*P-1);g(this,y,b,P,Se-1,-Se)}let K=P-1,W=1,Ie=0;for(this[b+K]=y&255;--K>=0&&(W*=256);)y<0&&Ie===0&&this[b+K+1]!==0&&(Ie=1),this[b+K]=(y/W>>0)-Ie&255;return b+P},a.prototype.writeInt8=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,1,127,-128),y<0&&(y=255+y+1),this[b]=y&255,b+1},a.prototype.writeInt16LE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,2,32767,-32768),this[b]=y&255,this[b+1]=y>>>8,b+2},a.prototype.writeInt16BE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,2,32767,-32768),this[b]=y>>>8,this[b+1]=y&255,b+2},a.prototype.writeInt32LE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,4,2147483647,-2147483648),this[b]=y&255,this[b+1]=y>>>8,this[b+2]=y>>>16,this[b+3]=y>>>24,b+4},a.prototype.writeInt32BE=function(y,b,P){return y=+y,b=b>>>0,P||g(this,y,b,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[b]=y>>>24,this[b+1]=y>>>16,this[b+2]=y>>>8,this[b+3]=y&255,b+4},a.prototype.writeBigInt64LE=Zn(function(y,b=0){return T(this,y,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Zn(function(y,b=0){return X(this,y,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(B,y,b,P,D,K){if(b+P>B.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function te(B,y,b,P,D){return y=+y,b=b>>>0,D||J(B,y,b,4),n.write(B,y,b,P,23,4),b+4}a.prototype.writeFloatLE=function(y,b,P){return te(this,y,b,!0,P)},a.prototype.writeFloatBE=function(y,b,P){return te(this,y,b,!1,P)};function ve(B,y,b,P,D){return y=+y,b=b>>>0,D||J(B,y,b,8),n.write(B,y,b,P,52,8),b+8}a.prototype.writeDoubleLE=function(y,b,P){return ve(this,y,b,!0,P)},a.prototype.writeDoubleBE=function(y,b,P){return ve(this,y,b,!1,P)},a.prototype.copy=function(y,b,P,D){if(!a.isBuffer(y))throw new TypeError("argument should be a Buffer");if(P||(P=0),!D&&D!==0&&(D=this.length),b>=y.length&&(b=y.length),b||(b=0),D>0&&D<P&&(D=P),D===P||y.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),y.length-b<D-P&&(D=y.length-b+P);const K=D-P;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,P,D):Uint8Array.prototype.set.call(y,this.subarray(P,D),b),K},a.prototype.fill=function(y,b,P,D){if(typeof y=="string"){if(typeof b=="string"?(D=b,b=0,P=this.length):typeof P=="string"&&(D=P,P=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!a.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(y.length===1){const W=y.charCodeAt(0);(D==="utf8"&&W<128||D==="latin1")&&(y=W)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(b<0||this.length<b||this.length<P)throw new RangeError("Out of range index");if(P<=b)return this;b=b>>>0,P=P===void 0?this.length:P>>>0,y||(y=0);let K;if(typeof y=="number")for(K=b;K<P;++K)this[K]=y;else{const W=a.isBuffer(y)?y:a.from(y,D),Ie=W.length;if(Ie===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(K=0;K<P-b;++K)this[K+b]=W[K%Ie]}return this};const he={};function de(B,y,b){he[B]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(B,y){return`The "${B}" argument must be of type number. Received type ${typeof y}`},TypeError),de("ERR_OUT_OF_RANGE",function(B,y,b){let P=`The value of "${B}" is out of range.`,D=b;return Number.isInteger(b)&&Math.abs(b)>2**32?D=Le(String(b)):typeof b=="bigint"&&(D=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(D=Le(D)),D+="n"),P+=` It must be ${y}. Received ${D}`,P},RangeError);function Le(B){let y="",b=B.length;const P=B[0]==="-"?1:0;for(;b>=P+4;b-=3)y=`_${B.slice(b-3,b)}${y}`;return`${B.slice(0,b)}${y}`}function Te(B,y,b){Un(y,"offset"),(B[y]===void 0||B[y+b]===void 0)&&ze(y,B.length-(b+1))}function Fe(B,y,b,P,D,K){if(B>b||B<y){const W=typeof y=="bigint"?"n":"";let Ie;throw K>3?y===0||y===BigInt(0)?Ie=`>= 0${W} and < 2${W} ** ${(K+1)*8}${W}`:Ie=`>= -(2${W} ** ${(K+1)*8-1}${W}) and < 2 ** ${(K+1)*8-1}${W}`:Ie=`>= ${y}${W} and <= ${b}${W}`,new he.ERR_OUT_OF_RANGE("value",Ie,B)}Te(P,D,K)}function Un(B,y){if(typeof B!="number")throw new he.ERR_INVALID_ARG_TYPE(y,"number",B)}function ze(B,y,b){throw Math.floor(B)!==B?(Un(B,b),new he.ERR_OUT_OF_RANGE(b||"offset","an integer",B)):y<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${y}`,B)}const Ye=/[^+/0-9A-Za-z-_]/g;function oc(B){if(B=B.split("=")[0],B=B.trim().replace(Ye,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function Ke(B,y){y=y||1/0;let b;const P=B.length;let D=null;const K=[];for(let W=0;W<P;++W){if(b=B.charCodeAt(W),b>55295&&b<57344){if(!D){if(b>56319){(y-=3)>-1&&K.push(239,191,189);continue}else if(W+1===P){(y-=3)>-1&&K.push(239,191,189);continue}D=b;continue}if(b<56320){(y-=3)>-1&&K.push(239,191,189),D=b;continue}b=(D-55296<<10|b-56320)+65536}else D&&(y-=3)>-1&&K.push(239,191,189);if(D=null,b<128){if((y-=1)<0)break;K.push(b)}else if(b<2048){if((y-=2)<0)break;K.push(b>>6|192,b&63|128)}else if(b<65536){if((y-=3)<0)break;K.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((y-=4)<0)break;K.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return K}function Qe(B){const y=[];for(let b=0;b<B.length;++b)y.push(B.charCodeAt(b)&255);return y}function ac(B,y){let b,P,D;const K=[];for(let W=0;W<B.length&&!((y-=2)<0);++W)b=B.charCodeAt(W),P=b>>8,D=b%256,K.push(D),K.push(P);return K}function Ze(B){return e.toByteArray(oc(B))}function De(B,y,b,P){let D;for(D=0;D<P&&!(D+b>=y.length||D>=B.length);++D)y[D+b]=B[D];return D}function Sn(B,y){return B instanceof y||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===y.name}function Ge(B){return B!==B}const Xe=function(){const B="0123456789abcdef",y=new Array(256);for(let b=0;b<16;++b){const P=b*16;for(let D=0;D<16;++D)y[P+D]=B[b]+B[D]}return y}();function Zn(B){return typeof BigInt>"u"?et:B}function et(){throw new Error("BigInt not supported")}})(ke);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oh=BigInt(0),yd=BigInt(1);function ui(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Qn(t,e,n=""){const r=As(t),s=t==null?void 0:t.length,i=e!==void 0;if(!r||i&&s!==e){const o=n&&`"${n}" `,a=i?` of length ${e}`:"",c=r?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function vc(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ob(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Oh:BigInt("0x"+t)}function ef(t){return Ob(qn(t))}function pa(t){return Ht(t),Ob(qn(Uint8Array.from(t).reverse()))}function $h(t,e){return Ws(t.toString(16).padStart(e*2,"0"))}function $b(t,e){return $h(t,e).reverse()}function st(t,e,n){let r;if(typeof e=="string")try{r=Ws(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(As(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function Up(t){return Uint8Array.from(t)}const tl=t=>typeof t=="bigint"&&Oh<=t;function QI(t,e,n){return tl(t)&&tl(e)&&tl(n)&&e<=t&&t<n}function gd(t,e,n,r){if(!QI(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Nb(t){let e;for(e=0;t>Oh;t>>=yd,e+=1);return e}const ec=t=>(yd<<BigInt(t))-yd;function XI(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),s=m=>Uint8Array.of(m);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},u=(...m)=>n(o,i,...m),f=(m=r(0))=>{o=u(s(0),m),i=u(),m.length!==0&&(o=u(s(1),m),i=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const w=[];for(;m<e;){i=u();const E=i.slice();w.push(E),m+=i.length}return He(...w)};return(m,w)=>{c(),f(m);let E;for(;!(E=w(d()));)f();return c(),E}}function tc(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function su(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wn=BigInt(0),Vt=BigInt(1),Ts=BigInt(2),Ub=BigInt(3),Lb=BigInt(4),Fb=BigInt(5),e8=BigInt(7),zb=BigInt(8),t8=BigInt(9),jb=BigInt(16);function It(t,e){const n=t%e;return n>=wn?n:e+n}function nt(t,e,n){let r=t;for(;e-- >wn;)r*=r,r%=n;return r}function Lp(t,e){if(t===wn)throw new Error("invert: expected non-zero number");if(e<=wn)throw new Error("invert: expected positive modulus, got "+e);let n=It(t,e),r=e,s=wn,i=Vt;for(;n!==wn;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Vt)throw new Error("invert: does not exist");return It(s,e)}function Nh(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Db(t,e){const n=(t.ORDER+Vt)/Lb,r=t.pow(e,n);return Nh(t,r,e),r}function n8(t,e){const n=(t.ORDER-Fb)/zb,r=t.mul(e,Ts),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Ts),s),a=t.mul(i,t.sub(o,t.ONE));return Nh(t,a,e),a}function r8(t){const e=pi(t),n=qb(t),r=n(e,e.neg(e.ONE)),s=n(e,r),i=n(e,e.neg(r)),o=(t+e8)/jb;return(a,c)=>{let u=a.pow(c,o),f=a.mul(u,r);const d=a.mul(u,s),h=a.mul(u,i),m=a.eql(a.sqr(f),c),w=a.eql(a.sqr(d),c);u=a.cmov(u,f,m),f=a.cmov(h,d,w);const E=a.eql(a.sqr(f),c),_=a.cmov(u,f,E);return Nh(a,_,c),_}}function qb(t){if(t<Ub)throw new Error("sqrt is not defined for small field");let e=t-Vt,n=0;for(;e%Ts===wn;)e/=Ts,n++;let r=Ts;const s=pi(t);for(;Fp(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Db;let i=s.pow(r,e);const o=(e+Vt)/Ts;return function(c,u){if(c.is0(u))return u;if(Fp(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,i),h=c.pow(u,e),m=c.pow(u,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let w=1,E=c.sqr(h);for(;!c.eql(E,c.ONE);)if(w++,E=c.sqr(E),w===f)throw new Error("Cannot find square root");const _=Vt<<BigInt(f-w-1),k=c.pow(d,_);f=w,d=c.sqr(k),h=c.mul(h,d),m=c.mul(m,k)}return m}}function s8(t){return t%Lb===Ub?Db:t%zb===Fb?n8:t%jb===t8?r8(t):qb(t)}const i8=(t,e)=>(It(t,e)&Vt)===Vt,o8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function a8(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=o8.reduce((r,s)=>(r[s]="function",r),e);return tc(t,n),t}function c8(t,e,n){if(n<wn)throw new Error("invalid exponent, negatives unsupported");if(n===wn)return t.ONE;if(n===Vt)return e;let r=t.ONE,s=e;for(;n>wn;)n&Vt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Vt;return r}function Vb(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function Fp(t,e){const n=(t.ORDER-Vt)/Ts,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Hb(t,e){e!==void 0&&so(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function pi(t,e,n=!1,r={}){if(t<=wn)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(s=h.BITS),h.sqrt&&(i=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:u}=Hb(t,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:u,MASK:ec(c),ZERO:wn,ONE:Vt,allowedLengths:a,create:h=>It(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return wn<=h&&h<t},is0:h=>h===wn,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&Vt)===Vt,neg:h=>It(-h,t),eql:(h,m)=>h===m,sqr:h=>It(h*h,t),add:(h,m)=>It(h+m,t),sub:(h,m)=>It(h-m,t),mul:(h,m)=>It(h*m,t),pow:(h,m)=>c8(d,h,m),div:(h,m)=>It(h*Lp(m,t),t),sqrN:h=>h*h,addN:(h,m)=>h+m,subN:(h,m)=>h-m,mulN:(h,m)=>h*m,inv:h=>Lp(h,t),sqrt:i||(h=>(f||(f=s8(t)),f(d,h))),toBytes:h=>n?$b(h,u):$h(h,u),fromBytes:(h,m=!0)=>{if(a){if(!a.includes(h.length)||h.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const E=new Uint8Array(u);E.set(h,n?0:E.length-h.length),h=E}if(h.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+h.length);let w=n?pa(h):ef(h);if(o&&(w=It(w,t)),!m&&!d.isValid(w))throw new Error("invalid field element: outside of range 0..ORDER");return w},invertBatch:h=>Vb(d,h),cmov:(h,m,w)=>w?m:h});return Object.freeze(d)}function Kb(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Gb(t){const e=Kb(t);return e+Math.ceil(e/2)}function u8(t,e,n=!1){const r=t.length,s=Kb(e),i=Gb(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?pa(t):ef(t),a=It(o,e-Vt)+Vt;return n?$b(a,s):$h(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mo=BigInt(0),Ps=BigInt(1);function iu(t,e){const n=e.negate();return t?n:e}function Os(t,e){const n=Vb(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function Zb(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function nl(t,e){Zb(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=ec(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function zp(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Ps);const u=e*r,f=u+Math.abs(a)-1,d=a===0,h=a<0,m=e%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:h,isNegF:m,offsetF:u}}function f8(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function l8(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const rl=new WeakMap,Wb=new WeakMap;function sl(t){return Wb.get(t)||1}function jp(t){if(t!==mo)throw new Error("invalid wNAF")}class Jb{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>mo;)n&Ps&&(r=r.add(s)),s=s.double(),n>>=Ps;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=nl(n,this.bits),i=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let u=1;u<s;u++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=nl(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:m}=zp(r,a,o);r=c,f?i=i.add(iu(h,n[m])):s=s.add(iu(d,n[u]))}return jp(r),{p:s,f:i}}wNAFUnsafe(e,n,r,s=this.ZERO){const i=nl(e,this.bits);for(let o=0;o<i.windows&&r!==mo;o++){const{nextN:a,offset:c,isZero:u,isNeg:f}=zp(r,o,i);if(r=a,!u){const d=n[c];s=s.add(f?d.negate():d)}}return jp(r),s}getPrecomputes(e,n,r){let s=rl.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),rl.set(n,s))),s}cached(e,n,r){const s=sl(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const i=sl(e);return i===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,s)}createCache(e,n){Zb(n,this.bits),Wb.set(e,n),rl.delete(e)}hasCache(e){return sl(e)!==1}}function d8(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>mo||r>mo;)n&Ps&&(i=i.add(s)),r&Ps&&(o=o.add(s)),s=s.double(),n>>=Ps,r>>=Ps;return{p1:i,p2:o}}function Yb(t,e,n,r){f8(n,t),l8(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Nb(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=ec(c),f=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let m=d;m>=0;m-=c){f.fill(o);for(let E=0;E<i;E++){const _=r[E],k=Number(_>>BigInt(m)&u);f[k]=f[k].add(n[E])}let w=o;for(let E=f.length-1,_=o;E>0;E--)_=_.add(f[E]),w=w.add(_);if(h=h.add(w),m!==0)for(let E=0;E<c;E++)h=h.double()}return h}function Dp(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return a8(e),e}else return pi(t,{isLE:n})}function Qb(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>mo))throw new Error(`CURVE.${c} must be positive bigint`)}const s=Dp(e.p,n.Fp,r),i=Dp(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qr=BigInt(0),Ot=BigInt(1),il=BigInt(2),h8=BigInt(8);function p8(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),o=t.add(t.mul(e.a,s),i),a=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(o,a)}function m8(t,e={}){const n=Qb("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o}=i;tc(e,{},{uvRatio:"function"});const a=il<<BigInt(s.BYTES*8)-Ot,c=_=>r.create(_),u=e.uvRatio||((_,k)=>{try{return{isValid:!0,value:r.sqrt(r.div(_,k))}}catch{return{isValid:!1,value:Qr}}});if(!p8(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function f(_,k,O=!1){const M=O?Ot:Qr;return gd("coordinate "+_,k,M,a),k}function d(_){if(!(_ instanceof w))throw new Error("ExtendedPoint expected")}const h=su((_,k)=>{const{X:O,Y:M,Z:U}=_,$=_.is0();k==null&&(k=$?h8:r.inv(U));const j=c(O*k),z=c(M*k),H=r.mul(U,k);if($)return{x:Qr,y:Ot};if(H!==Ot)throw new Error("invZ was invalid");return{x:j,y:z}}),m=su(_=>{const{a:k,d:O}=i;if(_.is0())throw new Error("bad point: ZERO");const{X:M,Y:U,Z:$,T:j}=_,z=c(M*M),H=c(U*U),R=c($*$),q=c(R*R),L=c(z*k),V=c(R*c(L+H)),x=c(q+c(O*c(z*H)));if(V!==x)throw new Error("bad point: equation left != right (1)");const l=c(M*U),p=c($*j);if(l!==p)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(k,O,M,U){this.X=f("x",k),this.Y=f("y",O),this.Z=f("z",M,!0),this.T=f("t",U),Object.freeze(this)}static CURVE(){return i}static fromAffine(k){if(k instanceof w)throw new Error("extended point not allowed");const{x:O,y:M}=k||{};return f("x",O),f("y",M),new w(O,M,Ot,c(O*M))}static fromBytes(k,O=!1){const M=r.BYTES,{a:U,d:$}=i;k=Up(Qn(k,M,"point")),ui(O,"zip215");const j=Up(k),z=k[M-1];j[M-1]=z&-129;const H=pa(j),R=O?a:r.ORDER;gd("point.y",H,Qr,R);const q=c(H*H),L=c(q-Ot),V=c($*q-U);let{isValid:x,value:l}=u(L,V);if(!x)throw new Error("bad point: invalid y coordinate");const p=(l&Ot)===Ot,v=(z&128)!==0;if(!O&&l===Qr&&v)throw new Error("bad point: x=0 and x_0=1");return v!==p&&(l=c(-l)),w.fromAffine({x:l,y:H})}static fromHex(k,O=!1){return w.fromBytes(st("point",k),O)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(k=8,O=!0){return E.createCache(this,k),O||this.multiply(il),this}assertValidity(){m(this)}equals(k){d(k);const{X:O,Y:M,Z:U}=this,{X:$,Y:j,Z:z}=k,H=c(O*z),R=c($*U),q=c(M*z),L=c(j*U);return H===R&&q===L}is0(){return this.equals(w.ZERO)}negate(){return new w(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:k}=i,{X:O,Y:M,Z:U}=this,$=c(O*O),j=c(M*M),z=c(il*c(U*U)),H=c(k*$),R=O+M,q=c(c(R*R)-$-j),L=H+j,V=L-z,x=H-j,l=c(q*V),p=c(L*x),v=c(q*x),I=c(V*L);return new w(l,p,I,v)}add(k){d(k);const{a:O,d:M}=i,{X:U,Y:$,Z:j,T:z}=this,{X:H,Y:R,Z:q,T:L}=k,V=c(U*H),x=c($*R),l=c(z*M*L),p=c(j*q),v=c((U+$)*(H+R)-V-x),I=p-l,S=p+l,C=c(x-O*V),N=c(v*I),A=c(S*C),g=c(v*C),T=c(I*S);return new w(N,A,T,g)}subtract(k){return this.add(k.negate())}multiply(k){if(!s.isValidNot0(k))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:O,f:M}=E.cached(this,k,U=>Os(w,U));return Os(w,[O,M])[0]}multiplyUnsafe(k,O=w.ZERO){if(!s.isValid(k))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return k===Qr?w.ZERO:this.is0()||k===Ot?this:E.unsafe(this,k,M=>Os(w,M),O)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return E.unsafe(this,i.n).is0()}toAffine(k){return h(this,k)}clearCofactor(){return o===Ot?this:this.multiplyUnsafe(o)}toBytes(){const{x:k,y:O}=this.toAffine(),M=r.toBytes(O);return M[M.length-1]|=k&Ot?128:0,M}toHex(){return qn(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(k){return Os(w,k)}static msm(k,O){return Yb(w,s,k,O)}_setWindowSize(k){this.precompute(k)}toRawBytes(){return this.toBytes()}}w.BASE=new w(i.Gx,i.Gy,Ot,c(i.Gx*i.Gy)),w.ZERO=new w(Qr,Ot,Ot,Qr),w.Fp=r,w.Fn=s;const E=new Jb(w,s.BITS);return w.BASE.precompute(8),w}function y8(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');tc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:o}=t,a=n.randomBytes||za,c=n.adjustScalarBytes||(R=>R),u=n.domain||((R,q,L)=>{if(ui(L,"phflag"),q.length||L)throw new Error("Contexts/pre-hash are not supported");return R});function f(R){return o.create(pa(R))}function d(R){const q=M.secretKey;R=st("private key",R,q);const L=st("hashed private key",e(R),2*q),V=c(L.slice(0,q)),x=L.slice(q,2*q),l=f(V);return{head:V,prefix:x,scalar:l}}function h(R){const{head:q,prefix:L,scalar:V}=d(R),x=s.multiply(V),l=x.toBytes();return{head:q,prefix:L,scalar:V,point:x,pointBytes:l}}function m(R){return h(R).pointBytes}function w(R=Uint8Array.of(),...q){const L=He(...q);return f(e(u(L,st("context",R),!!r)))}function E(R,q,L={}){R=st("message",R),r&&(R=r(R));const{prefix:V,scalar:x,pointBytes:l}=h(q),p=w(L.context,V,R),v=s.multiply(p).toBytes(),I=w(L.context,v,l,R),S=o.create(p+I*x);if(!o.isValid(S))throw new Error("sign failed: invalid s");const C=He(v,o.toBytes(S));return Qn(C,M.signature,"result")}const _={zip215:!0};function k(R,q,L,V=_){const{context:x,zip215:l}=V,p=M.signature;R=st("signature",R,p),q=st("message",q),L=st("publicKey",L,M.publicKey),l!==void 0&&ui(l,"zip215"),r&&(q=r(q));const v=p/2,I=R.subarray(0,v),S=pa(R.subarray(v,p));let C,N,A;try{C=t.fromBytes(L,l),N=t.fromBytes(I,l),A=s.multiplyUnsafe(S)}catch{return!1}if(!l&&C.isSmallOrder())return!1;const g=w(x,N.toBytes(),C.toBytes(),q);return N.add(C.multiplyUnsafe(g)).subtract(A).clearCofactor().is0()}const O=i.BYTES,M={secretKey:O,publicKey:O,signature:2*O,seed:O};function U(R=a(M.seed)){return Qn(R,M.seed,"seed")}function $(R){const q=H.randomSecretKey(R);return{secretKey:q,publicKey:m(q)}}function j(R){return As(R)&&R.length===o.BYTES}function z(R,q){try{return!!t.fromBytes(R,q)}catch{return!1}}const H={getExtendedPublicKey:h,randomSecretKey:U,isValidSecretKey:j,isValidPublicKey:z,toMontgomery(R){const{y:q}=t.fromBytes(R),L=M.publicKey,V=L===32;if(!V&&L!==57)throw new Error("only defined for 25519 and 448");const x=V?i.div(Ot+q,Ot-q):i.div(q-Ot,q+Ot);return i.toBytes(x)},toMontgomerySecret(R){const q=M.secretKey;Qn(R,q);const L=e(R.subarray(0,q));return c(L).subarray(0,q)},randomPrivateKey:U,precompute(R=8,q=t.BASE){return q.precompute(R,!1)}};return Object.freeze({keygen:$,getPublicKey:m,sign:E,verify:k,utils:H,Point:t,lengths:M})}function g8(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=pi(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:i}}function b8(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function w8(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=g8(t),i=m8(e,n),o=y8(i,r,s);return b8(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v8=BigInt(1),qp=BigInt(2);BigInt(3);const x8=BigInt(5),E8=BigInt(8),Uh=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Xb=(()=>({p:Uh,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:E8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function S8(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Uh,a=t*t%i*t%i,c=nt(a,qp,i)*a%i,u=nt(c,v8,i)*t%i,f=nt(u,x8,i)*u%i,d=nt(f,e,i)*f%i,h=nt(d,n,i)*d%i,m=nt(h,r,i)*h%i,w=nt(m,s,i)*m%i,E=nt(w,s,i)*m%i,_=nt(E,e,i)*f%i;return{pow_p_5_8:nt(_,qp,i)*t%i,b2:a}}function _8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Vp=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function A8(t,e){const n=Uh,r=It(e*e*e,n),s=It(r*r*e,n),i=S8(t*s).pow_p_5_8;let o=It(t*r*i,n);const a=It(e*o*o,n),c=o,u=It(o*Vp,n),f=a===t,d=a===It(-t,n),h=a===It(-t*Vp,n);return f&&(o=c),(d||h)&&(o=u),i8(o,n)&&(o=It(-o,n)),{isValid:f||d,value:o}}const I8=(()=>pi(Xb.p,{isLE:!0}))(),B8=(()=>({...Xb,Fp:I8,hash:Cv,adjustScalarBytes:_8,uvRatio:A8}))(),nc=(()=>w8(B8))();var Lh={exports:{}};const k8={},M8=Object.freeze(Object.defineProperty({__proto__:null,default:k8},Symbol.toStringTag,{value:"Module"})),R8=Bd(M8);Lh.exports;(function(t){(function(e,n){function r(x,l){if(!x)throw new Error(l||"Assertion failed")}function s(x,l){x.super_=l;var p=function(){};p.prototype=l.prototype,x.prototype=new p,x.prototype.constructor=x}function i(x,l,p){if(i.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((l==="le"||l==="be")&&(p=l,l=10),this._init(x||0,l||10,p||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=R8.Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,p){return l.cmp(p)>0?l:p},i.min=function(l,p){return l.cmp(p)<0?l:p},i.prototype._init=function(l,p,v){if(typeof l=="number")return this._initNumber(l,p,v);if(typeof l=="object")return this._initArray(l,p,v);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var I=0;l[0]==="-"&&(I++,this.negative=1),I<l.length&&(p===16?this._parseHex(l,I,v):(this._parseBase(l,p,I),v==="le"&&this._initArray(this.toArray(),p,v)))},i.prototype._initNumber=function(l,p,v){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),p,v)},i.prototype._initArray=function(l,p,v){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var S,C,N=0;if(v==="be")for(I=l.length-1,S=0;I>=0;I-=3)C=l[I]|l[I-1]<<8|l[I-2]<<16,this.words[S]|=C<<N&67108863,this.words[S+1]=C>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);else if(v==="le")for(I=0,S=0;I<l.length;I+=3)C=l[I]|l[I+1]<<8|l[I+2]<<16,this.words[S]|=C<<N&67108863,this.words[S+1]=C>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);return this._strip()};function a(x,l){var p=x.charCodeAt(l);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;r(!1,"Invalid character in "+x)}function c(x,l,p){var v=a(x,p);return p-1>=l&&(v|=a(x,p-1)<<4),v}i.prototype._parseHex=function(l,p,v){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var S=0,C=0,N;if(v==="be")for(I=l.length-1;I>=p;I-=2)N=c(l,p,I)<<S,this.words[C]|=N&67108863,S>=18?(S-=18,C+=1,this.words[C]|=N>>>26):S+=8;else{var A=l.length-p;for(I=A%2===0?p+1:p;I<l.length;I+=2)N=c(l,p,I)<<S,this.words[C]|=N&67108863,S>=18?(S-=18,C+=1,this.words[C]|=N>>>26):S+=8}this._strip()};function u(x,l,p,v){for(var I=0,S=0,C=Math.min(x.length,p),N=l;N<C;N++){var A=x.charCodeAt(N)-48;I*=v,A>=49?S=A-49+10:A>=17?S=A-17+10:S=A,r(A>=0&&S<v,"Invalid character"),I+=S}return I}i.prototype._parseBase=function(l,p,v){this.words=[0],this.length=1;for(var I=0,S=1;S<=67108863;S*=p)I++;I--,S=S/p|0;for(var C=l.length-v,N=C%I,A=Math.min(C,C-N)+v,g=0,T=v;T<A;T+=I)g=u(l,T,T+I,p),this.imuln(S),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(N!==0){var X=1;for(g=u(l,T,l.length,p),T=0;T<N;T++)X*=p;this.imuln(X),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},i.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red};function f(x,l){x.words=l.words,x.length=l.length,x.negative=l.negative,x.red=l.red}if(i.prototype._move=function(l){f(l,this)},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,p){l=l||10,p=p|0||1;var v;if(l===16||l==="hex"){v="";for(var I=0,S=0,C=0;C<this.length;C++){var N=this.words[C],A=((N<<I|S)&16777215).toString(16);S=N>>>24-I&16777215,I+=2,I>=26&&(I-=26,C--),S!==0||C!==this.length-1?v=h[6-A.length]+A+v:v=A+v}for(S!==0&&(v=S.toString(16)+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(l===(l|0)&&l>=2&&l<=36){var g=m[l],T=w[l];v="";var X=this.clone();for(X.negative=0;!X.isZero();){var J=X.modrn(T).toString(l);X=X.idivn(T),X.isZero()?v=J+v:v=h[g-J.length]+J+v}for(this.isZero()&&(v="0"+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(l,p){return this.toArrayLike(o,l,p)}),i.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)};var E=function(l,p){return l.allocUnsafe?l.allocUnsafe(p):new l(p)};i.prototype.toArrayLike=function(l,p,v){this._strip();var I=this.byteLength(),S=v||Math.max(1,I);r(I<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var C=E(l,S),N=p==="le"?"LE":"BE";return this["_toArrayLike"+N](C,I),C},i.prototype._toArrayLikeLE=function(l,p){for(var v=0,I=0,S=0,C=0;S<this.length;S++){var N=this.words[S]<<C|I;l[v++]=N&255,v<l.length&&(l[v++]=N>>8&255),v<l.length&&(l[v++]=N>>16&255),C===6?(v<l.length&&(l[v++]=N>>24&255),I=0,C=0):(I=N>>>24,C+=2)}if(v<l.length)for(l[v++]=I;v<l.length;)l[v++]=0},i.prototype._toArrayLikeBE=function(l,p){for(var v=l.length-1,I=0,S=0,C=0;S<this.length;S++){var N=this.words[S]<<C|I;l[v--]=N&255,v>=0&&(l[v--]=N>>8&255),v>=0&&(l[v--]=N>>16&255),C===6?(v>=0&&(l[v--]=N>>24&255),I=0,C=0):(I=N>>>24,C+=2)}if(v>=0)for(l[v--]=I;v>=0;)l[v--]=0},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var p=l,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},i.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,v=0;return p&8191||(v+=13,p>>>=13),p&127||(v+=7,p>>>=7),p&15||(v+=4,p>>>=4),p&3||(v+=2,p>>>=2),p&1||v++,v},i.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function _(x){for(var l=new Array(x.bitLength()),p=0;p<l.length;p++){var v=p/26|0,I=p%26;l[p]=x.words[v]>>>I&1}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(l+=v,v!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this._strip()},i.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&l.words[v];return this.length=p.length,this._strip()},i.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var p,v;this.length>l.length?(p=this,v=l):(p=l,v=this);for(var I=0;I<v.length;I++)this.words[I]=p.words[I]^v.words[I];if(this!==p)for(;I<p.length;I++)this.words[I]=p.words[I];return this.length=p.length,this._strip()},i.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,v=l%26;this._expand(p),v>0&&p--;for(var I=0;I<p;I++)this.words[I]=~this.words[I]&67108863;return v>0&&(this.words[I]=~this.words[I]&67108863>>26-v),this._strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,p){r(typeof l=="number"&&l>=0);var v=l/26|0,I=l%26;return this._expand(v+1),p?this.words[v]=this.words[v]|1<<I:this.words[v]=this.words[v]&~(1<<I),this._strip()},i.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var v,I;this.length>l.length?(v=this,I=l):(v=l,I=this);for(var S=0,C=0;C<I.length;C++)p=(v.words[C]|0)+(I.words[C]|0)+S,this.words[C]=p&67108863,S=p>>>26;for(;S!==0&&C<v.length;C++)p=(v.words[C]|0)+S,this.words[C]=p&67108863,S=p>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;C<v.length;C++)this.words[C]=v.words[C];return this},i.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var v=this.cmp(l);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,S;v>0?(I=this,S=l):(I=l,S=this);for(var C=0,N=0;N<S.length;N++)p=(I.words[N]|0)-(S.words[N]|0)+C,C=p>>26,this.words[N]=p&67108863;for(;C!==0&&N<I.length;N++)p=(I.words[N]|0)+C,C=p>>26,this.words[N]=p&67108863;if(C===0&&N<I.length&&I!==this)for(;N<I.length;N++)this.words[N]=I.words[N];return this.length=Math.max(this.length,N),I!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function k(x,l,p){p.negative=l.negative^x.negative;var v=x.length+l.length|0;p.length=v,v=v-1|0;var I=x.words[0]|0,S=l.words[0]|0,C=I*S,N=C&67108863,A=C/67108864|0;p.words[0]=N;for(var g=1;g<v;g++){for(var T=A>>>26,X=A&67108863,J=Math.min(g,l.length-1),te=Math.max(0,g-x.length+1);te<=J;te++){var ve=g-te|0;I=x.words[ve]|0,S=l.words[te]|0,C=I*S+X,T+=C/67108864|0,X=C&67108863}p.words[g]=X|0,A=T|0}return A!==0?p.words[g]=A|0:p.length--,p._strip()}var O=function(l,p,v){var I=l.words,S=p.words,C=v.words,N=0,A,g,T,X=I[0]|0,J=X&8191,te=X>>>13,ve=I[1]|0,he=ve&8191,de=ve>>>13,Le=I[2]|0,Te=Le&8191,Fe=Le>>>13,Un=I[3]|0,ze=Un&8191,Ye=Un>>>13,oc=I[4]|0,Ke=oc&8191,Qe=oc>>>13,ac=I[5]|0,Ze=ac&8191,De=ac>>>13,Sn=I[6]|0,Ge=Sn&8191,Xe=Sn>>>13,Zn=I[7]|0,et=Zn&8191,B=Zn>>>13,y=I[8]|0,b=y&8191,P=y>>>13,D=I[9]|0,K=D&8191,W=D>>>13,Ie=S[0]|0,Se=Ie&8191,xe=Ie>>>13,qe=S[1]|0,be=qe&8191,ut=qe>>>13,c0=S[2]|0,ft=c0&8191,lt=c0>>>13,u0=S[3]|0,dt=u0&8191,ht=u0>>>13,f0=S[4]|0,pt=f0&8191,mt=f0>>>13,l0=S[5]|0,yt=l0&8191,gt=l0>>>13,d0=S[6]|0,bt=d0&8191,wt=d0>>>13,h0=S[7]|0,vt=h0&8191,xt=h0>>>13,p0=S[8]|0,Et=p0&8191,St=p0>>>13,m0=S[9]|0,_t=m0&8191,At=m0>>>13;v.negative=l.negative^p.negative,v.length=19,A=Math.imul(J,Se),g=Math.imul(J,xe),g=g+Math.imul(te,Se)|0,T=Math.imul(te,xe);var df=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(df>>>26)|0,df&=67108863,A=Math.imul(he,Se),g=Math.imul(he,xe),g=g+Math.imul(de,Se)|0,T=Math.imul(de,xe),A=A+Math.imul(J,be)|0,g=g+Math.imul(J,ut)|0,g=g+Math.imul(te,be)|0,T=T+Math.imul(te,ut)|0;var hf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(hf>>>26)|0,hf&=67108863,A=Math.imul(Te,Se),g=Math.imul(Te,xe),g=g+Math.imul(Fe,Se)|0,T=Math.imul(Fe,xe),A=A+Math.imul(he,be)|0,g=g+Math.imul(he,ut)|0,g=g+Math.imul(de,be)|0,T=T+Math.imul(de,ut)|0,A=A+Math.imul(J,ft)|0,g=g+Math.imul(J,lt)|0,g=g+Math.imul(te,ft)|0,T=T+Math.imul(te,lt)|0;var pf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(pf>>>26)|0,pf&=67108863,A=Math.imul(ze,Se),g=Math.imul(ze,xe),g=g+Math.imul(Ye,Se)|0,T=Math.imul(Ye,xe),A=A+Math.imul(Te,be)|0,g=g+Math.imul(Te,ut)|0,g=g+Math.imul(Fe,be)|0,T=T+Math.imul(Fe,ut)|0,A=A+Math.imul(he,ft)|0,g=g+Math.imul(he,lt)|0,g=g+Math.imul(de,ft)|0,T=T+Math.imul(de,lt)|0,A=A+Math.imul(J,dt)|0,g=g+Math.imul(J,ht)|0,g=g+Math.imul(te,dt)|0,T=T+Math.imul(te,ht)|0;var mf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(mf>>>26)|0,mf&=67108863,A=Math.imul(Ke,Se),g=Math.imul(Ke,xe),g=g+Math.imul(Qe,Se)|0,T=Math.imul(Qe,xe),A=A+Math.imul(ze,be)|0,g=g+Math.imul(ze,ut)|0,g=g+Math.imul(Ye,be)|0,T=T+Math.imul(Ye,ut)|0,A=A+Math.imul(Te,ft)|0,g=g+Math.imul(Te,lt)|0,g=g+Math.imul(Fe,ft)|0,T=T+Math.imul(Fe,lt)|0,A=A+Math.imul(he,dt)|0,g=g+Math.imul(he,ht)|0,g=g+Math.imul(de,dt)|0,T=T+Math.imul(de,ht)|0,A=A+Math.imul(J,pt)|0,g=g+Math.imul(J,mt)|0,g=g+Math.imul(te,pt)|0,T=T+Math.imul(te,mt)|0;var yf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(yf>>>26)|0,yf&=67108863,A=Math.imul(Ze,Se),g=Math.imul(Ze,xe),g=g+Math.imul(De,Se)|0,T=Math.imul(De,xe),A=A+Math.imul(Ke,be)|0,g=g+Math.imul(Ke,ut)|0,g=g+Math.imul(Qe,be)|0,T=T+Math.imul(Qe,ut)|0,A=A+Math.imul(ze,ft)|0,g=g+Math.imul(ze,lt)|0,g=g+Math.imul(Ye,ft)|0,T=T+Math.imul(Ye,lt)|0,A=A+Math.imul(Te,dt)|0,g=g+Math.imul(Te,ht)|0,g=g+Math.imul(Fe,dt)|0,T=T+Math.imul(Fe,ht)|0,A=A+Math.imul(he,pt)|0,g=g+Math.imul(he,mt)|0,g=g+Math.imul(de,pt)|0,T=T+Math.imul(de,mt)|0,A=A+Math.imul(J,yt)|0,g=g+Math.imul(J,gt)|0,g=g+Math.imul(te,yt)|0,T=T+Math.imul(te,gt)|0;var gf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(gf>>>26)|0,gf&=67108863,A=Math.imul(Ge,Se),g=Math.imul(Ge,xe),g=g+Math.imul(Xe,Se)|0,T=Math.imul(Xe,xe),A=A+Math.imul(Ze,be)|0,g=g+Math.imul(Ze,ut)|0,g=g+Math.imul(De,be)|0,T=T+Math.imul(De,ut)|0,A=A+Math.imul(Ke,ft)|0,g=g+Math.imul(Ke,lt)|0,g=g+Math.imul(Qe,ft)|0,T=T+Math.imul(Qe,lt)|0,A=A+Math.imul(ze,dt)|0,g=g+Math.imul(ze,ht)|0,g=g+Math.imul(Ye,dt)|0,T=T+Math.imul(Ye,ht)|0,A=A+Math.imul(Te,pt)|0,g=g+Math.imul(Te,mt)|0,g=g+Math.imul(Fe,pt)|0,T=T+Math.imul(Fe,mt)|0,A=A+Math.imul(he,yt)|0,g=g+Math.imul(he,gt)|0,g=g+Math.imul(de,yt)|0,T=T+Math.imul(de,gt)|0,A=A+Math.imul(J,bt)|0,g=g+Math.imul(J,wt)|0,g=g+Math.imul(te,bt)|0,T=T+Math.imul(te,wt)|0;var bf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(bf>>>26)|0,bf&=67108863,A=Math.imul(et,Se),g=Math.imul(et,xe),g=g+Math.imul(B,Se)|0,T=Math.imul(B,xe),A=A+Math.imul(Ge,be)|0,g=g+Math.imul(Ge,ut)|0,g=g+Math.imul(Xe,be)|0,T=T+Math.imul(Xe,ut)|0,A=A+Math.imul(Ze,ft)|0,g=g+Math.imul(Ze,lt)|0,g=g+Math.imul(De,ft)|0,T=T+Math.imul(De,lt)|0,A=A+Math.imul(Ke,dt)|0,g=g+Math.imul(Ke,ht)|0,g=g+Math.imul(Qe,dt)|0,T=T+Math.imul(Qe,ht)|0,A=A+Math.imul(ze,pt)|0,g=g+Math.imul(ze,mt)|0,g=g+Math.imul(Ye,pt)|0,T=T+Math.imul(Ye,mt)|0,A=A+Math.imul(Te,yt)|0,g=g+Math.imul(Te,gt)|0,g=g+Math.imul(Fe,yt)|0,T=T+Math.imul(Fe,gt)|0,A=A+Math.imul(he,bt)|0,g=g+Math.imul(he,wt)|0,g=g+Math.imul(de,bt)|0,T=T+Math.imul(de,wt)|0,A=A+Math.imul(J,vt)|0,g=g+Math.imul(J,xt)|0,g=g+Math.imul(te,vt)|0,T=T+Math.imul(te,xt)|0;var wf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(wf>>>26)|0,wf&=67108863,A=Math.imul(b,Se),g=Math.imul(b,xe),g=g+Math.imul(P,Se)|0,T=Math.imul(P,xe),A=A+Math.imul(et,be)|0,g=g+Math.imul(et,ut)|0,g=g+Math.imul(B,be)|0,T=T+Math.imul(B,ut)|0,A=A+Math.imul(Ge,ft)|0,g=g+Math.imul(Ge,lt)|0,g=g+Math.imul(Xe,ft)|0,T=T+Math.imul(Xe,lt)|0,A=A+Math.imul(Ze,dt)|0,g=g+Math.imul(Ze,ht)|0,g=g+Math.imul(De,dt)|0,T=T+Math.imul(De,ht)|0,A=A+Math.imul(Ke,pt)|0,g=g+Math.imul(Ke,mt)|0,g=g+Math.imul(Qe,pt)|0,T=T+Math.imul(Qe,mt)|0,A=A+Math.imul(ze,yt)|0,g=g+Math.imul(ze,gt)|0,g=g+Math.imul(Ye,yt)|0,T=T+Math.imul(Ye,gt)|0,A=A+Math.imul(Te,bt)|0,g=g+Math.imul(Te,wt)|0,g=g+Math.imul(Fe,bt)|0,T=T+Math.imul(Fe,wt)|0,A=A+Math.imul(he,vt)|0,g=g+Math.imul(he,xt)|0,g=g+Math.imul(de,vt)|0,T=T+Math.imul(de,xt)|0,A=A+Math.imul(J,Et)|0,g=g+Math.imul(J,St)|0,g=g+Math.imul(te,Et)|0,T=T+Math.imul(te,St)|0;var vf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(vf>>>26)|0,vf&=67108863,A=Math.imul(K,Se),g=Math.imul(K,xe),g=g+Math.imul(W,Se)|0,T=Math.imul(W,xe),A=A+Math.imul(b,be)|0,g=g+Math.imul(b,ut)|0,g=g+Math.imul(P,be)|0,T=T+Math.imul(P,ut)|0,A=A+Math.imul(et,ft)|0,g=g+Math.imul(et,lt)|0,g=g+Math.imul(B,ft)|0,T=T+Math.imul(B,lt)|0,A=A+Math.imul(Ge,dt)|0,g=g+Math.imul(Ge,ht)|0,g=g+Math.imul(Xe,dt)|0,T=T+Math.imul(Xe,ht)|0,A=A+Math.imul(Ze,pt)|0,g=g+Math.imul(Ze,mt)|0,g=g+Math.imul(De,pt)|0,T=T+Math.imul(De,mt)|0,A=A+Math.imul(Ke,yt)|0,g=g+Math.imul(Ke,gt)|0,g=g+Math.imul(Qe,yt)|0,T=T+Math.imul(Qe,gt)|0,A=A+Math.imul(ze,bt)|0,g=g+Math.imul(ze,wt)|0,g=g+Math.imul(Ye,bt)|0,T=T+Math.imul(Ye,wt)|0,A=A+Math.imul(Te,vt)|0,g=g+Math.imul(Te,xt)|0,g=g+Math.imul(Fe,vt)|0,T=T+Math.imul(Fe,xt)|0,A=A+Math.imul(he,Et)|0,g=g+Math.imul(he,St)|0,g=g+Math.imul(de,Et)|0,T=T+Math.imul(de,St)|0,A=A+Math.imul(J,_t)|0,g=g+Math.imul(J,At)|0,g=g+Math.imul(te,_t)|0,T=T+Math.imul(te,At)|0;var xf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(xf>>>26)|0,xf&=67108863,A=Math.imul(K,be),g=Math.imul(K,ut),g=g+Math.imul(W,be)|0,T=Math.imul(W,ut),A=A+Math.imul(b,ft)|0,g=g+Math.imul(b,lt)|0,g=g+Math.imul(P,ft)|0,T=T+Math.imul(P,lt)|0,A=A+Math.imul(et,dt)|0,g=g+Math.imul(et,ht)|0,g=g+Math.imul(B,dt)|0,T=T+Math.imul(B,ht)|0,A=A+Math.imul(Ge,pt)|0,g=g+Math.imul(Ge,mt)|0,g=g+Math.imul(Xe,pt)|0,T=T+Math.imul(Xe,mt)|0,A=A+Math.imul(Ze,yt)|0,g=g+Math.imul(Ze,gt)|0,g=g+Math.imul(De,yt)|0,T=T+Math.imul(De,gt)|0,A=A+Math.imul(Ke,bt)|0,g=g+Math.imul(Ke,wt)|0,g=g+Math.imul(Qe,bt)|0,T=T+Math.imul(Qe,wt)|0,A=A+Math.imul(ze,vt)|0,g=g+Math.imul(ze,xt)|0,g=g+Math.imul(Ye,vt)|0,T=T+Math.imul(Ye,xt)|0,A=A+Math.imul(Te,Et)|0,g=g+Math.imul(Te,St)|0,g=g+Math.imul(Fe,Et)|0,T=T+Math.imul(Fe,St)|0,A=A+Math.imul(he,_t)|0,g=g+Math.imul(he,At)|0,g=g+Math.imul(de,_t)|0,T=T+Math.imul(de,At)|0;var Ef=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(Ef>>>26)|0,Ef&=67108863,A=Math.imul(K,ft),g=Math.imul(K,lt),g=g+Math.imul(W,ft)|0,T=Math.imul(W,lt),A=A+Math.imul(b,dt)|0,g=g+Math.imul(b,ht)|0,g=g+Math.imul(P,dt)|0,T=T+Math.imul(P,ht)|0,A=A+Math.imul(et,pt)|0,g=g+Math.imul(et,mt)|0,g=g+Math.imul(B,pt)|0,T=T+Math.imul(B,mt)|0,A=A+Math.imul(Ge,yt)|0,g=g+Math.imul(Ge,gt)|0,g=g+Math.imul(Xe,yt)|0,T=T+Math.imul(Xe,gt)|0,A=A+Math.imul(Ze,bt)|0,g=g+Math.imul(Ze,wt)|0,g=g+Math.imul(De,bt)|0,T=T+Math.imul(De,wt)|0,A=A+Math.imul(Ke,vt)|0,g=g+Math.imul(Ke,xt)|0,g=g+Math.imul(Qe,vt)|0,T=T+Math.imul(Qe,xt)|0,A=A+Math.imul(ze,Et)|0,g=g+Math.imul(ze,St)|0,g=g+Math.imul(Ye,Et)|0,T=T+Math.imul(Ye,St)|0,A=A+Math.imul(Te,_t)|0,g=g+Math.imul(Te,At)|0,g=g+Math.imul(Fe,_t)|0,T=T+Math.imul(Fe,At)|0;var Sf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(Sf>>>26)|0,Sf&=67108863,A=Math.imul(K,dt),g=Math.imul(K,ht),g=g+Math.imul(W,dt)|0,T=Math.imul(W,ht),A=A+Math.imul(b,pt)|0,g=g+Math.imul(b,mt)|0,g=g+Math.imul(P,pt)|0,T=T+Math.imul(P,mt)|0,A=A+Math.imul(et,yt)|0,g=g+Math.imul(et,gt)|0,g=g+Math.imul(B,yt)|0,T=T+Math.imul(B,gt)|0,A=A+Math.imul(Ge,bt)|0,g=g+Math.imul(Ge,wt)|0,g=g+Math.imul(Xe,bt)|0,T=T+Math.imul(Xe,wt)|0,A=A+Math.imul(Ze,vt)|0,g=g+Math.imul(Ze,xt)|0,g=g+Math.imul(De,vt)|0,T=T+Math.imul(De,xt)|0,A=A+Math.imul(Ke,Et)|0,g=g+Math.imul(Ke,St)|0,g=g+Math.imul(Qe,Et)|0,T=T+Math.imul(Qe,St)|0,A=A+Math.imul(ze,_t)|0,g=g+Math.imul(ze,At)|0,g=g+Math.imul(Ye,_t)|0,T=T+Math.imul(Ye,At)|0;var _f=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(_f>>>26)|0,_f&=67108863,A=Math.imul(K,pt),g=Math.imul(K,mt),g=g+Math.imul(W,pt)|0,T=Math.imul(W,mt),A=A+Math.imul(b,yt)|0,g=g+Math.imul(b,gt)|0,g=g+Math.imul(P,yt)|0,T=T+Math.imul(P,gt)|0,A=A+Math.imul(et,bt)|0,g=g+Math.imul(et,wt)|0,g=g+Math.imul(B,bt)|0,T=T+Math.imul(B,wt)|0,A=A+Math.imul(Ge,vt)|0,g=g+Math.imul(Ge,xt)|0,g=g+Math.imul(Xe,vt)|0,T=T+Math.imul(Xe,xt)|0,A=A+Math.imul(Ze,Et)|0,g=g+Math.imul(Ze,St)|0,g=g+Math.imul(De,Et)|0,T=T+Math.imul(De,St)|0,A=A+Math.imul(Ke,_t)|0,g=g+Math.imul(Ke,At)|0,g=g+Math.imul(Qe,_t)|0,T=T+Math.imul(Qe,At)|0;var Af=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(Af>>>26)|0,Af&=67108863,A=Math.imul(K,yt),g=Math.imul(K,gt),g=g+Math.imul(W,yt)|0,T=Math.imul(W,gt),A=A+Math.imul(b,bt)|0,g=g+Math.imul(b,wt)|0,g=g+Math.imul(P,bt)|0,T=T+Math.imul(P,wt)|0,A=A+Math.imul(et,vt)|0,g=g+Math.imul(et,xt)|0,g=g+Math.imul(B,vt)|0,T=T+Math.imul(B,xt)|0,A=A+Math.imul(Ge,Et)|0,g=g+Math.imul(Ge,St)|0,g=g+Math.imul(Xe,Et)|0,T=T+Math.imul(Xe,St)|0,A=A+Math.imul(Ze,_t)|0,g=g+Math.imul(Ze,At)|0,g=g+Math.imul(De,_t)|0,T=T+Math.imul(De,At)|0;var If=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(If>>>26)|0,If&=67108863,A=Math.imul(K,bt),g=Math.imul(K,wt),g=g+Math.imul(W,bt)|0,T=Math.imul(W,wt),A=A+Math.imul(b,vt)|0,g=g+Math.imul(b,xt)|0,g=g+Math.imul(P,vt)|0,T=T+Math.imul(P,xt)|0,A=A+Math.imul(et,Et)|0,g=g+Math.imul(et,St)|0,g=g+Math.imul(B,Et)|0,T=T+Math.imul(B,St)|0,A=A+Math.imul(Ge,_t)|0,g=g+Math.imul(Ge,At)|0,g=g+Math.imul(Xe,_t)|0,T=T+Math.imul(Xe,At)|0;var Bf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(Bf>>>26)|0,Bf&=67108863,A=Math.imul(K,vt),g=Math.imul(K,xt),g=g+Math.imul(W,vt)|0,T=Math.imul(W,xt),A=A+Math.imul(b,Et)|0,g=g+Math.imul(b,St)|0,g=g+Math.imul(P,Et)|0,T=T+Math.imul(P,St)|0,A=A+Math.imul(et,_t)|0,g=g+Math.imul(et,At)|0,g=g+Math.imul(B,_t)|0,T=T+Math.imul(B,At)|0;var kf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(kf>>>26)|0,kf&=67108863,A=Math.imul(K,Et),g=Math.imul(K,St),g=g+Math.imul(W,Et)|0,T=Math.imul(W,St),A=A+Math.imul(b,_t)|0,g=g+Math.imul(b,At)|0,g=g+Math.imul(P,_t)|0,T=T+Math.imul(P,At)|0;var Mf=(N+A|0)+((g&8191)<<13)|0;N=(T+(g>>>13)|0)+(Mf>>>26)|0,Mf&=67108863,A=Math.imul(K,_t),g=Math.imul(K,At),g=g+Math.imul(W,_t)|0,T=Math.imul(W,At);var Rf=(N+A|0)+((g&8191)<<13)|0;return N=(T+(g>>>13)|0)+(Rf>>>26)|0,Rf&=67108863,C[0]=df,C[1]=hf,C[2]=pf,C[3]=mf,C[4]=yf,C[5]=gf,C[6]=bf,C[7]=wf,C[8]=vf,C[9]=xf,C[10]=Ef,C[11]=Sf,C[12]=_f,C[13]=Af,C[14]=If,C[15]=Bf,C[16]=kf,C[17]=Mf,C[18]=Rf,N!==0&&(C[19]=N,v.length++),v};Math.imul||(O=k);function M(x,l,p){p.negative=l.negative^x.negative,p.length=x.length+l.length;for(var v=0,I=0,S=0;S<p.length-1;S++){var C=I;I=0;for(var N=v&67108863,A=Math.min(S,l.length-1),g=Math.max(0,S-x.length+1);g<=A;g++){var T=S-g,X=x.words[T]|0,J=l.words[g]|0,te=X*J,ve=te&67108863;C=C+(te/67108864|0)|0,ve=ve+N|0,N=ve&67108863,C=C+(ve>>>26)|0,I+=C>>>26,C&=67108863}p.words[S]=N,v=C,C=I}return v!==0?p.words[S]=v:p.length--,p._strip()}function U(x,l,p){return M(x,l,p)}i.prototype.mulTo=function(l,p){var v,I=this.length+l.length;return this.length===10&&l.length===10?v=O(this,l,p):I<63?v=k(this,l,p):I<1024?v=M(this,l,p):v=U(this,l,p),v},i.prototype.mul=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},i.prototype.mulf=function(l){var p=new i(null);return p.words=new Array(this.length+l.length),U(this,l,p)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){var p=l<0;p&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var v=0,I=0;I<this.length;I++){var S=(this.words[I]|0)*l,C=(S&67108863)+(v&67108863);v>>=26,v+=S/67108864|0,v+=C>>>26,this.words[I]=C&67108863}return v!==0&&(this.words[I]=v,this.length++),this.length=l===0?1:this.length,p?this.ineg():this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var p=_(l);if(p.length===0)return new i(1);for(var v=this,I=0;I<p.length&&p[I]===0;I++,v=v.sqr());if(++I<p.length)for(var S=v.sqr();I<p.length;I++,S=S.sqr())p[I]!==0&&(v=v.mul(S));return v},i.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var p=l%26,v=(l-p)/26,I=67108863>>>26-p<<26-p,S;if(p!==0){var C=0;for(S=0;S<this.length;S++){var N=this.words[S]&I,A=(this.words[S]|0)-N<<p;this.words[S]=A|C,C=N>>>26-p}C&&(this.words[S]=C,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this._strip()},i.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,p,v){r(typeof l=="number"&&l>=0);var I;p?I=(p-p%26)/26:I=0;var S=l%26,C=Math.min((l-S)/26,this.length),N=67108863^67108863>>>S<<S,A=v;if(I-=C,I=Math.max(0,I),A){for(var g=0;g<C;g++)A.words[g]=this.words[g];A.length=C}if(C!==0)if(this.length>C)for(this.length-=C,g=0;g<this.length;g++)this.words[g]=this.words[g+C];else this.words[0]=0,this.length=1;var T=0;for(g=this.length-1;g>=0&&(T!==0||g>=I);g--){var X=this.words[g]|0;this.words[g]=T<<26-S|X>>>S,T=X&N}return A&&T!==0&&(A.words[A.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(l,p,v){return r(this.negative===0),this.iushrn(l,p,v)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var p=l%26,v=(l-p)/26,I=1<<p;if(this.length<=v)return!1;var S=this.words[v];return!!(S&I)},i.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var p=l%26,v=(l-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(p!==0&&v++,this.length=Math.min(v,this.length),p!==0){var I=67108863^67108863>>>p<<p;this.words[this.length-1]&=I}return this._strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,p,v){var I=l.length+v,S;this._expand(I);var C,N=0;for(S=0;S<l.length;S++){C=(this.words[S+v]|0)+N;var A=(l.words[S]|0)*p;C-=A&67108863,N=(C>>26)-(A/67108864|0),this.words[S+v]=C&67108863}for(;S<this.length-v;S++)C=(this.words[S+v]|0)+N,N=C>>26,this.words[S+v]=C&67108863;if(N===0)return this._strip();for(r(N===-1),N=0,S=0;S<this.length;S++)C=-(this.words[S]|0)+N,N=C>>26,this.words[S]=C&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(l,p){var v=this.length-l.length,I=this.clone(),S=l,C=S.words[S.length-1]|0,N=this._countBits(C);v=26-N,v!==0&&(S=S.ushln(v),I.iushln(v),C=S.words[S.length-1]|0);var A=I.length-S.length,g;if(p!=="mod"){g=new i(null),g.length=A+1,g.words=new Array(g.length);for(var T=0;T<g.length;T++)g.words[T]=0}var X=I.clone()._ishlnsubmul(S,1,A);X.negative===0&&(I=X,g&&(g.words[A]=1));for(var J=A-1;J>=0;J--){var te=(I.words[S.length+J]|0)*67108864+(I.words[S.length+J-1]|0);for(te=Math.min(te/C|0,67108863),I._ishlnsubmul(S,te,J);I.negative!==0;)te--,I.negative=0,I._ishlnsubmul(S,1,J),I.isZero()||(I.negative^=1);g&&(g.words[J]=te)}return g&&g._strip(),I._strip(),p!=="div"&&v!==0&&I.iushrn(v),{div:g||null,mod:I}},i.prototype.divmod=function(l,p,v){if(r(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var I,S,C;return this.negative!==0&&l.negative===0?(C=this.neg().divmod(l,p),p!=="mod"&&(I=C.div.neg()),p!=="div"&&(S=C.mod.neg(),v&&S.negative!==0&&S.iadd(l)),{div:I,mod:S}):this.negative===0&&l.negative!==0?(C=this.divmod(l.neg(),p),p!=="mod"&&(I=C.div.neg()),{div:I,mod:C.mod}):this.negative&l.negative?(C=this.neg().divmod(l.neg(),p),p!=="div"&&(S=C.mod.neg(),v&&S.negative!==0&&S.isub(l)),{div:C.div,mod:S}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modrn(l.words[0]))}:this._wordDiv(l,p)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var v=p.div.negative!==0?p.mod.isub(l):p.mod,I=l.ushrn(1),S=l.andln(1),C=v.cmp(I);return C<0||S===1&&C===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(l){var p=l<0;p&&(l=-l),r(l<=67108863);for(var v=(1<<26)%l,I=0,S=this.length-1;S>=0;S--)I=(v*I+(this.words[S]|0))%l;return p?-I:I},i.prototype.modn=function(l){return this.modrn(l)},i.prototype.idivn=function(l){var p=l<0;p&&(l=-l),r(l<=67108863);for(var v=0,I=this.length-1;I>=0;I--){var S=(this.words[I]|0)+v*67108864;this.words[I]=S/l|0,v=S%l}return this._strip(),p?this.ineg():this},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var p=this,v=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var I=new i(1),S=new i(0),C=new i(0),N=new i(1),A=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++A;for(var g=v.clone(),T=p.clone();!p.isZero();){for(var X=0,J=1;!(p.words[0]&J)&&X<26;++X,J<<=1);if(X>0)for(p.iushrn(X);X-- >0;)(I.isOdd()||S.isOdd())&&(I.iadd(g),S.isub(T)),I.iushrn(1),S.iushrn(1);for(var te=0,ve=1;!(v.words[0]&ve)&&te<26;++te,ve<<=1);if(te>0)for(v.iushrn(te);te-- >0;)(C.isOdd()||N.isOdd())&&(C.iadd(g),N.isub(T)),C.iushrn(1),N.iushrn(1);p.cmp(v)>=0?(p.isub(v),I.isub(C),S.isub(N)):(v.isub(p),C.isub(I),N.isub(S))}return{a:C,b:N,gcd:v.iushln(A)}},i.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var p=this,v=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var I=new i(1),S=new i(0),C=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var N=0,A=1;!(p.words[0]&A)&&N<26;++N,A<<=1);if(N>0)for(p.iushrn(N);N-- >0;)I.isOdd()&&I.iadd(C),I.iushrn(1);for(var g=0,T=1;!(v.words[0]&T)&&g<26;++g,T<<=1);if(g>0)for(v.iushrn(g);g-- >0;)S.isOdd()&&S.iadd(C),S.iushrn(1);p.cmp(v)>=0?(p.isub(v),I.isub(S)):(v.isub(p),S.isub(I))}var X;return p.cmpn(1)===0?X=I:X=S,X.cmpn(0)<0&&X.iadd(l),X},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),v=l.clone();p.negative=0,v.negative=0;for(var I=0;p.isEven()&&v.isEven();I++)p.iushrn(1),v.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=p.cmp(v);if(S<0){var C=p;p=v,v=C}else if(S===0||v.cmpn(1)===0)break;p.isub(v)}while(!0);return v.iushln(I)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){r(typeof l=="number");var p=l%26,v=(l-p)/26,I=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=I,this;for(var S=I,C=v;S!==0&&C<this.length;C++){var N=this.words[C]|0;N+=S,S=N>>>26,N&=67108863,this.words[C]=N}return S!==0&&(this.words[C]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var v;if(this.length>1)v=1;else{p&&(l=-l),r(l<=67108863,"Number is too big");var I=this.words[0]|0;v=I===l?0:I<l?-1:1}return this.negative!==0?-v|0:v},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var I=this.words[v]|0,S=l.words[v]|0;if(I!==S){I<S?p=-1:I>S&&(p=1);break}}return p},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new L(l)},i.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var $={k256:null,p224:null,p192:null,p25519:null};function j(x,l){this.name=x,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},j.prototype.ireduce=function(l){var p=l,v;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),v=p.bitLength();while(v>this.n);var I=v<this.n?-1:p.ucmp(this.p);return I===0?(p.words[0]=0,p.length=1):I>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},j.prototype.split=function(l,p){l.iushrn(this.n,0,p)},j.prototype.imulK=function(l){return l.imul(this.k)};function z(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,j),z.prototype.split=function(l,p){for(var v=4194303,I=Math.min(l.length,9),S=0;S<I;S++)p.words[S]=l.words[S];if(p.length=I,l.length<=9){l.words[0]=0,l.length=1;return}var C=l.words[9];for(p.words[p.length++]=C&v,S=10;S<l.length;S++){var N=l.words[S]|0;l.words[S-10]=(N&v)<<4|C>>>22,C=N}C>>>=22,l.words[S-10]=C,C===0&&l.length>10?l.length-=10:l.length-=9},z.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,v=0;v<l.length;v++){var I=l.words[v]|0;p+=I*977,l.words[v]=p&67108863,p=I*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function H(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,j);function R(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(R,j);function q(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,j),q.prototype.imulK=function(l){for(var p=0,v=0;v<l.length;v++){var I=(l.words[v]|0)*19+p,S=I&67108863;I>>>=26,l.words[v]=S,p=I}return p!==0&&(l.words[l.length++]=p),l},i._prime=function(l){if($[l])return $[l];var p;if(l==="k256")p=new z;else if(l==="p224")p=new H;else if(l==="p192")p=new R;else if(l==="p25519")p=new q;else throw new Error("Unknown prime "+l);return $[l]=p,p};function L(x){if(typeof x=="string"){var l=i._prime(x);this.m=l.p,this.prime=l}else r(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}L.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},L.prototype._verify2=function(l,p){r((l.negative|p.negative)===0,"red works only with positives"),r(l.red&&l.red===p.red,"red works only with red numbers")},L.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(f(l,l.umod(this.m)._forceRed(this)),l)},L.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},L.prototype.add=function(l,p){this._verify2(l,p);var v=l.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},L.prototype.iadd=function(l,p){this._verify2(l,p);var v=l.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},L.prototype.sub=function(l,p){this._verify2(l,p);var v=l.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},L.prototype.isub=function(l,p){this._verify2(l,p);var v=l.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},L.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},L.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},L.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},L.prototype.isqr=function(l){return this.imul(l,l.clone())},L.prototype.sqr=function(l){return this.mul(l,l)},L.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var v=this.m.add(new i(1)).iushrn(2);return this.pow(l,v)}for(var I=this.m.subn(1),S=0;!I.isZero()&&I.andln(1)===0;)S++,I.iushrn(1);r(!I.isZero());var C=new i(1).toRed(this),N=C.redNeg(),A=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new i(2*g*g).toRed(this);this.pow(g,A).cmp(N)!==0;)g.redIAdd(N);for(var T=this.pow(g,I),X=this.pow(l,I.addn(1).iushrn(1)),J=this.pow(l,I),te=S;J.cmp(C)!==0;){for(var ve=J,he=0;ve.cmp(C)!==0;he++)ve=ve.redSqr();r(he<te);var de=this.pow(T,new i(1).iushln(te-he-1));X=X.redMul(de),T=de.redSqr(),J=J.redMul(T),te=he}return X},L.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},L.prototype.pow=function(l,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var v=4,I=new Array(1<<v);I[0]=new i(1).toRed(this),I[1]=l;for(var S=2;S<I.length;S++)I[S]=this.mul(I[S-1],l);var C=I[0],N=0,A=0,g=p.bitLength()%26;for(g===0&&(g=26),S=p.length-1;S>=0;S--){for(var T=p.words[S],X=g-1;X>=0;X--){var J=T>>X&1;if(C!==I[0]&&(C=this.sqr(C)),J===0&&N===0){A=0;continue}N<<=1,N|=J,A++,!(A!==v&&(S!==0||X!==0))&&(C=this.mul(C,I[N]),A=0,N=0)}g=26}return C},L.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},L.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},i.mont=function(l){return new V(l)};function V(x){L.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(V,L),V.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},V.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},V.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var v=l.imul(p),I=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(I).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},V.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new i(0)._forceRed(this);var v=l.mul(p),I=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(I).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},V.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,tr)})(Lh);var e1=Lh.exports;const Hp=Id(e1);var bd={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ke,r=n.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,c){return r(o,a,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(bd,bd.exports);var C8=bd.exports,xc=C8.Buffer;function T8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=xc.from(m)),!xc.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var w=0,E=0,_=0,k=m.length;_!==k&&m[_]===0;)_++,w++;for(var O=(k-_)*u+1>>>0,M=new Uint8Array(O);_!==k;){for(var U=m[_],$=0,j=O-1;(U!==0||$<E)&&j!==-1;j--,$++)U+=256*M[j]>>>0,M[j]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");E=$,_++}for(var z=O-E;z!==O&&M[z]===0;)z++;for(var H=a.repeat(w);z<O;++z)H+=t.charAt(M[z]);return H}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return xc.alloc(0);for(var w=0,E=0,_=0;m[w]===a;)E++,w++;for(var k=(m.length-w)*c+1>>>0,O=new Uint8Array(k);w<m.length;){var M=m.charCodeAt(w);if(M>255)return;var U=e[M];if(U===255)return;for(var $=0,j=k-1;(U!==0||$<_)&&j!==-1;j--,$++)U+=o*O[j]>>>0,O[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");_=$,w++}for(var z=k-_;z!==k&&O[z]===0;)z++;var H=xc.allocUnsafe(E+(k-z));H.fill(0,0,E);for(var R=E;z!==k;)H[R++]=O[z++];return H}function h(m){var w=d(m);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:d,decode:h}}var P8=T8,O8=P8,$8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t1=O8($8);const cn=Id(t1);var zt={};function Pr(t,e,n){return e<=t&&t<=n}function tf(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function N8(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function U8(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var ou=-1;function Fh(t){this.tokens=[].slice.call(t)}Fh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ou},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var yo=-1;function ol(t,e){if(t)throw TypeError("Decoder error");return e||65533}var au="utf-8";function cu(t,e){if(!(this instanceof cu))return new cu(t,e);if(t=t!==void 0?String(t).toLowerCase():au,t!==au)throw new Error("Encoding not supported. Only utf-8 is supported");e=tf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}cu.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=tf(n),this._streaming||(this._decoder=new L8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Fh(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==yo);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===yo)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),U8(i)}};function uu(t,e){if(!(this instanceof uu))return new uu(t,e);if(t=t!==void 0?String(t).toLowerCase():au,t!==au)throw new Error("Encoding not supported. Only utf-8 is supported");e=tf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}uu.prototype={encode:function(e,n){e=e?String(e):"",n=tf(n),this._streaming||(this._encoder=new F8(this._options)),this._streaming=!!n.stream;for(var r=[],s=new Fh(N8(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==yo);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==yo;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function L8(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===ou&&s!==0)return s=0,ol(e);if(c===ou)return yo;if(s===0){if(Pr(c,0,127))return c;if(Pr(c,194,223))s=1,n=c-192;else if(Pr(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,n=c-224;else if(Pr(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,n=c-240;else return ol(e);return n=n<<6*s,null}if(!Pr(c,i,o))return n=s=r=0,i=128,o=191,a.prepend(c),ol(e);if(i=128,o=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var u=n;return n=s=r=0,u}}function F8(t){t.fatal,this.handler=function(e,n){if(n===ou)return yo;if(Pr(n,0,127))return n;var r,s;Pr(n,128,2047)?(r=1,s=192):Pr(n,2048,65535)?(r=2,s=224):Pr(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const z8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:cu,TextEncoder:uu},Symbol.toStringTag,{value:"Module"})),j8=Bd(z8);var D8=tr&&tr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),q8=tr&&tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),br=tr&&tr.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},V8=tr&&tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&D8(e,t,n);return q8(e,t),e},n1=tr&&tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zt,"__esModule",{value:!0});var r1=zt.deserializeUnchecked=u1=zt.deserialize=c1=zt.serialize=zt.BinaryReader=zt.BinaryWriter=zt.BorshError=zt.baseDecode=zt.baseEncode=void 0;const ps=n1(e1),s1=n1(t1),H8=V8(j8),K8=typeof TextDecoder!="function"?H8.TextDecoder:TextDecoder,G8=new K8("utf-8",{fatal:!0});function Z8(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),s1.default.encode(Buffer.from(t))}zt.baseEncode=Z8;function W8(t){return Buffer.from(s1.default.decode(t))}zt.baseDecode=W8;const al=1024;class un extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}zt.BorshError=un;class i1{constructor(){this.buf=Buffer.alloc(al),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(al)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ps.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ps.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ps.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ps.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(al)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}zt.BinaryWriter=i1;function wr(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new un("Reached the end of buffer when deserializing")}throw i}}}class Nn{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ps.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ps.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ps.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ps.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new un(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return G8.decode(n)}catch(r){throw new un(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}br([wr],Nn.prototype,"readU8",null);br([wr],Nn.prototype,"readU16",null);br([wr],Nn.prototype,"readU32",null);br([wr],Nn.prototype,"readU64",null);br([wr],Nn.prototype,"readU128",null);br([wr],Nn.prototype,"readU256",null);br([wr],Nn.prototype,"readU512",null);br([wr],Nn.prototype,"readString",null);br([wr],Nn.prototype,"readFixedArray",null);br([wr],Nn.prototype,"readArray",null);zt.BinaryReader=Nn;function o1(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Is(t,e,n,r,s){try{if(typeof r=="string")s[`write${o1(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new un(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new un(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Is(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{Is(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Is(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Is(t,e,o,r.key,s),Is(t,e,i,r.value,s)});break}default:throw new un(`FieldType ${r} unrecognized`)}else a1(t,n,s)}catch(i){throw i instanceof un&&i.addToFieldPath(e),i}}function a1(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new un(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Is(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),Is(t,o,e[o],a,n);break}}}else throw new un(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function J8(t,e,n=i1){const r=new n;return a1(t,e,r),r.toArray()}var c1=zt.serialize=J8;function Bs(t,e,n,r){try{if(typeof n=="string")return r[`read${o1(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Bs(t,null,n[0],r));return s}else return r.readArray(()=>Bs(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Bs(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=Bs(t,e,n.key,r),c=Bs(t,e,n.value,r);s.set(a,c)}return s}return zh(t,n,r)}catch(s){throw s instanceof un&&s.addToFieldPath(e),s}}function zh(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new un(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=Bs(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new un(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=Bs(t,i,o,n);return new e({[i]:a})}throw new un(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Y8(t,e,n,r=Nn){const s=new r(n),i=zh(t,e,s);if(s.offset<n.length)throw new un(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var u1=zt.deserialize=Y8;function Q8(t,e,n,r=Nn){const s=new r(n);return zh(t,e,s)}r1=zt.deserializeUnchecked=Q8;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=Lt=Z.nu64=Z.u48=Z.u40=me=Z.u32=Z.u24=Dn=Z.u16=Ne=Z.u8=Zs=Z.offset=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0;Z.constant=Z.utf8=Z.cstr=Ve=Z.blob=Z.unionLayoutDiscriminator=Z.union=fn=Z.seq=Z.bits=le=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=_n=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const jh=ke;function Io(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=Io;function $e(t){return Io(t),jh.Buffer.from(t.buffer,t.byteOffset,t.length)}Z.uint8ArrayToBuffer=$e;class Ue{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Z.Layout=Ue;function Dh(t,e){return e.property?t+"["+e.property+"]":t}Z.nameWithProperty=Dh;function X8(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ue))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Z.bindConstructorLayout=X8;class gn extends Ue{isCount(){throw new Error("ExternalLayout is abstract")}}Z.ExternalLayout=gn;class f1 extends gn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Io(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Z.GreedyCount=f1;class qh extends gn{constructor(e,n=0,r){if(!(e instanceof Ue))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Vn||this.layout instanceof er}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Z.OffsetLayout=qh;class Vn extends Ue{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return $e(e).readUIntLE(n,this.span)}encode(e,n,r=0){return $e(n).writeUIntLE(e,r,this.span),this.span}}Z.UInt=Vn;class er extends Ue{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return $e(e).readUIntBE(n,this.span)}encode(e,n,r=0){return $e(n).writeUIntBE(e,r,this.span),this.span}}Z.UIntBE=er;class mi extends Ue{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return $e(e).readIntLE(n,this.span)}encode(e,n,r=0){return $e(n).writeIntLE(e,r,this.span),this.span}}Z.Int=mi;class Bo extends Ue{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return $e(e).readIntBE(n,this.span)}encode(e,n,r=0){return $e(n).writeIntBE(e,r,this.span),this.span}}Z.IntBE=Bo;const wd=Math.pow(2,32);function nf(t){const e=Math.floor(t/wd),n=t-e*wd;return{hi32:e,lo32:n}}function rf(t,e){return t*wd+e}class l1 extends Ue{constructor(e){super(8,e)}decode(e,n=0){const r=$e(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return rf(i,s)}encode(e,n,r=0){const s=nf(e),i=$e(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}Z.NearUInt64=l1;class d1 extends Ue{constructor(e){super(8,e)}decode(e,n=0){const r=$e(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return rf(s,i)}encode(e,n,r=0){const s=nf(e),i=$e(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}Z.NearUInt64BE=d1;class h1 extends Ue{constructor(e){super(8,e)}decode(e,n=0){const r=$e(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return rf(i,s)}encode(e,n,r=0){const s=nf(e),i=$e(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}Z.NearInt64=h1;class p1 extends Ue{constructor(e){super(8,e)}decode(e,n=0){const r=$e(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return rf(s,i)}encode(e,n,r=0){const s=nf(e),i=$e(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}Z.NearInt64BE=p1;class m1 extends Ue{constructor(e){super(4,e)}decode(e,n=0){return $e(e).readFloatLE(n)}encode(e,n,r=0){return $e(n).writeFloatLE(e,r),4}}Z.Float=m1;class y1 extends Ue{constructor(e){super(4,e)}decode(e,n=0){return $e(e).readFloatBE(n)}encode(e,n,r=0){return $e(n).writeFloatBE(e,r),4}}Z.FloatBE=y1;class g1 extends Ue{constructor(e){super(8,e)}decode(e,n=0){return $e(e).readDoubleLE(n)}encode(e,n,r=0){return $e(n).writeDoubleLE(e,r),8}}Z.Double=g1;class b1 extends Ue{constructor(e){super(8,e)}decode(e,n=0){return $e(e).readDoubleBE(n)}encode(e,n,r=0){return $e(n).writeDoubleBE(e,r),8}}Z.DoubleBE=b1;class w1 extends Ue{constructor(e,n,r){if(!(e instanceof Ue))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof gn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof gn)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof gn&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof gn&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof gn&&this.count.encode(e.length,n,r),i}}Z.Sequence=w1;class v1 extends Ue{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Ue,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Io(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>c&&(c=a.getSpan(n,r)))}i=r,r+=c}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Z.Structure=v1;class Vh{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Z.UnionDiscriminator=Vh;class fu extends Vh{constructor(e,n){if(!(e instanceof gn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Z.UnionLayoutDiscriminator=fu;class Hh extends Ue{constructor(e,n,r){let s;if(e instanceof Vn||e instanceof er)s=new fu(new qh(e));else if(e instanceof gn&&e.isCount())s=new fu(e);else if(e instanceof Vh)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ue))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Vn||e instanceof er)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Vn||e instanceof er,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new x1(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Z.Union=Hh;class x1 extends Ue{constructor(e,n,r,s){if(!(e instanceof Hh))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Ue))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Z.VariantLayout=x1;function Ci(t){return 0>t&&(t+=4294967296),t}class Kh extends Ue{constructor(e,n,r){if(!(e instanceof Vn||e instanceof er))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Ci(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Gh(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new E1(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Z.BitStructure=Kh;class Gh{constructor(e,n,r){if(!(e instanceof Kh))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Ci(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ci(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ci(e&this.valueMask))throw new TypeError(Dh("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ci(e<<this.start);this.container._packedSetValue(Ci(n&~this.wordMask)|r)}}Z.BitField=Gh;let E1=class extends Gh{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Z.Boolean=E1;class S1 extends Ue{constructor(e,n){if(!(e instanceof gn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof gn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),$e(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof gn&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(Dh("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=$e(e);return $e(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof gn&&this.length.encode(s,n,r),s}}Z.Blob=S1;class _1 extends Ue{constructor(e){super(-1,e)}getSpan(e,n=0){Io(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return $e(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=jh.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=$e(n);return s.copy(o,r),o[r+i]=0,i+1}}Z.CString=_1;class A1 extends Ue{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Io(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return $e(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=jh.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy($e(n),r),i}}Z.UTF8=A1;class I1 extends Ue{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Z.Constant=I1;Z.greedy=(t,e)=>new f1(t,e);var Zs=Z.offset=(t,e,n)=>new qh(t,e,n),Ne=Z.u8=t=>new Vn(1,t),Dn=Z.u16=t=>new Vn(2,t);Z.u24=t=>new Vn(3,t);var me=Z.u32=t=>new Vn(4,t);Z.u40=t=>new Vn(5,t);Z.u48=t=>new Vn(6,t);var Lt=Z.nu64=t=>new l1(t);Z.u16be=t=>new er(2,t);Z.u24be=t=>new er(3,t);Z.u32be=t=>new er(4,t);Z.u40be=t=>new er(5,t);Z.u48be=t=>new er(6,t);Z.nu64be=t=>new d1(t);Z.s8=t=>new mi(1,t);Z.s16=t=>new mi(2,t);Z.s24=t=>new mi(3,t);Z.s32=t=>new mi(4,t);Z.s40=t=>new mi(5,t);Z.s48=t=>new mi(6,t);var _n=Z.ns64=t=>new h1(t);Z.s16be=t=>new Bo(2,t);Z.s24be=t=>new Bo(3,t);Z.s32be=t=>new Bo(4,t);Z.s40be=t=>new Bo(5,t);Z.s48be=t=>new Bo(6,t);Z.ns64be=t=>new p1(t);Z.f32=t=>new m1(t);Z.f32be=t=>new y1(t);Z.f64=t=>new g1(t);Z.f64be=t=>new b1(t);var le=Z.struct=(t,e,n)=>new v1(t,e,n);Z.bits=(t,e,n)=>new Kh(t,e,n);var fn=Z.seq=(t,e,n)=>new w1(t,e,n);Z.union=(t,e,n)=>new Hh(t,e,n);Z.unionLayoutDiscriminator=(t,e)=>new fu(t,e);var Ve=Z.blob=(t,e)=>new S1(t,e);Z.cstr=t=>new _1(t);Z.utf8=(t,e)=>new A1(t,e);Z.constant=(t,e)=>new I1(t,e);var e3=8078e3,t3=8078001,n3=8078004,r3=8078005,s3=8078006,i3=8078011;function B1(t){return Array.isArray(t)?"%5B"+t.map(B1).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function o3([t,e]){return`${t}=${B1(e)}`}function a3(t){const e=Object.entries(t).map(o3).join("&");return btoa(e)}function c3(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${a3(e)}'`),`${n}\``}}var zi=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=c3(e,r);super(i,s);Gr(this,"cause",this.cause);Gr(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function u3(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function f3(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(u3(e,t));return t.write(e,n,0),n}})}function l3(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ii(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function d3(t,e){if(Ii(t)!==Ii(e))throw new zi(n3);if(Ii(t)&&Ii(e)&&t.fixedSize!==e.fixedSize)throw new zi(r3,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ii(t)&&!Ii(e)&&t.maxSize!==e.maxSize)throw new zi(s3,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function h3(t,e,n=0){if(e.length-n<=0)throw new zi(e3,{codecDescription:t})}function p3(t,e,n,r=0){const s=n.length-r;if(s<e)throw new zi(t3,{bytesLength:s,codecDescription:t,expected:e})}function m3(t,e,n,r){if(r<e||r>n)throw new zi(i3,{codecDescription:t,max:n,min:e,value:r})}function k1(t){return(t==null?void 0:t.endian)!==1}function y3(t){return f3({fixedSize:t.size,write(e,n,r){t.range&&m3(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,k1(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function g3(t){return l3({fixedSize:t.size,read(e,n=0){h3(t.name,e,n),p3(t.name,t.size,e,n);const r=new DataView(b3(e,n,t.size));return[t.get(r,k1(t.config)),n+t.size]}})}function b3(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var w3=(t={})=>y3({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),v3=(t={})=>g3({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),x3=(t={})=>d3(w3(t),v3(t));class E3 extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function S3(t){return rc(t)&&typeof t[Symbol.iterator]=="function"}function rc(t){return typeof t=="object"&&t!=null}function lu(t){return rc(t)&&!Array.isArray(t)}function ir(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function _3(t){const{done:e,value:n}=t.next();return e?void 0:n}function A3(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ir(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:c}}function*Kp(t,e,n,r){S3(t)||(t=[t]);for(const s of t){const i=A3(s,e,n,r);i&&(yield i)}}function*Zh(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,f,d]of e.entries(t,a)){const h=Zh(f,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,f],coerce:i,mask:o,message:n.message});for(const m of h)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(f=m[1],u===void 0?t=f:t instanceof Map?t.set(u,f):t instanceof Set?t.add(f):rc(t)&&(f!==void 0||u in t)&&(t[u]=f))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}let vr=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const f=s(c,u);return Kp(f,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const f=i(c,u);return Kp(f,u,this,c)}:this.refiner=()=>[]}assert(e,n){return I3(e,this,n)}create(e,n){return ma(e,this,n)}is(e){return M1(e,this)}mask(e,n){return B3(e,this,n)}validate(e,n={}){return sc(e,this,n)}};function I3(t,e,n){const r=sc(t,e,{message:n});if(r[0])throw r[0]}function ma(t,e,n){const r=sc(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function B3(t,e,n){const r=sc(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function M1(t,e){return!sc(t,e)[0]}function sc(t,e,n={}){const r=Zh(t,e,n),s=_3(r);return s[0]?[new E3(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function yi(t,e){return new vr({type:t,schema:null,validator:e})}function k3(){return yi("any",()=>!0)}function oe(t){return new vr({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ir(e)}`}})}function yr(){return yi("boolean",t=>typeof t=="boolean")}function Wh(t){return yi("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ir(e)}`)}function We(t){const e=ir(t),n=typeof t;return new vr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ir(r)}`}})}function M3(){return yi("never",()=>!1)}function ae(t){return new vr({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function G(){return yi("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ir(t)}`)}function pe(t){return new vr({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function R1(t,e){return new vr({type:"record",schema:null,*entries(n){if(rc(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return lu(n)||`Expected an object, but received: ${ir(n)}`},coercer(n){return lu(n)?{...n}:n}})}function re(){return yi("string",t=>typeof t=="string"||`Expected a string, but received: ${ir(t)}`)}function Jh(t){const e=M3();return new vr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ir(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Q(t){const e=Object.keys(t);return new vr({type:"type",schema:t,*entries(n){if(rc(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return lu(n)||`Expected an object, but received: ${ir(n)}`},coercer(n){return lu(n)?{...n}:n}})}function hn(t){const e=t.map(n=>n.type).join(" | ");return new vr({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=Zh(n,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ir(n)}`,...s]}})}function ko(){return yi("unknown",()=>!0)}function ic(t,e,n){return new vr({...t,coercer:(r,s)=>M1(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Ec,R3=new Uint8Array(16);function C1(){if(!Ec&&(Ec=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ec))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ec(R3)}const C3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sf(t){return typeof t=="string"&&C3.test(t)}var Ut=[];for(var cl=0;cl<256;++cl)Ut.push((cl+256).toString(16).substr(1));function of(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ut[t[e+0]]+Ut[t[e+1]]+Ut[t[e+2]]+Ut[t[e+3]]+"-"+Ut[t[e+4]]+Ut[t[e+5]]+"-"+Ut[t[e+6]]+Ut[t[e+7]]+"-"+Ut[t[e+8]]+Ut[t[e+9]]+"-"+Ut[t[e+10]]+Ut[t[e+11]]+Ut[t[e+12]]+Ut[t[e+13]]+Ut[t[e+14]]+Ut[t[e+15]]).toLowerCase();if(!sf(n))throw TypeError("Stringified UUID is invalid");return n}var Gp,ul,fl=0,ll=0;function T3(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||Gp,o=t.clockseq!==void 0?t.clockseq:ul;if(i==null||o==null){var a=t.random||(t.rng||C1)();i==null&&(i=Gp=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=ul=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:ll+1,f=c-fl+(u-ll)/1e4;if(f<0&&t.clockseq===void 0&&(o=o+1&16383),(f<0||c>fl)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fl=c,ll=u,ul=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;s[r++]=d>>>24&255,s[r++]=d>>>16&255,s[r++]=d>>>8&255,s[r++]=d&255;var h=c/4294967296*1e4&268435455;s[r++]=h>>>8&255,s[r++]=h&255,s[r++]=h>>>24&15|16,s[r++]=h>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||of(s)}function T1(t){if(!sf(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function P3(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var O3="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$3="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function P1(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=P3(s)),typeof i=="string"&&(i=T1(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return of(c)}try{r.name=t}catch{}return r.DNS=O3,r.URL=$3,r}function N3(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return U3(L3(F3(t),t.length*8))}function U3(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function O1(t){return(t+64>>>9<<4)+14+1}function L3(t,e){t[e>>5]|=128<<e%32,t[O1(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,c=r,u=s,f=i;n=Zt(n,r,s,i,t[o],7,-680876936),i=Zt(i,n,r,s,t[o+1],12,-389564586),s=Zt(s,i,n,r,t[o+2],17,606105819),r=Zt(r,s,i,n,t[o+3],22,-1044525330),n=Zt(n,r,s,i,t[o+4],7,-176418897),i=Zt(i,n,r,s,t[o+5],12,1200080426),s=Zt(s,i,n,r,t[o+6],17,-1473231341),r=Zt(r,s,i,n,t[o+7],22,-45705983),n=Zt(n,r,s,i,t[o+8],7,1770035416),i=Zt(i,n,r,s,t[o+9],12,-1958414417),s=Zt(s,i,n,r,t[o+10],17,-42063),r=Zt(r,s,i,n,t[o+11],22,-1990404162),n=Zt(n,r,s,i,t[o+12],7,1804603682),i=Zt(i,n,r,s,t[o+13],12,-40341101),s=Zt(s,i,n,r,t[o+14],17,-1502002290),r=Zt(r,s,i,n,t[o+15],22,1236535329),n=Wt(n,r,s,i,t[o+1],5,-165796510),i=Wt(i,n,r,s,t[o+6],9,-1069501632),s=Wt(s,i,n,r,t[o+11],14,643717713),r=Wt(r,s,i,n,t[o],20,-373897302),n=Wt(n,r,s,i,t[o+5],5,-701558691),i=Wt(i,n,r,s,t[o+10],9,38016083),s=Wt(s,i,n,r,t[o+15],14,-660478335),r=Wt(r,s,i,n,t[o+4],20,-405537848),n=Wt(n,r,s,i,t[o+9],5,568446438),i=Wt(i,n,r,s,t[o+14],9,-1019803690),s=Wt(s,i,n,r,t[o+3],14,-187363961),r=Wt(r,s,i,n,t[o+8],20,1163531501),n=Wt(n,r,s,i,t[o+13],5,-1444681467),i=Wt(i,n,r,s,t[o+2],9,-51403784),s=Wt(s,i,n,r,t[o+7],14,1735328473),r=Wt(r,s,i,n,t[o+12],20,-1926607734),n=Jt(n,r,s,i,t[o+5],4,-378558),i=Jt(i,n,r,s,t[o+8],11,-2022574463),s=Jt(s,i,n,r,t[o+11],16,1839030562),r=Jt(r,s,i,n,t[o+14],23,-35309556),n=Jt(n,r,s,i,t[o+1],4,-1530992060),i=Jt(i,n,r,s,t[o+4],11,1272893353),s=Jt(s,i,n,r,t[o+7],16,-155497632),r=Jt(r,s,i,n,t[o+10],23,-1094730640),n=Jt(n,r,s,i,t[o+13],4,681279174),i=Jt(i,n,r,s,t[o],11,-358537222),s=Jt(s,i,n,r,t[o+3],16,-722521979),r=Jt(r,s,i,n,t[o+6],23,76029189),n=Jt(n,r,s,i,t[o+9],4,-640364487),i=Jt(i,n,r,s,t[o+12],11,-421815835),s=Jt(s,i,n,r,t[o+15],16,530742520),r=Jt(r,s,i,n,t[o+2],23,-995338651),n=Yt(n,r,s,i,t[o],6,-198630844),i=Yt(i,n,r,s,t[o+7],10,1126891415),s=Yt(s,i,n,r,t[o+14],15,-1416354905),r=Yt(r,s,i,n,t[o+5],21,-57434055),n=Yt(n,r,s,i,t[o+12],6,1700485571),i=Yt(i,n,r,s,t[o+3],10,-1894986606),s=Yt(s,i,n,r,t[o+10],15,-1051523),r=Yt(r,s,i,n,t[o+1],21,-2054922799),n=Yt(n,r,s,i,t[o+8],6,1873313359),i=Yt(i,n,r,s,t[o+15],10,-30611744),s=Yt(s,i,n,r,t[o+6],15,-1560198380),r=Yt(r,s,i,n,t[o+13],21,1309151649),n=Yt(n,r,s,i,t[o+4],6,-145523070),i=Yt(i,n,r,s,t[o+11],10,-1120210379),s=Yt(s,i,n,r,t[o+2],15,718787259),r=Yt(r,s,i,n,t[o+9],21,-343485551),n=ms(n,a),r=ms(r,c),s=ms(s,u),i=ms(i,f)}return[n,r,s,i]}function F3(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(O1(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ms(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function z3(t,e){return t<<e|t>>>32-e}function af(t,e,n,r,s,i){return ms(z3(ms(ms(e,t),ms(r,i)),s),n)}function Zt(t,e,n,r,s,i,o){return af(e&n|~e&r,t,e,s,i,o)}function Wt(t,e,n,r,s,i,o){return af(e&r|n&~r,t,e,s,i,o)}function Jt(t,e,n,r,s,i,o){return af(e^n^r,t,e,s,i,o)}function Yt(t,e,n,r,s,i,o){return af(n^(e|~r),t,e,s,i,o)}var j3=P1("v3",48,N3);const D3=j3;function q3(t,e,n){t=t||{};var r=t.random||(t.rng||C1)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return of(r)}function V3(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function dl(t,e){return t<<e|t>>>32-e}function H3(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=t[c*64+f*4]<<24|t[c*64+f*4+1]<<16|t[c*64+f*4+2]<<8|t[c*64+f*4+3];a[c]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=a[d][m];for(var w=16;w<80;++w)h[w]=dl(h[w-3]^h[w-8]^h[w-14]^h[w-16],1);for(var E=n[0],_=n[1],k=n[2],O=n[3],M=n[4],U=0;U<80;++U){var $=Math.floor(U/20),j=dl(E,5)+V3($,_,k,O)+M+e[$]+h[U]>>>0;M=O,O=k,k=dl(_,30)>>>0,_=E,E=j}n[0]=n[0]+E>>>0,n[1]=n[1]+_>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+O>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var K3=P1("v5",80,H3);const G3=K3,Z3="00000000-0000-0000-0000-000000000000";function W3(t){if(!sf(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const J3=Object.freeze(Object.defineProperty({__proto__:null,NIL:Z3,parse:T1,stringify:of,v1:T3,v3:D3,v4:q3,v5:G3,validate:sf,version:W3},Symbol.toStringTag,{value:"Module"})),$1=Bd(J3),Y3=$1.v4,Q3=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Y3()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var X3=Q3;const eB=$1.v4,tB=X3,du=function(t,e){if(!(this instanceof du))return new du(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return eB()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};du.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{i=tB(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(u)return r(f);throw f}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,f){s._parseResponse(u,f,r)}),i};du.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zp=(t,e)=>(t+(t>=0?e:-e)/N1)/e;function nB(t,e,n){const[[r,s],[i,o]]=e,a=Zp(o*t,n),c=Zp(-s*t,n);let u=t-a*r-c*i,f=-a*s-c*o;const d=u<$r,h=f<$r;d&&(u=-u),h&&(f=-f);const m=ec(Math.ceil(Nb(n)/2))+ji;if(u<$r||u>=m||f<$r||f>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:u,k2neg:h,k2:f}}function vd(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function hl(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ui(n.lowS,"lowS"),ui(n.prehash,"prehash"),n.format!==void 0&&vd(n.format),n}class rB extends Error{constructor(e=""){super(e)}}const Rr={Err:rB,_tlv:{encode:(t,e)=>{const{Err:n}=Rr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=vc(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?vc(s.length/2|128):"";return vc(t)+i+s+e},decode(t,e){const{Err:n}=Rr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Rr;if(t<$r)throw new e("integer: negative integers are not allowed");let n=vc(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Rr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ef(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Rr,s=st("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Rr,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},$r=BigInt(0),ji=BigInt(1),N1=BigInt(2),Sc=BigInt(3),sB=BigInt(4);function Ni(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=st("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function iB(t,e={}){const n=Qb("weierstrass",t,e),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;tc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=L1(r,s);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(V,x,l){const{x:p,y:v}=x.toAffine(),I=r.toBytes(p);if(ui(l,"isCompressed"),l){f();const S=!r.isOdd(v);return He(U1(S),I)}else return He(Uint8Array.of(4),I,r.toBytes(v))}function h(V){Qn(V,void 0,"Point");const{publicKey:x,publicKeyUncompressed:l}=u,p=V.length,v=V[0],I=V.subarray(1);if(p===x&&(v===2||v===3)){const S=r.fromBytes(I);if(!r.isValid(S))throw new Error("bad point: is not on curve, wrong x");const C=E(S);let N;try{N=r.sqrt(C)}catch(T){const X=T instanceof Error?": "+T.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}f();const A=r.isOdd(N);return(v&1)===1!==A&&(N=r.neg(N)),{x:S,y:N}}else if(p===l&&v===4){const S=r.BYTES,C=r.fromBytes(I.subarray(0,S)),N=r.fromBytes(I.subarray(S,S*2));if(!_(C,N))throw new Error("bad point: is not on curve");return{x:C,y:N}}else throw new Error(`bad point: got length ${p}, expected compressed=${x} or uncompressed=${l}`)}const m=e.toBytes||d,w=e.fromBytes||h;function E(V){const x=r.sqr(V),l=r.mul(x,V);return r.add(r.add(l,r.mul(V,i.a)),i.b)}function _(V,x){const l=r.sqr(x),p=E(V);return r.eql(l,p)}if(!_(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const k=r.mul(r.pow(i.a,Sc),sB),O=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(k,O)))throw new Error("bad curve params: a or b");function M(V,x,l=!1){if(!r.isValid(x)||l&&r.is0(x))throw new Error(`bad point coordinate ${V}`);return x}function U(V){if(!(V instanceof R))throw new Error("ProjectivePoint expected")}function $(V){if(!c||!c.basises)throw new Error("no endo");return nB(V,c.basises,s.ORDER)}const j=su((V,x)=>{const{X:l,Y:p,Z:v}=V;if(r.eql(v,r.ONE))return{x:l,y:p};const I=V.is0();x==null&&(x=I?r.ONE:r.inv(v));const S=r.mul(l,x),C=r.mul(p,x),N=r.mul(v,x);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:S,y:C}}),z=su(V=>{if(V.is0()){if(e.allowInfinityPoint&&!r.is0(V.Y))return;throw new Error("bad point: ZERO")}const{x,y:l}=V.toAffine();if(!r.isValid(x)||!r.isValid(l))throw new Error("bad point: x or y not field elements");if(!_(x,l))throw new Error("bad point: equation left != right");if(!V.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function H(V,x,l,p,v){return l=new R(r.mul(l.X,V),l.Y,l.Z),x=iu(p,x),l=iu(v,l),x.add(l)}class R{constructor(x,l,p){this.X=M("x",x),this.Y=M("y",l,!0),this.Z=M("z",p),Object.freeze(this)}static CURVE(){return i}static fromAffine(x){const{x:l,y:p}=x||{};if(!x||!r.isValid(l)||!r.isValid(p))throw new Error("invalid affine point");if(x instanceof R)throw new Error("projective point not allowed");return r.is0(l)&&r.is0(p)?R.ZERO:new R(l,p,r.ONE)}static fromBytes(x){const l=R.fromAffine(w(Qn(x,void 0,"point")));return l.assertValidity(),l}static fromHex(x){return R.fromBytes(st("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,l=!0){return L.createCache(this,x),l||this.multiply(Sc),this}assertValidity(){z(this)}hasEvenY(){const{y:x}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(x)}equals(x){U(x);const{X:l,Y:p,Z:v}=this,{X:I,Y:S,Z:C}=x,N=r.eql(r.mul(l,C),r.mul(I,v)),A=r.eql(r.mul(p,C),r.mul(S,v));return N&&A}negate(){return new R(this.X,r.neg(this.Y),this.Z)}double(){const{a:x,b:l}=i,p=r.mul(l,Sc),{X:v,Y:I,Z:S}=this;let C=r.ZERO,N=r.ZERO,A=r.ZERO,g=r.mul(v,v),T=r.mul(I,I),X=r.mul(S,S),J=r.mul(v,I);return J=r.add(J,J),A=r.mul(v,S),A=r.add(A,A),C=r.mul(x,A),N=r.mul(p,X),N=r.add(C,N),C=r.sub(T,N),N=r.add(T,N),N=r.mul(C,N),C=r.mul(J,C),A=r.mul(p,A),X=r.mul(x,X),J=r.sub(g,X),J=r.mul(x,J),J=r.add(J,A),A=r.add(g,g),g=r.add(A,g),g=r.add(g,X),g=r.mul(g,J),N=r.add(N,g),X=r.mul(I,S),X=r.add(X,X),g=r.mul(X,J),C=r.sub(C,g),A=r.mul(X,T),A=r.add(A,A),A=r.add(A,A),new R(C,N,A)}add(x){U(x);const{X:l,Y:p,Z:v}=this,{X:I,Y:S,Z:C}=x;let N=r.ZERO,A=r.ZERO,g=r.ZERO;const T=i.a,X=r.mul(i.b,Sc);let J=r.mul(l,I),te=r.mul(p,S),ve=r.mul(v,C),he=r.add(l,p),de=r.add(I,S);he=r.mul(he,de),de=r.add(J,te),he=r.sub(he,de),de=r.add(l,v);let Le=r.add(I,C);return de=r.mul(de,Le),Le=r.add(J,ve),de=r.sub(de,Le),Le=r.add(p,v),N=r.add(S,C),Le=r.mul(Le,N),N=r.add(te,ve),Le=r.sub(Le,N),g=r.mul(T,de),N=r.mul(X,ve),g=r.add(N,g),N=r.sub(te,g),g=r.add(te,g),A=r.mul(N,g),te=r.add(J,J),te=r.add(te,J),ve=r.mul(T,ve),de=r.mul(X,de),te=r.add(te,ve),ve=r.sub(J,ve),ve=r.mul(T,ve),de=r.add(de,ve),J=r.mul(te,de),A=r.add(A,J),J=r.mul(Le,de),N=r.mul(he,N),N=r.sub(N,J),J=r.mul(he,te),g=r.mul(Le,g),g=r.add(g,J),new R(N,A,g)}subtract(x){return this.add(x.negate())}is0(){return this.equals(R.ZERO)}multiply(x){const{endo:l}=e;if(!s.isValidNot0(x))throw new Error("invalid scalar: out of range");let p,v;const I=S=>L.cached(this,S,C=>Os(R,C));if(l){const{k1neg:S,k1:C,k2neg:N,k2:A}=$(x),{p:g,f:T}=I(C),{p:X,f:J}=I(A);v=T.add(J),p=H(l.beta,g,X,S,N)}else{const{p:S,f:C}=I(x);p=S,v=C}return Os(R,[p,v])[0]}multiplyUnsafe(x){const{endo:l}=e,p=this;if(!s.isValid(x))throw new Error("invalid scalar: out of range");if(x===$r||p.is0())return R.ZERO;if(x===ji)return p;if(L.hasCache(this))return this.multiply(x);if(l){const{k1neg:v,k1:I,k2neg:S,k2:C}=$(x),{p1:N,p2:A}=d8(R,p,I,C);return H(l.beta,N,A,v,S)}else return L.unsafe(p,x)}multiplyAndAddUnsafe(x,l,p){const v=this.multiplyUnsafe(l).add(x.multiplyUnsafe(p));return v.is0()?void 0:v}toAffine(x){return j(this,x)}isTorsionFree(){const{isTorsionFree:x}=e;return o===ji?!0:x?x(R,this):L.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:x}=e;return o===ji?this:x?x(R,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(x=!0){return ui(x,"isCompressed"),this.assertValidity(),m(R,this,x)}toHex(x=!0){return qn(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return Os(R,x)}static msm(x,l){return Yb(R,s,x,l)}static fromPrivateKey(x){return R.BASE.multiply(Ni(s,x))}}R.BASE=new R(i.Gx,i.Gy,r.ONE),R.ZERO=new R(r.ZERO,r.ONE,r.ZERO),R.Fp=r,R.Fn=s;const q=s.BITS,L=new Jb(R,e.endo?Math.ceil(q/2):q);return R.BASE.precompute(8),R}function U1(t){return Uint8Array.of(t?2:3)}function L1(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function oB(t,e={}){const{Fn:n}=t,r=e.randomBytes||za,s=Object.assign(L1(t.Fp,n),{seed:Gb(n.ORDER)});function i(m){try{return!!Ni(n,m)}catch{return!1}}function o(m,w){const{publicKey:E,publicKeyUncompressed:_}=s;try{const k=m.length;return w===!0&&k!==E||w===!1&&k!==_?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=r(s.seed)){return u8(Qn(m,s.seed,"seed"),n.ORDER)}function c(m,w=!0){return t.BASE.multiply(Ni(n,m)).toBytes(w)}function u(m){const w=a(m);return{secretKey:w,publicKey:c(w)}}function f(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:w,publicKey:E,publicKeyUncompressed:_}=s;if(n.allowedLengths||w===E)return;const k=st("key",m).length;return k===E||k===_}function d(m,w,E=!0){if(f(m)===!0)throw new Error("first arg must be private key");if(f(w)===!1)throw new Error("second arg must be public key");const _=Ni(n,m);return t.fromHex(w).multiply(_).toBytes(E)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:u,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:m=>Ni(n,m),precompute(m=8,w=t.BASE){return w.precompute(m,!1)}},lengths:s})}function aB(t,e,n={}){Nm(e),tc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||za,s=n.hmac||((l,...p)=>wh(e,l,He(...p))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:f,getSharedSecret:d,utils:h,lengths:m}=oB(t,n),w={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},E="compact";function _(l){const p=a>>ji;return l>p}function k(l,p){if(!o.isValidNot0(p))throw new Error(`invalid signature ${l}: out of range 1..Point.Fn.ORDER`);return p}function O(l,p){vd(p);const v=m.signature,I=p==="compact"?v:p==="recovered"?v+1:void 0;return Qn(l,I,`${p} signature`)}class M{constructor(p,v,I){this.r=k("r",p),this.s=k("s",v),I!=null&&(this.recovery=I),Object.freeze(this)}static fromBytes(p,v=E){O(p,v);let I;if(v==="der"){const{r:A,s:g}=Rr.toSig(Qn(p));return new M(A,g)}v==="recovered"&&(I=p[0],v="compact",p=p.subarray(1));const S=o.BYTES,C=p.subarray(0,S),N=p.subarray(S,S*2);return new M(o.fromBytes(C),o.fromBytes(N),I)}static fromHex(p,v){return this.fromBytes(Ws(p),v)}addRecoveryBit(p){return new M(this.r,this.s,p)}recoverPublicKey(p){const v=i.ORDER,{r:I,s:S,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*N1<v&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=C===2||C===3?I+a:I;if(!i.isValid(A))throw new Error("recovery id 2 or 3 invalid");const g=i.toBytes(A),T=t.fromBytes(He(U1((C&1)===0),g)),X=o.inv(A),J=$(st("msgHash",p)),te=o.create(-J*X),ve=o.create(S*X),he=t.BASE.multiplyUnsafe(te).add(T.multiplyUnsafe(ve));if(he.is0())throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return _(this.s)}toBytes(p=E){if(vd(p),p==="der")return Ws(Rr.hexFromSig(this));const v=o.toBytes(this.r),I=o.toBytes(this.s);if(p==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return He(Uint8Array.of(this.recovery),v,I)}return He(v,I)}toHex(p){return qn(this.toBytes(p))}assertValidity(){}static fromCompact(p){return M.fromBytes(st("sig",p),"compact")}static fromDER(p){return M.fromBytes(st("sig",p),"der")}normalizeS(){return this.hasHighS()?new M(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return qn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return qn(this.toBytes("compact"))}}const U=n.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const v=ef(p),I=p.length*8-c;return I>0?v>>BigInt(I):v},$=n.bits2int_modN||function(p){return o.create(U(p))},j=ec(c);function z(l){return gd("num < 2^"+c,l,$r,j),o.toBytes(l)}function H(l,p){return Qn(l,void 0,"message"),p?Qn(e(l),void 0,"prehashed message"):l}function R(l,p,v){if(["recovered","canonical"].some(te=>te in v))throw new Error("sign() legacy options not supported");const{lowS:I,prehash:S,extraEntropy:C}=hl(v,w);l=H(l,S);const N=$(l),A=Ni(o,p),g=[z(A),z(N)];if(C!=null&&C!==!1){const te=C===!0?r(m.secretKey):C;g.push(st("extraEntropy",te))}const T=He(...g),X=N;function J(te){const ve=U(te);if(!o.isValidNot0(ve))return;const he=o.inv(ve),de=t.BASE.multiply(ve).toAffine(),Le=o.create(de.x);if(Le===$r)return;const Te=o.create(he*o.create(X+Le*A));if(Te===$r)return;let Fe=(de.x===Le?0:2)|Number(de.y&ji),Un=Te;return I&&_(Te)&&(Un=o.neg(Te),Fe^=1),new M(Le,Un,Fe)}return{seed:T,k2sig:J}}function q(l,p,v={}){l=st("message",l);const{seed:I,k2sig:S}=R(l,p,v);return XI(e.outputLen,o.BYTES,s)(I,S)}function L(l){let p;const v=typeof l=="string"||As(l),I=!v&&l!==null&&typeof l=="object"&&typeof l.r=="bigint"&&typeof l.s=="bigint";if(!v&&!I)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(I)p=new M(l.r,l.s);else if(v){try{p=M.fromBytes(st("sig",l),"der")}catch(S){if(!(S instanceof Rr.Err))throw S}if(!p)try{p=M.fromBytes(st("sig",l),"compact")}catch{return!1}}return p||!1}function V(l,p,v,I={}){const{lowS:S,prehash:C,format:N}=hl(I,w);if(v=st("publicKey",v),p=H(st("message",p),C),"strict"in I)throw new Error("options.strict was renamed to lowS");const A=N===void 0?L(l):M.fromBytes(st("sig",l),N);if(A===!1)return!1;try{const g=t.fromBytes(v);if(S&&A.hasHighS())return!1;const{r:T,s:X}=A,J=$(p),te=o.inv(X),ve=o.create(J*te),he=o.create(T*te),de=t.BASE.multiplyUnsafe(ve).add(g.multiplyUnsafe(he));return de.is0()?!1:o.create(de.x)===T}catch{return!1}}function x(l,p,v={}){const{prehash:I}=hl(v,w);return p=H(p,I),M.fromBytes(l,"recovered").recoverPublicKey(p).toBytes()}return Object.freeze({keygen:u,getPublicKey:f,getSharedSecret:d,utils:h,lengths:m,Point:t,sign:q,verify:V,recoverPublicKey:x,Signature:M,hash:e})}function cB(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=pi(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function uB(t){const{CURVE:e,curveOpts:n}=cB(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function fB(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Hb(n.Fn.ORDER,n.Fn.BITS))})}function lB(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=uB(t),i=iB(e,n),o=aB(i,r,s);return fB(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dB(t,e){const n=r=>lB({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yh={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},hB={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Wp=BigInt(2);function pB(t){const e=Yh.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,f=u*u*t%e,d=nt(f,n,e)*f%e,h=nt(d,n,e)*f%e,m=nt(h,Wp,e)*u%e,w=nt(m,s,e)*m%e,E=nt(w,i,e)*w%e,_=nt(E,a,e)*E%e,k=nt(_,c,e)*_%e,O=nt(k,a,e)*E%e,M=nt(O,n,e)*f%e,U=nt(M,o,e)*w%e,$=nt(U,r,e)*u%e,j=nt($,Wp,e);if(!xd.eql(xd.sqr(j),t))throw new Error("Cannot find square root");return j}const xd=pi(Yh.p,{sqrt:pB}),mB=dB({...Yh,Fp:xd,lowS:!0,endo:hB},oo);nc.utils.randomPrivateKey;nc.getPublicKey;function Jp(t){try{return nc.ExtendedPoint.fromHex(t),!0}catch{return!1}}const F1=(t,e)=>nc.sign(t,e.slice(0,32)),yB=nc.verify,Qh=t=>ke.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ke.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ke.Buffer.from(t);class gB{constructor(e){Object.assign(this,e)}encode(){return ke.Buffer.from(c1(Rc,this))}static decode(e){return u1(Rc,this,e)}static decodeUnchecked(e){return r1(Rc,this,e)}}const Rc=new Map;var z1;const bB=32,ws=32;function wB(t){return t._bn!==void 0}let Yp=1;class Ae extends gB{constructor(e){if(super({}),this._bn=void 0,wB(e))this._bn=e._bn;else{if(typeof e=="string"){const n=cn.decode(e);if(n.length!=ws)throw new Error("Invalid public key input");this._bn=new Hp(n)}else this._bn=new Hp(e);if(this._bn.byteLength()>ws)throw new Error("Invalid public key input")}}static unique(){const e=new Ae(Yp);return Yp+=1,new Ae(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return cn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ke.Buffer);if(e.length===ws)return e;const n=ke.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=ke.Buffer.concat([e.toBuffer(),ke.Buffer.from(n),r.toBuffer()]),i=yl(s);return new Ae(i)}static createProgramAddressSync(e,n){let r=ke.Buffer.alloc(0);e.forEach(function(i){if(i.length>bB)throw new TypeError("Max seed length exceeded");r=ke.Buffer.concat([r,Qh(i)])}),r=ke.Buffer.concat([r,n.toBuffer(),ke.Buffer.from("ProgramDerivedAddress")]);const s=yl(r);if(Jp(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ae(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(ke.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ae(e);return Jp(n.toBytes())}}z1=Ae;Ae.default=new z1("11111111111111111111111111111111");Rc.set(Ae,{kind:"struct",fields:[["_bn","u256"]]});new Ae("BPFLoader1111111111111111111111111111111111");const Di=1280-40-8,Xh=127,hu=64;class pu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Re=(t="publicKey")=>Ve(32,t),vB=(t="signature")=>Ve(64,t),Ui=(t="string")=>{const e=le([me("length"),me("lengthPadding"),Ve(Zs(me(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:ke.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>me().span+me().span+ke.Buffer.from(i,"utf8").length,s},xB=(t="authorized")=>le([Re("staker"),Re("withdrawer")],t),EB=(t="lockup")=>le([_n("unixTimestamp"),_n("epoch"),Re("custodian")],t),SB=(t="voteInit")=>le([Re("nodePubkey"),Re("authorizedVoter"),Re("authorizedWithdrawer"),Ne("commission")],t),_B=(t="voteAuthorizeWithSeedArgs")=>le([me("voteAuthorizationType"),Re("currentAuthorityDerivedKeyOwnerPubkey"),Ui("currentAuthorityDerivedKeySeed"),Re("newAuthorized")],t);function An(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function In(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Rt(t,e){if(!t)throw new Error(e||"Assertion failed")}class cf{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new cf(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Rt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Rt(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Rt(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Ae(c)),...r.map(([c])=>new Ae(c)),...s.map(([c])=>new Ae(c)),...i.map(([c])=>new Ae(c))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Ae(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Rt(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const j1="Reached end of buffer unexpectedly";function Or(t){if(t.length===0)throw new Error(j1);return t.shift()}function Bn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(j1);return t.splice(...e)}class go{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Ae(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:cn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new pu(this.staticAccountKeys)}static compile(e){const n=cf.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new pu(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:cn.encode(a.data)}));return new go({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];In(n,e);const r=this.instructions.map(d=>{const{accounts:h,programIdIndex:m}=d,w=Array.from(cn.decode(d.data));let E=[];In(E,h.length);let _=[];return In(_,w.length),{programIdIndex:m,keyIndicesCount:ke.Buffer.from(E),keyIndices:h,dataLength:ke.Buffer.from(_),data:w}});let s=[];In(s,r.length);let i=ke.Buffer.alloc(Di);ke.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{const m=le([Ne("programIdIndex"),Ve(d.keyIndicesCount.length,"keyIndicesCount"),fn(Ne("keyIndex"),d.keyIndices.length,"keyIndices"),Ve(d.dataLength.length,"dataLength"),fn(Ne("userdatum"),d.data.length,"data")]).encode(d,i,o);o+=m}),i=i.slice(0,o);const a=le([Ve(1,"numRequiredSignatures"),Ve(1,"numReadonlySignedAccounts"),Ve(1,"numReadonlyUnsignedAccounts"),Ve(n.length,"keyCount"),fn(Re("key"),e,"keys"),Re("recentBlockhash")]),c={numRequiredSignatures:ke.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ke.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ke.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ke.Buffer.from(n),keys:this.accountKeys.map(d=>Qh(d.toBytes())),recentBlockhash:cn.decode(this.recentBlockhash)};let u=ke.Buffer.alloc(2048);const f=a.encode(c,u);return i.copy(u,f),u.slice(0,f+i.length)}static from(e){let n=[...e];const r=Or(n);if(r!==(r&Xh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Or(n),i=Or(n),o=An(n);let a=[];for(let h=0;h<o;h++){const m=Bn(n,0,ws);a.push(new Ae(ke.Buffer.from(m)))}const c=Bn(n,0,ws),u=An(n);let f=[];for(let h=0;h<u;h++){const m=Or(n),w=An(n),E=Bn(n,0,w),_=An(n),k=Bn(n,0,_),O=cn.encode(ke.Buffer.from(k));f.push({programIdIndex:m,accounts:E,data:O})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:cn.encode(ke.Buffer.from(c)),accountKeys:a,instructions:f};return new go(d)}}class mu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new pu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=cf.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const f of i){const d=n.extractTableLookup(f);if(d!==void 0){const[h,{writable:m,readonly:w}]=d;r.push(h),s.writable.push(...m),s.readonly.push(...w)}}const[o,a]=n.getMessageComponents(),u=new pu(a,s).compileInstructions(e.instructions);return new mu({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();In(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();In(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();In(i,this.addressTableLookups.length);const o=le([Ne("prefix"),le([Ne("numRequiredSignatures"),Ne("numReadonlySignedAccounts"),Ne("numReadonlyUnsignedAccounts")],"header"),Ve(e.length,"staticAccountKeysLength"),fn(Re(),this.staticAccountKeys.length,"staticAccountKeys"),Re("recentBlockhash"),Ve(r.length,"instructionsLength"),Ve(n.length,"serializedInstructions"),Ve(i.length,"addressTableLookupsLength"),Ve(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Di),c=128,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:cn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(Di);for(const r of this.compiledInstructions){const s=Array();In(s,r.accountKeyIndexes.length);const i=Array();In(i,r.data.length);const o=le([Ne("programIdIndex"),Ve(s.length,"encodedAccountKeyIndexesLength"),fn(Ne(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ve(i.length,"encodedDataLength"),Ve(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Di);for(const r of this.addressTableLookups){const s=Array();In(s,r.writableIndexes.length);const i=Array();In(i,r.readonlyIndexes.length);const o=le([Re("accountKey"),Ve(s.length,"encodedWritableIndexesLength"),fn(Ne(),r.writableIndexes.length,"writableIndexes"),Ve(i.length,"encodedReadonlyIndexesLength"),fn(Ne(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Or(n),s=r&Xh;Rt(r!==s,"Expected versioned message but received legacy message");const i=s;Rt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Or(n),numReadonlySignedAccounts:Or(n),numReadonlyUnsignedAccounts:Or(n)},a=[],c=An(n);for(let w=0;w<c;w++)a.push(new Ae(Bn(n,0,ws)));const u=cn.encode(Bn(n,0,ws)),f=An(n),d=[];for(let w=0;w<f;w++){const E=Or(n),_=An(n),k=Bn(n,0,_),O=An(n),M=new Uint8Array(Bn(n,0,O));d.push({programIdIndex:E,accountKeyIndexes:k,data:M})}const h=An(n),m=[];for(let w=0;w<h;w++){const E=new Ae(Bn(n,0,ws)),_=An(n),k=Bn(n,0,_),O=An(n),M=Bn(n,0,O);m.push({accountKey:E,writableIndexes:k,readonlyIndexes:M})}return new mu({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:m})}}const e0={deserializeMessageVersion(t){const e=t[0],n=e&Xh;return n===e?"legacy":n},deserialize:t=>{const e=e0.deserializeMessageVersion(t);if(e==="legacy")return go.from(t);if(e===0)return mu.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},AB=ke.Buffer.alloc(hu).fill(0);class Qp{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ke.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class yu{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Qp(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let E=0;E<n.length;E++)if(n[E].programId===void 0)throw new Error(`Transaction instruction index ${E} has undefined program id`);const s=[],i=[];n.forEach(E=>{E.keys.forEach(k=>{i.push({...k})});const _=E.programId.toString();s.includes(_)||s.push(_)}),s.forEach(E=>{i.push({pubkey:new Ae(E),isSigner:!1,isWritable:!1})});const o=[];i.forEach(E=>{const _=E.pubkey.toString(),k=o.findIndex(O=>O.pubkey.toString()===_);k>-1?(o[k].isWritable=o[k].isWritable||E.isWritable,o[k].isSigner=o[k].isSigner||E.isSigner):o.push(E)}),o.sort(function(E,_){if(E.isSigner!==_.isSigner)return E.isSigner?-1:1;if(E.isWritable!==_.isWritable)return E.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return E.pubkey.toBase58().localeCompare(_.pubkey.toBase58(),"en",k)});const a=o.findIndex(E=>E.pubkey.equals(r));if(a>-1){const[E]=o.splice(a,1);E.isSigner=!0,E.isWritable=!0,o.unshift(E)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const E of this.signatures){const _=o.findIndex(k=>k.pubkey.equals(E.publicKey));if(_>-1)o[_].isSigner||(o[_].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${E.publicKey.toString()}`)}let c=0,u=0,f=0;const d=[],h=[];o.forEach(({pubkey:E,isSigner:_,isWritable:k})=>{_?(d.push(E.toString()),c+=1,k||(u+=1)):(h.push(E.toString()),k||(f+=1))});const m=d.concat(h),w=n.map(E=>{const{data:_,programId:k}=E;return{programIdIndex:m.indexOf(k.toString()),accounts:E.keys.map(O=>m.indexOf(O.pubkey.toString())),data:cn.encode(_)}});return w.forEach(E=>{Rt(E.programIdIndex>=0),E.accounts.forEach(_=>Rt(_>=0))}),new go({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:f},accountKeys:m,recentBlockhash:e,instructions:w})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=F1(r,s.secretKey);this._addSignature(s.publicKey,Qh(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Rt(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ke.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):yB(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];In(r,n.length);const s=r.length+n.length*64+e.length,i=ke.Buffer.alloc(s);return Rt(n.length<256),ke.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(Rt(o.length===64,"signature has invalid length"),ke.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),Rt(i.length<=Di,`Transaction too large: ${i.length} > ${Di}`),i}get keys(){return Rt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Rt(this.instructions.length===1),this.instructions[0].programId}get data(){return Rt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=An(n);let s=[];for(let i=0;i<r;i++){const o=Bn(n,0,hu);s.push(cn.encode(ke.Buffer.from(o)))}return yu.populate(go.from(n),s)}static populate(e,n=[]){const r=new yu;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==cn.encode(AB)?null:cn.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Qp({keys:i,programId:e.accountKeys[s.programIdIndex],data:cn.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class t0{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Rt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(hu));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();In(n,this.signatures.length);const r=le([Ve(n.length,"encodedSignaturesLength"),fn(vB(),this.signatures.length,"signatures"),Ve(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=An(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Bn(n,0,hu)));const i=e0.deserialize(new Uint8Array(n));return new t0(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Rt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=F1(n,s.secretKey)}}addSignature(e,n){Rt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Rt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}new Ae("SysvarC1ock11111111111111111111111111111111");new Ae("SysvarEpochSchedu1e111111111111111111111111");new Ae("Sysvar1nstructions1111111111111111111111111");new Ae("SysvarRecentB1ockHashes11111111111111111111");new Ae("SysvarRent111111111111111111111111111111111");new Ae("SysvarRewards111111111111111111111111111111");new Ae("SysvarS1otHashes111111111111111111111111111");new Ae("SysvarS1otHistory11111111111111111111111111");new Ae("SysvarStakeHistory1111111111111111111111111");const IB=Lt("lamportsPerSignature"),BB=le([me("version"),me("state"),Re("authorizedPubkey"),Re("nonce"),le([IB],"feeCalculator")]);BB.span;function bo(t){const e=Ve(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=x3();return s.decode=(o,a)=>{const c=n(o,a);return i.decode(c)},s.encode=(o,a,c)=>{const u=i.encode(o);return r(u,a,c)},s}Object.freeze({Create:{index:0,layout:le([me("instruction"),_n("lamports"),_n("space"),Re("programId")])},Assign:{index:1,layout:le([me("instruction"),Re("programId")])},Transfer:{index:2,layout:le([me("instruction"),bo("lamports")])},CreateWithSeed:{index:3,layout:le([me("instruction"),Re("base"),Ui("seed"),_n("lamports"),_n("space"),Re("programId")])},AdvanceNonceAccount:{index:4,layout:le([me("instruction")])},WithdrawNonceAccount:{index:5,layout:le([me("instruction"),_n("lamports")])},InitializeNonceAccount:{index:6,layout:le([me("instruction"),Re("authorized")])},AuthorizeNonceAccount:{index:7,layout:le([me("instruction"),Re("authorized")])},Allocate:{index:8,layout:le([me("instruction"),_n("space")])},AllocateWithSeed:{index:9,layout:le([me("instruction"),Re("base"),Ui("seed"),_n("space"),Re("programId")])},AssignWithSeed:{index:10,layout:le([me("instruction"),Re("base"),Ui("seed"),Re("programId")])},TransferWithSeed:{index:11,layout:le([me("instruction"),bo("lamports"),Ui("seed"),Re("programId")])},UpgradeNonceAccount:{index:12,layout:le([me("instruction")])}});new Ae("11111111111111111111111111111111");new Ae("BPFLoader2111111111111111111111111111111111");le([me("typeIndex"),bo("deactivationSlot"),Lt("lastExtendedSlot"),Ne("lastExtendedStartIndex"),Ne(),fn(Re(),Zs(Ne(),-1),"authority")]);const at=ic(Wh(Ae),re(),t=>new Ae(t)),D1=Jh([re(),We("base64")]),n0=ic(Wh(ke.Buffer),D1,t=>ke.Buffer.from(t[0],"base64"));function q1(t){return hn([Q({jsonrpc:We("2.0"),id:re(),result:t}),Q({jsonrpc:We("2.0"),id:re(),error:Q({code:ko(),message:re(),data:pe(k3())})})])}const kB=q1(ko());function je(t){return ic(q1(t),kB,e=>"error"in e?e:{...e,result:ma(e.result,t)})}function or(t){return je(Q({context:Q({slot:G()}),value:t}))}function uf(t){return Q({context:Q({slot:G()}),value:t})}const MB=Q({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()});je(oe(ae(Q({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G(),commission:pe(ae(G()))}))));const RB=oe(Q({slot:G(),prioritizationFee:G()})),CB=Q({total:G(),validator:G(),foundation:G(),epoch:G()}),TB=Q({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:pe(G()),transactionCount:pe(G())}),PB=Q({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:yr(),firstNormalEpoch:G(),firstNormalSlot:G()}),OB=R1(re(),oe(G())),gi=ae(hn([Q({}),re()])),$B=Q({err:gi}),NB=We("receivedSignature");Q({"solana-core":re(),"feature-set":pe(G())});const UB=Q({program:re(),programId:at,parsed:ko()}),LB=Q({programId:at,accounts:oe(at),data:re()});or(Q({err:ae(hn([Q({}),re()])),logs:ae(oe(re())),accounts:pe(ae(oe(ae(Q({executable:yr(),owner:re(),lamports:G(),data:oe(re()),rentEpoch:pe(G())}))))),unitsConsumed:pe(G()),returnData:pe(ae(Q({programId:re(),data:Jh([re(),We("base64")])}))),innerInstructions:pe(ae(oe(Q({index:G(),instructions:oe(hn([UB,LB]))}))))}));or(Q({byIdentity:R1(re(),oe(G())),range:Q({firstSlot:G(),lastSlot:G()})}));je(MB);je(CB);je(RB);je(TB);je(PB);je(OB);je(G());or(Q({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:oe(at)}));const FB=Q({amount:re(),uiAmount:ae(G()),decimals:G(),uiAmountString:pe(re())});or(oe(Q({address:at,amount:re(),uiAmount:ae(G()),decimals:G(),uiAmountString:pe(re())})));or(oe(Q({pubkey:at,account:Q({executable:yr(),owner:at,lamports:G(),data:n0,rentEpoch:G()})})));const Ed=Q({program:re(),parsed:ko(),space:G()});or(oe(Q({pubkey:at,account:Q({executable:yr(),owner:at,lamports:G(),data:Ed,rentEpoch:G()})})));or(oe(Q({lamports:G(),address:at})));const r0=Q({executable:yr(),owner:at,lamports:G(),data:n0,rentEpoch:G()});Q({pubkey:at,account:r0});const zB=ic(hn([Wh(ke.Buffer),Ed]),hn([D1,Ed]),t=>Array.isArray(t)?ma(t,n0):t),jB=Q({executable:yr(),owner:at,lamports:G(),data:zB,rentEpoch:G()});Q({pubkey:at,account:jB});Q({state:hn([We("active"),We("inactive"),We("activating"),We("deactivating")]),active:G(),inactive:G()});je(oe(Q({signature:re(),slot:G(),err:gi,memo:ae(re()),blockTime:pe(ae(G()))})));je(oe(Q({signature:re(),slot:G(),err:gi,memo:ae(re()),blockTime:pe(ae(G()))})));Q({subscription:G(),result:uf(r0)});const DB=Q({pubkey:at,account:r0});Q({subscription:G(),result:uf(DB)});const qB=Q({parent:G(),slot:G(),root:G()});Q({subscription:G(),result:qB});const VB=hn([Q({type:hn([We("firstShredReceived"),We("completed"),We("optimisticConfirmation"),We("root")]),slot:G(),timestamp:G()}),Q({type:We("createdBank"),parent:G(),slot:G(),timestamp:G()}),Q({type:We("frozen"),slot:G(),timestamp:G(),stats:Q({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),Q({type:We("dead"),slot:G(),timestamp:G(),err:re()})]);Q({subscription:G(),result:VB});Q({subscription:G(),result:uf(hn([$B,NB]))});Q({subscription:G(),result:G()});Q({pubkey:re(),gossip:ae(re()),tpu:ae(re()),rpc:ae(re()),version:ae(re())});const Xp=Q({votePubkey:re(),nodePubkey:re(),activatedStake:G(),epochVoteAccount:yr(),epochCredits:oe(Jh([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:ae(G())});je(Q({current:oe(Xp),delinquent:oe(Xp)}));const HB=hn([We("processed"),We("confirmed"),We("finalized")]),KB=Q({slot:G(),confirmations:ae(G()),err:gi,confirmationStatus:pe(HB)});or(oe(ae(KB)));je(G());const V1=Q({accountKey:at,writableIndexes:oe(G()),readonlyIndexes:oe(G())}),s0=Q({signatures:oe(re()),message:Q({accountKeys:oe(re()),header:Q({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:oe(Q({accounts:oe(G()),data:re(),programIdIndex:G()})),recentBlockhash:re(),addressTableLookups:pe(oe(V1))})}),H1=Q({pubkey:at,signer:yr(),writable:yr(),source:pe(hn([We("transaction"),We("lookupTable")]))}),K1=Q({accountKeys:oe(H1),signatures:oe(re())}),G1=Q({parsed:ko(),program:re(),programId:at}),Z1=Q({accounts:oe(at),data:re(),programId:at}),GB=hn([Z1,G1]),ZB=hn([Q({parsed:ko(),program:re(),programId:re()}),Q({accounts:oe(re()),data:re(),programId:re()})]),W1=ic(GB,ZB,t=>"accounts"in t?ma(t,Z1):ma(t,G1)),J1=Q({signatures:oe(re()),message:Q({accountKeys:oe(H1),instructions:oe(W1),recentBlockhash:re(),addressTableLookups:pe(ae(oe(V1)))})}),gu=Q({accountIndex:G(),mint:re(),owner:pe(re()),programId:pe(re()),uiTokenAmount:FB}),Y1=Q({writable:oe(at),readonly:oe(at)}),ff=Q({err:gi,fee:G(),innerInstructions:pe(ae(oe(Q({index:G(),instructions:oe(Q({accounts:oe(G()),data:re(),programIdIndex:G()}))})))),preBalances:oe(G()),postBalances:oe(G()),logMessages:pe(ae(oe(re()))),preTokenBalances:pe(ae(oe(gu))),postTokenBalances:pe(ae(oe(gu))),loadedAddresses:pe(Y1),computeUnitsConsumed:pe(G()),costUnits:pe(G())}),i0=Q({err:gi,fee:G(),innerInstructions:pe(ae(oe(Q({index:G(),instructions:oe(W1)})))),preBalances:oe(G()),postBalances:oe(G()),logMessages:pe(ae(oe(re()))),preTokenBalances:pe(ae(oe(gu))),postTokenBalances:pe(ae(oe(gu))),loadedAddresses:pe(Y1),computeUnitsConsumed:pe(G()),costUnits:pe(G())}),Mo=hn([We(0),We("legacy")]),bi=Q({pubkey:re(),lamports:G(),postBalance:ae(G()),rewardType:ae(re()),commission:pe(ae(G()))});je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),transactions:oe(Q({transaction:s0,meta:ae(ff),version:pe(Mo)})),rewards:pe(oe(bi)),blockTime:ae(G()),blockHeight:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),rewards:pe(oe(bi)),blockTime:ae(G()),blockHeight:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),transactions:oe(Q({transaction:K1,meta:ae(ff),version:pe(Mo)})),rewards:pe(oe(bi)),blockTime:ae(G()),blockHeight:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),transactions:oe(Q({transaction:J1,meta:ae(i0),version:pe(Mo)})),rewards:pe(oe(bi)),blockTime:ae(G()),blockHeight:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),transactions:oe(Q({transaction:K1,meta:ae(i0),version:pe(Mo)})),rewards:pe(oe(bi)),blockTime:ae(G()),blockHeight:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),rewards:pe(oe(bi)),blockTime:ae(G()),blockHeight:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),transactions:oe(Q({transaction:s0,meta:ae(ff)})),rewards:pe(oe(bi)),blockTime:ae(G())})));je(ae(Q({blockhash:re(),previousBlockhash:re(),parentSlot:G(),signatures:oe(re()),blockTime:ae(G())})));je(ae(Q({slot:G(),meta:ae(ff),blockTime:pe(ae(G())),transaction:s0,version:pe(Mo)})));je(ae(Q({slot:G(),transaction:J1,meta:ae(i0),blockTime:pe(ae(G())),version:pe(Mo)})));or(Q({blockhash:re(),lastValidBlockHeight:G()}));or(yr());const WB=Q({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()});je(oe(WB));or(ae(Q({feeCalculator:Q({lamportsPerSignature:G()})})));je(re());je(re());const JB=Q({err:gi,logs:oe(re()),signature:re()});Q({result:uf(JB),subscription:G()});Object.freeze({CreateLookupTable:{index:0,layout:le([me("instruction"),bo("recentSlot"),Ne("bumpSeed")])},FreezeLookupTable:{index:1,layout:le([me("instruction")])},ExtendLookupTable:{index:2,layout:le([me("instruction"),bo(),fn(Re(),Zs(me(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:le([me("instruction")])},CloseLookupTable:{index:4,layout:le([me("instruction")])}});new Ae("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:le([Ne("instruction"),me("units"),me("additionalFee")])},RequestHeapFrame:{index:1,layout:le([Ne("instruction"),me("bytes")])},SetComputeUnitLimit:{index:2,layout:le([Ne("instruction"),me("units")])},SetComputeUnitPrice:{index:3,layout:le([Ne("instruction"),bo("microLamports")])}});new Ae("ComputeBudget111111111111111111111111111111");le([Ne("numSignatures"),Ne("padding"),Dn("signatureOffset"),Dn("signatureInstructionIndex"),Dn("publicKeyOffset"),Dn("publicKeyInstructionIndex"),Dn("messageDataOffset"),Dn("messageDataSize"),Dn("messageInstructionIndex")]);new Ae("Ed25519SigVerify111111111111111111111111111");mB.utils.isValidPrivateKey;le([Ne("numSignatures"),Dn("signatureOffset"),Ne("signatureInstructionIndex"),Dn("ethAddressOffset"),Ne("ethAddressInstructionIndex"),Dn("messageDataOffset"),Dn("messageDataSize"),Ne("messageInstructionIndex"),Ve(20,"ethAddress"),Ve(64,"signature"),Ne("recoveryId")]);new Ae("KeccakSecp256k11111111111111111111111111111");var Q1;new Ae("StakeConfig11111111111111111111111111111111");class X1{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}Q1=X1;X1.default=new Q1(0,0,Ae.default);Object.freeze({Initialize:{index:0,layout:le([me("instruction"),xB(),EB()])},Authorize:{index:1,layout:le([me("instruction"),Re("newAuthorized"),me("stakeAuthorizationType")])},Delegate:{index:2,layout:le([me("instruction")])},Split:{index:3,layout:le([me("instruction"),_n("lamports")])},Withdraw:{index:4,layout:le([me("instruction"),_n("lamports")])},Deactivate:{index:5,layout:le([me("instruction")])},Merge:{index:7,layout:le([me("instruction")])},AuthorizeWithSeed:{index:8,layout:le([me("instruction"),Re("newAuthorized"),me("stakeAuthorizationType"),Ui("authoritySeed"),Re("authorityOwner")])}});new Ae("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:le([me("instruction"),SB()])},Authorize:{index:1,layout:le([me("instruction"),Re("newAuthorized"),me("voteAuthorizationType")])},Withdraw:{index:3,layout:le([me("instruction"),_n("lamports")])},UpdateValidatorIdentity:{index:4,layout:le([me("instruction")])},AuthorizeWithSeed:{index:10,layout:le([me("instruction"),_B()])}});new Ae("Vote111111111111111111111111111111111111111");new Ae("Va1idator1nfo111111111111111111111111111111");Q({name:re(),website:pe(re()),details:pe(re()),iconUrl:pe(re()),keybaseUsername:pe(re())});new Ae("Vote111111111111111111111111111111111111111");le([Re("nodePubkey"),Re("authorizedWithdrawer"),Ne("commission"),Lt(),fn(le([Lt("slot"),me("confirmationCount")]),Zs(me(),-8),"votes"),Ne("rootSlotValid"),Lt("rootSlot"),Lt(),fn(le([Lt("epoch"),Re("authorizedVoter")]),Zs(me(),-8),"authorizedVoters"),le([fn(le([Re("authorizedPubkey"),Lt("epochOfLastAuthorizedSwitch"),Lt("targetEpoch")]),32,"buf"),Lt("idx"),Ne("isEmpty")],"priorVoters"),Lt(),fn(le([Lt("epoch"),Lt("credits"),Lt("prevCredits")]),Zs(me(),-8),"epochCredits"),le([Lt("slot"),Lt("timestamp")],"lastTimestamp")]);const YB=t=>({request:t,signMessage:e=>t({method:"signMessage",params:{message:e}}),signTransaction:e=>t({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>t({method:"signAndSendTransaction",params:e})});function em(t){return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64")}function QB(t){const e=Buffer.from(t,"base64");return e0.deserializeMessageVersion(e)==="legacy"?t0.deserialize(e):yu.from(e)}function XB(t){return async n=>{if(n.method==="connect")return await t(n);if(n.method==="signMessage")return await t(n);if(n.method==="signAndSendTransaction"){const{transaction:r}=n.params,s={transaction:em(r)};return await t({method:"signAndSendTransaction",params:s})}if(n.method==="signTransaction"){const{transaction:r}=n.params,s={transaction:em(r)},{signedTransaction:i}=await t({method:"signTransaction",params:s});return{signedTransaction:QB(i)}}}}const e4=({miniAppHost:t,emitter:e})=>{let n,r=null;return{visible:!1,get onback(){return r},set onback(s){r&&e.removeListener("backNavigationTriggered",r),r=s,s&&e.addListener("backNavigationTriggered",s)},async show(){await t.updateBackState({visible:!0}),this.visible=!0},async hide(){await t.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){n=t4({back:this,emitter:e})},async disableWebNavigation(){n==null||n(),n=void 0}}};function t4({emitter:t,back:e}){const n=n4();if(n)return r4({emitter:t,back:e,navigation:n});if(typeof window<"u")return s4({emitter:t,back:e,window})}function n4(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function r4({emitter:t,back:e,navigation:n}){function r(){n.canGoBack?e.show():e.hide()}function s(){e.visible&&n.canGoBack&&n.back()}return n.addEventListener("navigatesuccess",r),t.addListener("backNavigationTriggered",s),()=>{n.removeEventListener("navigatesuccess",r),t.removeListener("backNavigationTriggered",s)}}function s4({emitter:t,back:e,window:n}){e.show();function r(){e.visible&&n.history.back()}return t.addListener("backNavigationTriggered",r),()=>{t.removeListener("backNavigationTriggered",r)}}const i4="0.1.1";function o4(){return i4}let a4=class Sd extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof Sd){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof Sd&&n.cause.docsPath||n.docsPath)(),o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${o4()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return ew(this,e)}};function ew(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?ew(t.cause,e):e?null:t}function tw(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error){const{code:s}=r.error,i=(()=>s===wo.code?wo:s===ya.code?ya:s===Aa.code?Aa:s===Sa.code?Sa:s===xa.code?xa:s===_a.code?_a:s===va.code?va:s===Ia.code?Ia:s===ga.code?ga:s===ba.code?ba:s===wa.code?wa:s===Ea.code?Ea:En)();throw new i(r.error)}return r.result}let En=class extends Error{constructor(e){const{code:n,message:r,data:s}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.data=s}};class ya extends En{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:ya.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ga extends En{constructor(e={}){super({message:"Requested resource not found.",...e,code:ga.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ba extends En{constructor(e={}){super({message:"Requested resource not available.",...e,code:ba.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class wa extends En{constructor(e={}){super({message:"Transaction creation failed.",...e,code:wa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class va extends En{constructor(e={}){super({message:"Method is not implemented.",...e,code:va.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(va,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class xa extends En{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:xa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(xa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ea extends En{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:Ea.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(Ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Sa extends En{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:Sa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(Sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class _a extends En{constructor(e={}){super({message:"Method does not exist.",...e,code:_a.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(_a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Aa extends En{constructor(e={}){super({message:"Invalid method parameters.",...e,code:Aa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wo extends En{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:wo.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ia extends En{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:Ia.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(Ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class wi extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class nw extends wi{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(nw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rw extends wi{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(rw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class sw extends wi{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(sw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class iw extends wi{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(iw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ow extends wi{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(ow,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function c4(){const t=new la;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function u4(t,e={}){var r,s;const{includeEvents:n=!0}=e;if(!t)throw new f4;return{...n?{on:(r=t.on)==null?void 0:r.bind(t),removeListener:(s=t.removeListener)==null?void 0:s.bind(t)}:{},async request(i){const o=await t.request(i);return o&&typeof o=="object"&&"jsonrpc"in o?tw(o):o}}}class f4 extends a4{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function l4(t={}){let e=t.id??0;return{prepare(n){return d4({id:e++,...n})},get id(){return e}}}function d4(t){return{...t,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aw=Symbol("Comlink.proxy"),h4=Symbol("Comlink.endpoint"),p4=Symbol("Comlink.releaseProxy"),pl=Symbol("Comlink.finalizer"),Cc=Symbol("Comlink.thrown"),cw=t=>typeof t=="object"&&t!==null||typeof t=="function",m4={canHandle:t=>cw(t)&&t[aw],serialize(t){const{port1:e,port2:n}=new MessageChannel;return fw(t,e),[n,[n]]},deserialize(t){return t.start(),dw(t)}},y4={canHandle:t=>cw(t)&&Cc in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},uw=new Map([["proxy",m4],["throw",y4]]);function g4(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function fw(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(s){if(!s||!s.data)return;if(!g4(n,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}const{id:i,type:o,path:a}=Object.assign({path:[]},s.data),c=(s.data.argumentList||[]).map(ks);let u;try{const f=a.slice(0,-1).reduce((h,m)=>h[m],t),d=a.reduce((h,m)=>h[m],t);switch(o){case"GET":u=d;break;case"SET":f[a.slice(-1)[0]]=ks(s.data.value),u=!0;break;case"APPLY":u=d.apply(f,c);break;case"CONSTRUCT":{const h=new d(...c);u=S4(h)}break;case"ENDPOINT":{const{port1:h,port2:m}=new MessageChannel;fw(t,m),u=E4(h,[h])}break;case"RELEASE":u=void 0;break;default:return}}catch(f){u={value:f,[Cc]:0}}Promise.resolve(u).catch(f=>({value:f,[Cc]:0})).then(f=>{const[d,h]=vu(f);e.postMessage(Object.assign(Object.assign({},d),{id:i}),h),o==="RELEASE"&&(e.removeEventListener("message",r),lw(e),pl in t&&typeof t[pl]=="function"&&t[pl]())}).catch(f=>{const[d,h]=vu({value:new TypeError("Unserializable return value"),[Cc]:0});e.postMessage(Object.assign(Object.assign({},d),{id:i}),h)})}),e.start&&e.start()}function b4(t){return t.constructor.name==="MessagePort"}function lw(t){b4(t)&&t.close()}function dw(t,e){const n=new Map;return t.addEventListener("message",function(s){const{data:i}=s;if(!i||!i.id)return;const o=n.get(i.id);if(o)try{o(i)}finally{n.delete(i.id)}}),_d(t,n,[],e)}function _c(t){if(t)throw new Error("Proxy has been released and is not useable")}function hw(t){return Ti(t,new Map,{type:"RELEASE"}).then(()=>{lw(t)})}const bu=new WeakMap,wu="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(bu.get(t)||0)-1;bu.set(t,e),e===0&&hw(t)});function w4(t,e){const n=(bu.get(e)||0)+1;bu.set(e,n),wu&&wu.register(t,e,t)}function v4(t){wu&&wu.unregister(t)}function _d(t,e,n=[],r=function(){}){let s=!1;const i=new Proxy(r,{get(o,a){if(_c(s),a===p4)return()=>{v4(i),hw(t),e.clear(),s=!0};if(a==="then"){if(n.length===0)return{then:()=>i};const c=Ti(t,e,{type:"GET",path:n.map(u=>u.toString())}).then(ks);return c.then.bind(c)}return _d(t,e,[...n,a])},set(o,a,c){_c(s);const[u,f]=vu(c);return Ti(t,e,{type:"SET",path:[...n,a].map(d=>d.toString()),value:u},f).then(ks)},apply(o,a,c){_c(s);const u=n[n.length-1];if(u===h4)return Ti(t,e,{type:"ENDPOINT"}).then(ks);if(u==="bind")return _d(t,e,n.slice(0,-1));const[f,d]=tm(c);return Ti(t,e,{type:"APPLY",path:n.map(h=>h.toString()),argumentList:f},d).then(ks)},construct(o,a){_c(s);const[c,u]=tm(a);return Ti(t,e,{type:"CONSTRUCT",path:n.map(f=>f.toString()),argumentList:c},u).then(ks)}});return w4(i,t),i}function x4(t){return Array.prototype.concat.apply([],t)}function tm(t){const e=t.map(vu);return[e.map(n=>n[0]),x4(e.map(n=>n[1]))]}const pw=new WeakMap;function E4(t,e){return pw.set(t,e),t}function S4(t){return Object.assign(t,{[aw]:!0})}function _4(t,e=globalThis,n="*"){return{postMessage:(r,s)=>t.postMessage(r,n,s),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function vu(t){for(const[e,n]of uw)if(n.canHandle(t)){const[r,s]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},s]}return[{type:"RAW",value:t},pw.get(t)||[]]}function ks(t){switch(t.type){case"HANDLER":return uw.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Ti(t,e,n,r){return new Promise(s=>{const i=A4();e.set(i,s),t.start&&t.start(),t.postMessage(Object.assign({id:i},n),r)})}function A4(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const I4={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},B4={postMessage:t=>{window.ReactNativeWebView.postMessage(JSON.stringify(t))},addEventListener:(t,e,...n)=>{document.addEventListener("FarcasterFrameCallback",e,...n)},removeEventListener:(t,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},k4=(()=>typeof window>"u"?I4:window!=null&&window.ReactNativeWebView?B4:_4((window==null?void 0:window.parent)??window))(),_e=dw(k4),o0=c4(),M4=l4();function R4({code:t,details:e}){switch(t){case 4001:return new nw;case 4100:return new rw;case 4200:return new sw;case 4900:return new iw;case 4901:return new ow;default:return new wi(t,e??"Unknown provider RPC error")}}const Ba=u4({...o0,async request(t){const e=M4.prepare(t);try{const n=await _e.ethProviderRequestV2(e).then(r=>tw(r,{request:e,raw:!0}));if(n.error)throw R4(n.error);return n.result}catch(n){if(n instanceof Error&&n.message.match(/cannot read property 'apply'/i))return await _e.ethProviderRequest(e);throw n instanceof wi||n instanceof En?n:new wo({message:n instanceof Error?n.message:void 0})}}});async function C4(){try{const t=await _e.getCapabilities();return!t.includes("wallet.getEthereumProvider")&&!t.includes("wallet.getEvmProvider")?void 0:Ba}catch{return Ba}}function mw(t){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(t)});window.dispatchEvent(e);const n=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{_e.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",t=>{if(t instanceof MessageEvent){const e=t.data;o0.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="eip6963:announceProvider"&&mw({info:e.info,provider:Ba})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{_e.eip6963RequestProvider()}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEthProviderEvent"){const e=t.data;o0.emit(e.event,...e.params)}}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="eip6963:announceProvider"&&mw({info:e.info,provider:Ba})}}));new TextEncoder;const yw=new TextDecoder,T4=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},P4=t=>{let e=t;e instanceof Uint8Array&&(e=yw.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return T4(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},O4=P4;function $4(t){return typeof t=="object"&&t!==null}function N4(t){if(!$4(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}class pn extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}pn.code="ERR_JOSE_GENERIC";class U4 extends pn{constructor(e,n,r="unspecified",s="unspecified"){super(e,{cause:{claim:r,reason:s,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=s,this.payload=n}}U4.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class L4 extends pn{constructor(e,n,r="unspecified",s="unspecified"){super(e,{cause:{claim:r,reason:s,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=s,this.payload=n}}L4.code="ERR_JWT_EXPIRED";class F4 extends pn{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}F4.code="ERR_JOSE_ALG_NOT_ALLOWED";class z4 extends pn{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}z4.code="ERR_JOSE_NOT_SUPPORTED";class j4 extends pn{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}j4.code="ERR_JWE_DECRYPTION_FAILED";class D4 extends pn{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}D4.code="ERR_JWE_INVALID";class q4 extends pn{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}q4.code="ERR_JWS_INVALID";class es extends pn{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}es.code="ERR_JWT_INVALID";class V4 extends pn{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}V4.code="ERR_JWK_INVALID";class H4 extends pn{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}H4.code="ERR_JWKS_INVALID";class K4 extends pn{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}K4.code="ERR_JWKS_NO_MATCHING_KEY";class G4 extends pn{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}G4.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class Z4 extends pn{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}Z4.code="ERR_JWKS_TIMEOUT";class W4 extends pn{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}W4.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function J4(t){if(typeof t!="string")throw new es("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new es("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new es("Invalid JWT");if(!e)throw new es("JWTs must contain a payload");let r;try{r=O4(e)}catch{throw new es("Failed to base64url decode the payload")}let s;try{s=JSON.parse(yw.decode(r))}catch{throw new es("Failed to parse the decoded payload as JSON")}if(!N4(s))throw new es("Invalid JWT Claims Set");return s}function Y4(t){return J4(t)}class lf extends Error{constructor(e,n={}){const r=(()=>{var i;if(n.cause instanceof lf){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(s,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.cause=n.cause,this.details=r,this.shortMessage=e}}class gw extends lf{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class Q4 extends lf{constructor(e){super(e),this.name="InvalidToken"}}async function X4({origin:t}){const e=await fetch(`${t}/nonce`,{method:"POST"});if(!e.ok)throw new gw({status:e.status});return await e.json()}async function ek({origin:t},e){const n=await fetch(`${t}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!n.ok)throw new gw({status:n.status});const r=await n.json();if(r.valid===!1)throw new Q4(r.message??"unknown");return{token:r.token}}function tk(t={}){return{origin:t.origin??"https://auth.farcaster.xyz"}}function nk(t={}){const e=tk(t);return{generateNonce:()=>X4(e),verifySiwf:n=>ek(e,n)}}const rk=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,sk=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ik(t){var d,h,m;const{scheme:e,statement:n,...r}=((d=t.match(rk))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((h=t.match(sk))==null?void 0:h.groups)??{},f=(m=t.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const nm=(()=>{let t,e;async function n(r){const s=nk({origin:r.quickAuthServerOrigin}),{nonce:i}=await s.generateNonce(),o=await _e.signIn({nonce:i,acceptAuthAddress:!0});if(o.result){const a=ik(o.result.message);if(!a.domain)throw new Error("Missing domain on SIWE message");const c=await s.verifySiwf({domain:a.domain,message:o.result.message,signature:o.result.signature});return t={token:c.token,payload:Y4(c.token)},c}throw o.error.type==="rejected_by_user"?new _b:new Error("Unreachable")}return{get token(){if(t&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3))return t.token},async getToken(r={}){const s=r.force??!1;return t&&!s&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:t.token}:(e||(e=n(r)),e.finally(()=>{e=void 0}),e)},async fetch(r,s){const{token:i}=await this.getToken(),o=new Headers(s==null?void 0:s.headers);return o.set("Authorization",`Bearer ${i}`),fetch(r,{...s,headers:o})}}})();function ok(){const t=new la;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}const Xt=ok(),{solanaProviderRequest:rm}=_e;let bw;rm&&(bw=YB(XB(rm)));async function sm(){let t;try{t=await _e.getCapabilities()}catch{}if(t!=null&&t.includes("wallet.getSolanaProvider"))return bw}let im=null;async function ak(t=50){if(im===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([_e.context.then(n=>!!n),new Promise(n=>{setTimeout(()=>n(!1),t)})]).catch(()=>!1);return e&&(im=!0),e}const om=async()=>{const t=await _e.addFrame();if(t.result)return t.result;throw t.error.type==="invalid_domain_manifest"?new OA:t.error.type==="rejected_by_user"?new $A:new Error("Unreachable")},ww={...Xt,getCapabilities:_e.getCapabilities,getChains:_e.getChains,isInMiniApp:ak,context:_e.context,back:e4({miniAppHost:_e,emitter:Xt}),quickAuth:nm,actions:{setPrimaryButton:_e.setPrimaryButton.bind(_e),ready:async(t={})=>await _e.ready(t),close:_e.close.bind(_e),viewCast:_e.viewCast.bind(_e),viewProfile:_e.viewProfile.bind(_e),openMiniApp:_e.openMiniApp.bind(_e),signIn:async t=>{const e=await _e.signIn(t);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new _b:new Error("Unreachable")},openUrl:t=>{const e=typeof t=="string"?t:t.url;return _e.openUrl(e.trim())},addFrame:om,addMiniApp:om,composeCast(t={}){return _e.composeCast(t)},viewToken:_e.viewToken.bind(_e),sendToken:_e.sendToken.bind(_e),swapToken:_e.swapToken.bind(_e),requestCameraAndMicrophoneAccess:_e.requestCameraAndMicrophoneAccess.bind(_e)},experimental:{getSolanaProvider:sm,quickAuth(t){return nm.getToken(t)}},wallet:{ethProvider:Ba,getEthereumProvider:C4,getSolanaProvider:sm},haptics:{impactOccurred:_e.impactOccurred.bind(_e),notificationOccurred:_e.notificationOccurred.bind(_e),selectionChanged:_e.selectionChanged.bind(_e)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="primary_button_clicked"?Xt.emit("primaryButtonClicked"):e.event==="miniapp_added"?Xt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Xt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Xt.emit("miniAppRemoved"):e.event==="notifications_enabled"?Xt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Xt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Xt.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="primary_button_clicked"?Xt.emit("primaryButtonClicked"):e.event==="miniapp_added"?Xt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?Xt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?Xt.emit("miniAppRemoved"):e.event==="notifications_enabled"?Xt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?Xt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&Xt.emit("backNavigationTriggered")}});typeof console<"u"&&console.warn&&console.warn("@farcaster/frame-sdk is deprecated. Please use @farcaster/miniapp-sdk instead.");const kr=ww;let am=!1;new Proxy(_e,{get(t,e,n){return!am&&typeof console<"u"&&console.warn&&(am=!0,console.warn("frameHost is deprecated. Please use miniAppHost instead.")),Reflect.get(t,e,n)}});class ck{constructor(){this.clientMeta=null,this.initPromise=null}async init({isMiniKit:e}){if(this.isInitialized()){console.warn("ClientMetaManager already initialized");return}this.initPromise=this.handleInit({isMiniKit:e})}isInitialized(){return!!this.initPromise}async getClientMeta(){if(!this.initPromise)throw new Error("ClientMetaManager not initialized");return this.clientMeta?this.clientMeta:await this.initPromise}async handleInit({isMiniKit:e}){var n;let r=null;try{const s=await kr.context;r=((n=s==null?void 0:s.client)==null?void 0:n.clientFid)||null}catch(s){console.error("Error getting client FID",s)}return this.clientMeta={mode:e?"minikit":"onchainkit",clientFid:r},this.clientMeta}}const Ad=new ck;function uk(){return"0.38.19"}const fk=uk(),lk={"Content-Type":"application/json","OnchainKit-Version":fk};function dk(t,e){return{apiKey:Nc("apiKey")??"undefined",sessionId:Nc("sessionId")??"undefined",timestamp:Date.now(),eventType:t,data:e,origin:window.location.origin}}async function hk(t,e){var n;const r=Nc("config");if(r!=null&&r.analytics)try{const s=await Ad.getClientMeta();await fetch((r==null?void 0:r.analyticsUrl)??PA,{method:"POST",headers:{...lk,"OnchainKit-App-Name":document.title,"OnchainKit-Client-Fid":((n=s.clientFid)==null?void 0:n.toString())??"","OnchainKit-Mode":s.mode},body:JSON.stringify(dk(t,e))})}catch{}}const pk=(t,e)=>hk(t,e);var vw=(t=>(t.ComponentError="componentError",t))(vw||{});class mk extends ye.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),pk(vw.ComponentError,{component:"OnchainKitProviderBoundary",error:e.message,metadata:{message:e.message,stack:n.componentStack}})}render(){if(this.state.error){if(this.props.fallback){const e=this.props.fallback;return jt.jsx(e,{error:this.state.error})}return jt.jsx("h1",{children:"Sorry, we had an unhandled error"})}return this.props.children}}const yk="https://base.org/privacy-policy",gk="https://base.org/terms-of-service";zo.id+"",Oc.id+"";const bk="0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9";function wk(t,e){return new RegExp(`^0x[a-fA-F0-9]{${e}}$`).test(t)}const vk=t=>{const e=new Uint8Array(t);return crypto.getRandomValues(e),e},xk=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=vk(16);return t[0].toString(16).padStart(2,"0")+t[1].toString(16).padStart(2,"0")+t[2].toString(16).padStart(2,"0")+t[3].toString(16).padStart(2,"0")+"-"+t[4].toString(16).padStart(2,"0")+t[5].toString(16).padStart(2,"0")+"-"+(t[6]&15|64).toString(16).padStart(2,"0")+t[7].toString(16).padStart(2,"0")+"-"+(t[8]&63|128).toString(16).padStart(2,"0")+t[9].toString(16).padStart(2,"0")+"-"+t[10].toString(16).padStart(2,"0")+t[11].toString(16).padStart(2,"0")+t[12].toString(16).padStart(2,"0")+t[13].toString(16).padStart(2,"0")+t[14].toString(16).padStart(2,"0")+t[15].toString(16).padStart(2,"0")};a0.type="farcasterMiniApp";let Bi,ki,Mi;function a0(){return t=>({id:"farcaster",name:"Farcaster",rdns:"xyz.farcaster.MiniAppWallet",icon:"https://imagedelivery.net/BXluQx4ige9GuW0Ia56BHw/055c25d6-7fe7-4a49-abf9-49772021cf00/original",type:a0.type,async connect({chainId:e}={}){var o,a;const n=await this.getProvider(),r=await n.request({method:"eth_requestAccounts"});let s=e;if(!s){const c=await((o=t.storage)==null?void 0:o.getItem("state"))??{};t.chains.some(f=>f.id===c.chainId)?s=c.chainId:s=(a=t.chains[0])==null?void 0:a.id}if(!s)throw new Error("No chains found on connector.");Bi||(Bi=this.onAccountsChanged.bind(this),n.on("accountsChanged",Bi)),ki||(ki=this.onChainChanged.bind(this),n.on("chainChanged",ki)),Mi||(Mi=this.onDisconnect.bind(this),n.on("disconnect",Mi));let i=await this.getChainId();return s&&i!==s&&(i=(await this.switchChain({chainId:s})).id),{accounts:r.map(c=>qt(c)),chainId:i}},async disconnect(){const e=await this.getProvider();Bi&&(e.removeListener("accountsChanged",Bi),Bi=void 0),ki&&(e.removeListener("chainChanged",ki),ki=void 0),Mi&&(e.removeListener("disconnect",Mi),Mi=void 0)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(r=>qt(r))},async getChainId(){const n=await(await this.getProvider()).request({method:"eth_chainId"});return zw(n,"number")},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:e}){const n=await this.getProvider(),r=t.chains.find(s=>s.id===e);if(!r)throw new vn(new ii);return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:ee(e)}]}),t.emitter.emit("change",{chainId:e}),r},onAccountsChanged(e){e.length===0?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(n=>qt(n))})},onChainChanged(e){const n=Number(e);t.emitter.emit("change",{chainId:n})},async onDisconnect(){t.emitter.emit("disconnect")},async getProvider(){return ww.wallet.ethProvider}})}const xw=a0;xw.type="farcasterFrame";function Ek(){const{data:t,...e}=E6({queryKey:["useIsInMiniApp"],queryFn:async()=>!!await kr.context});return{...e,isInMiniApp:t}}const Sk=new Set(["farcasterFrame","farcasterMiniApp"]);function _k({children:t,enabled:e=!0}){const{isConnected:n,isConnecting:r}=xA(),{connectors:s,connect:i}=_A(),o=ye.useRef(!1),a=s[0],{isInMiniApp:c,isSuccess:u}=Ek();return ye.useEffect(()=>{if(!e||o.current||!Sk.has(a==null?void 0:a.type)||!u)return;o.current=!0;async function f(){!c||n||r||i({connector:a})}f()},[s,i,n,r,a,e,u,c]),jt.jsx(jt.Fragment,{children:t})}const Ak={},Ew=ye.createContext(Ak);function iM({children:t,notificationProxyUrl:e="/api/notify",autoConnect:n=!0,...r}){var s,i,o,a,c,u;const[f,d]=ye.useState(null);ye.useEffect(()=>{kr.on("miniAppAdded",({notificationDetails:_})=>{_&&h({details:_,frameAdded:!0})}),kr.on("miniAppAddRejected",({reason:_})=>{console.error("Mini app add rejected",_)}),kr.on("miniAppRemoved",()=>{h({details:void 0,frameAdded:!1})}),kr.on("notificationsEnabled",({notificationDetails:_})=>{h({details:_})}),kr.on("notificationsDisabled",()=>{h({details:void 0})});async function E(){try{const _=await kr.context;d(_)}catch(_){console.error("Error fetching context:",_)}}return E(),()=>{kr.removeAllListeners()}},[]);const h=ye.useCallback(({details:E,frameAdded:_})=>{d(k=>k?{...k,client:{...k.client,notificationDetails:E??void 0,added:_??k.client.added}}:null)},[]),m=ye.useMemo(()=>{var E,_;return[f?xw():Xa({appName:{}.NEXT_PUBLIC_ONCHAINKIT_PROJECT_NAME,appLogoUrl:{}.NEXT_PUBLIC_ICON_URL,preference:(_=(E=r.config)==null?void 0:E.wallet)==null?void 0:_.preference})]},[f,(i=(s=r.config)==null?void 0:s.wallet)==null?void 0:i.preference]),w=ye.useMemo(()=>({context:f,updateClientContext:h,notificationProxyUrl:e,__isMiniKit:!0}),[h,e,f]);return jt.jsx(Ew.Provider,{value:w,children:jt.jsx(Sb,{connectors:m,children:jt.jsx(Ik,{...r,children:jt.jsx(_k,{enabled:n,children:jt.jsx("div",{style:{paddingTop:((o=f==null?void 0:f.client.safeAreaInsets)==null?void 0:o.top)??0,paddingBottom:((a=f==null?void 0:f.client.safeAreaInsets)==null?void 0:a.bottom)??0,paddingLeft:((c=f==null?void 0:f.client.safeAreaInsets)==null?void 0:c.left)??0,paddingRight:((u=f==null?void 0:f.client.safeAreaInsets)==null?void 0:u.right)??0},children:t})})})})})}function Ik({address:t,analytics:e,apiKey:n,chain:r,children:s,config:i,projectId:o,rpcUrl:a,schemaId:c}){var u;if(c&&!wk(c,64))throw Error('EAS schemaId must be 64 characters prefixed with "0x"');const f=ye.useMemo(()=>xk(),[]),d=!!((u=ye.useContext(Ew))!=null&&u.__isMiniKit);ye.useEffect(()=>{Ad.isInitialized()||Ad.init({isMiniKit:d})},[d]);const h=ye.useMemo(()=>{var m,w,E,_,k,O,M,U,$,j,z,H,R,q,L;const V=n?`https://api.developer.coinbase.com/rpc/v1/${r.name.replace(" ","-").toLowerCase()}/${n}`:null,x={address:t??null,apiKey:n??null,chain:r,config:{analytics:e??!0,analyticsUrl:(i==null?void 0:i.analyticsUrl)??null,appearance:{name:((m=i==null?void 0:i.appearance)==null?void 0:m.name)??"Dapp",logo:((w=i==null?void 0:i.appearance)==null?void 0:w.logo)??"",mode:((E=i==null?void 0:i.appearance)==null?void 0:E.mode)??"auto",theme:((_=i==null?void 0:i.appearance)==null?void 0:_.theme)??"default"},paymaster:(i==null?void 0:i.paymaster)||V,wallet:{display:((k=i==null?void 0:i.wallet)==null?void 0:k.display)??"classic",preference:((O=i==null?void 0:i.wallet)==null?void 0:O.preference)??"all",signUpEnabled:((M=i==null?void 0:i.wallet)==null?void 0:M.signUpEnabled)??!0,termsUrl:((U=i==null?void 0:i.wallet)==null?void 0:U.termsUrl)||gk,privacyUrl:(($=i==null?void 0:i.wallet)==null?void 0:$.privacyUrl)||yk,supportedWallets:{rabby:((z=(j=i==null?void 0:i.wallet)==null?void 0:j.supportedWallets)==null?void 0:z.rabby)??!1,trust:((R=(H=i==null?void 0:i.wallet)==null?void 0:H.supportedWallets)==null?void 0:R.trust)??!1,frame:((L=(q=i==null?void 0:i.wallet)==null?void 0:q.supportedWallets)==null?void 0:L.frame)??!1}}},projectId:o??null,rpcUrl:a??null,schemaId:c??bk,sessionId:f};return q2(x),x},[t,e,n,r,i,o,a,c,f]);return jt.jsx(Eb.Provider,{value:h,children:jt.jsx(Sb,{children:jt.jsx(mk,{children:s})})})}export{c_ as $,Je as A,Y as B,Jk as C,qk as D,la as E,jw as F,cp as G,qt as H,zr as I,Nr as J,Va as K,Fk as L,Ew as M,Rn as N,Qa as O,e1 as P,Yk as Q,C8 as R,ke as S,R8 as T,hh as U,Tm as V,Vk as W,rr as X,Hk as Y,Iy as Z,ge as _,iM as a,Bu as a0,Xn as a1,My as a2,F2 as a3,Tl as a4,L2 as a5,lx as a6,P6 as a7,Gk as a8,Cn as a9,Xd as aa,nh as ab,Fr as ac,km as ad,Bt as ae,jr as af,_o as ag,lb as ah,pi as ai,dB as aj,oo as ak,Pk as al,Cv as am,Oc as b,Wk as c,Su as d,Ak as e,nr as f,Dg as g,gc as h,Mt as i,jt as j,QS as k,$t as l,Ys as m,ee as n,Dt as o,Vs as p,Mn as q,kn as r,kr as s,ln as t,S6 as u,j6 as v,Kk as w,gr as x,Kr as y,ro as z};
