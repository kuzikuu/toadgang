var kp=Object.defineProperty;var Bp=(t,e,n)=>e in t?kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nr=(t,e,n)=>(Bp(t,typeof e!="symbol"?e+"":e,n),n),Ic=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var T=(t,e,n)=>(Ic(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},se=(t,e,n,r)=>(Ic(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Oo=(t,e,n,r)=>({set _(s){se(t,e,s,n)},get _(){return T(t,e,r)}}),Ae=(t,e,n)=>(Ic(t,e,"access private method"),n);import{r as ie,a as Mp,g as Ru,b as Cu,c as In,R as Rp}from"./vendor-e72fc605.js";import{S as Cp,a as Op,X as Tp}from"./icons-17698402.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lf={exports:{}},Fa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=ie,Up=Symbol.for("react.element"),Lp=Symbol.for("react.fragment"),Np=Object.prototype.hasOwnProperty,Fp=Pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jp={key:!0,ref:!0,__self:!0,__source:!0};function df(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Np.call(e,r)&&!jp.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Up,type:t,key:i,ref:o,props:s,_owner:Fp.current}}Fa.Fragment=Lp;Fa.jsx=df;Fa.jsxs=df;lf.exports=Fa;var Y=lf.exports,ff,Dl=Mp;ff=Dl.createRoot,Dl.hydrateRoot;function ja(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const hf="2.33.3";let pi={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${hf}`},ye=class Yc extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Yc?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof Yc&&n.cause.docsPath||n.docsPath)(),i=(a=pi.getDocsUrl)==null?void 0:a.call(pi,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...pi.version?[`Version: ${pi.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=hf}walk(e){return pf(this,e)}};function pf(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?pf(t.cause,e):e?null:t}class zp extends ye{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class QE extends ye{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class $p extends ye{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class Dp extends ye{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function vo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Br(t){return vo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Sr(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}class mf extends ye{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class gf extends ye{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class XE extends ye{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function oi(t,{dir:e,size:n=32}={}){return typeof t=="string"?qp(t,{dir:e,size:n}):Kp(t,{dir:e,size:n})}function qp(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new gf({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Kp(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new gf({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}const Vp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xr(t,e={}){return typeof t=="number"||typeof t=="bigint"?xe(t,e):typeof t=="string"?yf(t,e):typeof t=="boolean"?Hp(t,e):Pr(t,e)}function Hp(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ur(n,{size:e.size}),oi(n,{size:e.size})):n}function Pr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Vp[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ur(r,{size:e.size}),oi(r,{dir:"right",size:e.size})):r}function xe(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new zp({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?oi(a,{size:r}):a}const Zp=new TextEncoder;function yf(t,e={}){const n=Zp.encode(t);return Pr(n,e)}const Wp=new TextEncoder;function wf(t,e={}){return typeof t=="number"||typeof t=="bigint"?Jp(t,e):typeof t=="boolean"?Gp(t,e):vo(t)?Qn(t,e):bf(t,e)}function Gp(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ur(n,{size:e.size}),oi(n,{size:e.size})):n}const zn={zero:48,nine:57,A:65,F:70,a:97,f:102};function ql(t){if(t>=zn.zero&&t<=zn.nine)return t-zn.zero;if(t>=zn.A&&t<=zn.F)return t-(zn.A-10);if(t>=zn.a&&t<=zn.f)return t-(zn.a-10)}function Qn(t,e={}){let n=t;e.size&&(Ur(n,{size:e.size}),n=oi(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=ql(r.charCodeAt(a++)),l=ql(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ye(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Jp(t,e){const n=xe(t,e);return Qn(n)}function bf(t,e={}){const n=Wp.encode(t);return typeof e.size=="number"?(Ur(n,{size:e.size}),oi(n,{dir:"right",size:e.size})):n}function Ur(t,{size:e}){if(Br(t)>e)throw new Dp({givenSize:Br(t),maxSize:e})}function Yp(t,e){const n=typeof e=="string"?{to:e}:e,r=n.to;return r==="number"?xi(t,n):r==="bigint"?Lr(t,n):r==="string"?Xp(t,n):r==="boolean"?Qp(t,n):Qn(t,n)}function Lr(t,e={}){const{signed:n}=e;e.size&&Ur(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Qp(t,e={}){let n=t;if(e.size&&(Ur(n,{size:e.size}),n=Sr(n)),Sr(n)==="0x00")return!1;if(Sr(n)==="0x01")return!0;throw new $p(n)}function xi(t,e={}){return Number(Lr(t,e))}function Xp(t,e={}){let n=Qn(t);return e.size&&(Ur(n,{size:e.size}),n=Sr(n,{dir:"right"})),new TextDecoder().decode(n)}function Ou(t,e){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=e(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:t})}const vf={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Tu(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?xi(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?xi(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?vf[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=tm(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const em=Ou("transaction",Tu);function tm(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function nm(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Tu(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const rm=Ou("block",nm);function sm(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const im={"0x0":"reverted","0x1":"success"};function om(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>sm(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?xi(t.transactionIndex):null,status:t.status?im[t.status]:null,type:t.type?vf[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const am=Ou("transactionReceipt",om),Pu=2n**256n-1n;function e_(t){return typeof t[0]=="string"?ai(t):cm(t)}function cm(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function ai(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Kl extends ye{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class um extends ye{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class lm extends ye{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const dm={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new lm({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new um({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Kl({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Kl({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function xf(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(dm);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function ss(t,e="hex"){const n=Ef(t),r=xf(new Uint8Array(n.length));return n.encode(r),e==="hex"?Pr(r.bytes):r.bytes}function Ef(t){return Array.isArray(t)?fm(t.map(e=>Ef(e))):hm(t)}function fm(t){const e=t.reduce((s,i)=>s+i.length,0),n=_f(e);return{length:(()=>e<=55?1+e:1+n+e)(),encode(s){e<=55?s.pushByte(192+e):(s.pushByte(192+55+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function hm(t){const e=typeof t=="string"?Qn(t):t,n=_f(e.length);return{length:(()=>e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length)(),encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(128+55+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function _f(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ye("Length is too large.")}const t_={gwei:9,wei:18},pm={ether:-9,wei:9};function mm(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Xo(t,e="wei"){return mm(t,pm[e])}function gm(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class n_ extends ye{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class ym extends ye{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class wm extends ye{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",gm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class bm extends ye{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class r_ extends ye{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class s_ extends ye{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class i_ extends ye{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function vm(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:s,...i}=n,o=n.address;e.push([r?Xr(r):"0x",o,s?Xr(s):"0x",...Eo({},i)])}return e}function Sf(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Qn(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Pr(i))}function If(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Qn(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Qn(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Pr(o))}const ws=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ei(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xn(t,...e){if(!xo(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Af(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ei(t.outputLen),Ei(t.blockLen)}function Gs(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kf(t,e){Xn(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function xm(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Mr(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ac(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Bn(t,e){return t<<32-e|t>>>e}const Em=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function _m(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Sm(t){for(let e=0;e<t.length;e++)t[e]=_m(t[e]);return t}const Vl=Em?t=>t:Sm,Bf=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),Im=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function es(t){if(Xn(t),Bf)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Im[t[n]];return e}const $n={_0:48,_9:57,A:65,F:70,a:97,f:102};function Hl(t){if(t>=$n._0&&t<=$n._9)return t-$n._0;if(t>=$n.A&&t<=$n.F)return t-($n.A-10);if(t>=$n.a&&t<=$n.f)return t-($n.a-10)}function ea(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Bf)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Hl(t.charCodeAt(i)),a=Hl(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Am(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function za(t){return typeof t=="string"&&(t=Am(t)),Xn(t),t}function Tn(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Xn(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Uu{}function $a(t){const e=r=>t().update(za(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Lu(t=32){if(ws&&typeof ws.getRandomValues=="function")return ws.getRandomValues(new Uint8Array(t));if(ws&&typeof ws.randomBytes=="function")return Uint8Array.from(ws.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function km(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Bm(t,e,n){return t&e^~t&n}function Mm(t,e,n){return t&e^t&n^e&n}class Mf extends Uu{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Ac(this.buffer)}update(e){Gs(this),e=za(e),Xn(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Ac(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gs(this),kf(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Mr(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let g=o;g<s;g++)n[g]=0;km(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Ac(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,m=this.get();if(l>m.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<l;g++)a.setUint32(4*g,m[g],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const rr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pt=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ut=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),To=BigInt(2**32-1),Zl=BigInt(32);function Rm(t,e=!1){return e?{h:Number(t&To),l:Number(t>>Zl&To)}:{h:Number(t>>Zl&To)|0,l:Number(t&To)|0}}function Rf(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Rm(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const Wl=(t,e,n)=>t>>>n,Gl=(t,e,n)=>t<<32-n|e>>>n,bs=(t,e,n)=>t>>>n|e<<32-n,vs=(t,e,n)=>t<<32-n|e>>>n,Po=(t,e,n)=>t<<64-n|e>>>n-32,Uo=(t,e,n)=>t>>>n-32|e<<64-n,Cm=(t,e,n)=>t<<n|e>>>32-n,Om=(t,e,n)=>e<<n|t>>>32-n,Tm=(t,e,n)=>e<<n-32|t>>>64-n,Pm=(t,e,n)=>t<<n-32|e>>>64-n;function Dn(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Um=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Lm=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Nm=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Fm=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,jm=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),zm=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,$m=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sr=new Uint32Array(64);class Dm extends Mf{constructor(e=32){super(64,e,8,!1),this.A=rr[0]|0,this.B=rr[1]|0,this.C=rr[2]|0,this.D=rr[3]|0,this.E=rr[4]|0,this.F=rr[5]|0,this.G=rr[6]|0,this.H=rr[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let g=0;g<16;g++,n+=4)sr[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=sr[g-15],b=sr[g-2],k=Bn(y,7)^Bn(y,18)^y>>>3,A=Bn(b,17)^Bn(b,19)^b>>>10;sr[g]=A+sr[g-7]+k+sr[g-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:m}=this;for(let g=0;g<64;g++){const y=Bn(a,6)^Bn(a,11)^Bn(a,25),b=m+y+Bm(a,c,l)+$m[g]+sr[g]|0,A=(Bn(r,2)^Bn(r,13)^Bn(r,22))+Mm(r,s,i)|0;m=l,l=c,c=a,a=o+b|0,o=i,i=s,s=r,r=b+A|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,m=m+this.H|0,this.set(r,s,i,o,a,c,l,m)}roundClean(){Mr(sr)}destroy(){this.set(0,0,0,0,0,0,0,0),Mr(this.buffer)}}const Cf=(()=>Rf(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),qm=(()=>Cf[0])(),Km=(()=>Cf[1])(),ir=new Uint32Array(80),or=new Uint32Array(80);class Of extends Mf{constructor(e=64){super(128,e,16,!1),this.Ah=Ut[0]|0,this.Al=Ut[1]|0,this.Bh=Ut[2]|0,this.Bl=Ut[3]|0,this.Ch=Ut[4]|0,this.Cl=Ut[5]|0,this.Dh=Ut[6]|0,this.Dl=Ut[7]|0,this.Eh=Ut[8]|0,this.El=Ut[9]|0,this.Fh=Ut[10]|0,this.Fl=Ut[11]|0,this.Gh=Ut[12]|0,this.Gl=Ut[13]|0,this.Hh=Ut[14]|0,this.Hl=Ut[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:m,Fh:g,Fl:y,Gh:b,Gl:k,Hh:A,Hl:M}=this;return[e,n,r,s,i,o,a,c,l,m,g,y,b,k,A,M]}set(e,n,r,s,i,o,a,c,l,m,g,y,b,k,A,M){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=m|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=k|0,this.Hh=A|0,this.Hl=M|0}process(e,n){for(let C=0;C<16;C++,n+=4)ir[C]=e.getUint32(n),or[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const z=ir[C-15]|0,N=or[C-15]|0,D=bs(z,N,1)^bs(z,N,8)^Wl(z,N,7),$=vs(z,N,1)^vs(z,N,8)^Gl(z,N,7),H=ir[C-2]|0,L=or[C-2]|0,Z=bs(H,L,19)^Po(H,L,61)^Wl(H,L,6),G=vs(H,L,19)^Uo(H,L,61)^Gl(H,L,6),ee=Nm($,G,or[C-7],or[C-16]),x=Fm(ee,D,Z,ir[C-7],ir[C-16]);ir[C]=x|0,or[C]=ee|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:m,Eh:g,El:y,Fh:b,Fl:k,Gh:A,Gl:M,Hh:O,Hl:F}=this;for(let C=0;C<80;C++){const z=bs(g,y,14)^bs(g,y,18)^Po(g,y,41),N=vs(g,y,14)^vs(g,y,18)^Uo(g,y,41),D=g&b^~g&A,$=y&k^~y&M,H=jm(F,N,$,Km[C],or[C]),L=zm(H,O,z,D,qm[C],ir[C]),Z=H|0,G=bs(r,s,28)^Po(r,s,34)^Po(r,s,39),ee=vs(r,s,28)^Uo(r,s,34)^Uo(r,s,39),x=r&i^r&a^i&a,u=s&o^s&c^o&c;O=A|0,F=M|0,A=b|0,M=k|0,b=g|0,k=y|0,{h:g,l:y}=Dn(l|0,m|0,L|0,Z|0),l=a|0,m=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const p=Um(Z,ee,u);r=Lm(p,L,G,x),s=p|0}({h:r,l:s}=Dn(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Dn(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Dn(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:m}=Dn(this.Dh|0,this.Dl|0,l|0,m|0),{h:g,l:y}=Dn(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:k}=Dn(this.Fh|0,this.Fl|0,b|0,k|0),{h:A,l:M}=Dn(this.Gh|0,this.Gl|0,A|0,M|0),{h:O,l:F}=Dn(this.Hh|0,this.Hl|0,O|0,F|0),this.set(r,s,i,o,a,c,l,m,g,y,b,k,A,M,O,F)}roundClean(){Mr(ir,or)}destroy(){Mr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Vm extends Of{constructor(){super(48),this.Ah=Pt[0]|0,this.Al=Pt[1]|0,this.Bh=Pt[2]|0,this.Bl=Pt[3]|0,this.Ch=Pt[4]|0,this.Cl=Pt[5]|0,this.Dh=Pt[6]|0,this.Dl=Pt[7]|0,this.Eh=Pt[8]|0,this.El=Pt[9]|0,this.Fh=Pt[10]|0,this.Fl=Pt[11]|0,this.Gh=Pt[12]|0,this.Gl=Pt[13]|0,this.Hh=Pt[14]|0,this.Hl=Pt[15]|0}}const Tf=$a(()=>new Dm),Hm=$a(()=>new Of),o_=$a(()=>new Vm),Qc=Tf;function Zm(t,e){const n=e||"hex",r=Qc(vo(t,{strict:!1})?wf(t):t);return n==="bytes"?r:Xr(r)}function Wm(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=Zm(e,"bytes");return s.set([n],0),r==="bytes"?s:Pr(s)}function Gm(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(Wm({commitment:i,to:r,version:n}));return s}const Jl=6,Pf=32,Nu=4096,Uf=Pf*Nu,Yl=Uf*Jl-1-1*Nu*Jl,Lf=1;class Jm extends ye{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Nf extends ye{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ym extends ye{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Qm extends ye{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${Lf}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Xm(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Qn(t.data):t.data,r=Br(n);if(!r)throw new Nf;if(r>Yl)throw new Jm({maxSize:Yl,size:r});const s=[];let i=!0,o=0;for(;i;){const a=xf(new Uint8Array(Uf));let c=0;for(;c<Nu;){const l=n.slice(o,o+(Pf-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>Pr(a.bytes))}function eg(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??Xm({data:e,to:r}),i=t.commitments??Sf({blobs:s,kzg:n,to:r}),o=t.proofs??If({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}class Rr extends ye{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class a_ extends ye{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class c_ extends ye{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Da extends ye{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class Ff extends ye{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ff,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class qa extends ye{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Xo(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(qa,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class tg extends ye{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Xo(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(tg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ng extends ye{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(ng,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class rg extends ye{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(rg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class sg extends ye{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(sg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class ig extends ye{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(ig,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class og extends ye{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(og,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ag extends ye{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ag,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class cg extends ye{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(cg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class jf extends ye{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Xo(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Xo(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(jf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class u_ extends ye{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}class Fu extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const ug=BigInt(0),mi=BigInt(1),lg=BigInt(2),dg=BigInt(7),fg=BigInt(256),hg=BigInt(113),zf=[],$f=[],Df=[];for(let t=0,e=mi,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],zf.push(2*(5*r+n)),$f.push((t+1)*(t+2)/2%64);let s=ug;for(let i=0;i<7;i++)e=(e<<mi^(e>>dg)*hg)%fg,e&lg&&(s^=mi<<(mi<<BigInt(i))-mi);Df.push(s)}const qf=Rf(Df,!0),pg=qf[0],mg=qf[1],Ql=(t,e,n)=>n>32?Tm(t,e,n):Cm(t,e,n),Xl=(t,e,n)=>n>32?Pm(t,e,n):Om(t,e,n);function gg(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],m=n[c+1],g=Ql(l,m,1)^n[a],y=Xl(l,m,1)^n[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=$f[o],c=Ql(s,i,a),l=Xl(s,i,a),m=zf[o];s=t[m],i=t[m+1],t[m]=c,t[m+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=pg[r],t[1]^=mg[r]}Mr(n)}class ju extends Uu{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Ei(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xm(this.state)}clone(){return this._cloneInto()}keccak(){Vl(this.state32),gg(this.state32,this.rounds),Vl(this.state32),this.posOut=0,this.pos=0}update(e){Gs(this),e=za(e),Xn(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Gs(this,!1),Xn(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ei(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kf(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mr(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new ju(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const yg=(t,e,n)=>$a(()=>new ju(e,t,n)),wg=(()=>yg(1,136,256/8))();function bg(t,e){const n=e||"hex",r=wg(vo(t,{strict:!1})?wf(t):t);return n==="bytes"?r:Xr(r)}const kc=new Fu(8192);function Kf(t,e){if(kc.has(`${t}.${e}`))return kc.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=bg(bf(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return kc.set(`${t}.${e}`,i),i}function $t(t,e){if(!Cr(t,{strict:!1}))throw new Rr({address:t});return Kf(t,e)}const vg=/^0x[a-fA-F0-9]{40}$/,Bc=new Fu(8192);function Cr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Bc.has(r))return Bc.get(r);const s=(()=>vg.test(t)?t.toLowerCase()===t?!0:n?Kf(t)===t:!0:!1)();return Bc.set(r,s),s}function xg(t,e,n,{strict:r}={}){return vo(t,{strict:!1})?_g(t,e,n,{strict:r}):Eg(t,e,n,{strict:r})}function Vf(t,e){if(typeof e=="number"&&e>0&&e>Br(t)-1)throw new mf({offset:e,position:"start",size:Br(t)})}function Hf(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Br(t)!==n-e)throw new mf({offset:n,position:"end",size:Br(t)})}function Eg(t,e,n,{strict:r}={}){Vf(t,e);const s=t.slice(e,n);return r&&Hf(s,e,n),s}function _g(t,e,n,{strict:r}={}){Vf(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&Hf(s,e,n),s}function Sg(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,s=n.address;if(!Cr(s))throw new Rr({address:s});if(r<0)throw new Da({chainId:r})}zu(t)}function Ig(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new Nf;for(const n of e){const r=Br(n),s=xi(xg(n,0,1));if(r!==32)throw new Ym({hash:n,size:r});if(s!==Lf)throw new Qm({hash:n,version:s})}}zu(t)}function zu(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=t;if(e<=0)throw new Da({chainId:e});if(s&&!Cr(s))throw new Rr({address:s});if(r&&r>Pu)throw new qa({maxFeePerGas:r});if(n&&r&&n>r)throw new jf({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Ag(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(e<=0)throw new Da({chainId:e});if(i&&!Cr(i))throw new Rr({address:i});if(n||s)throw new ye("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Pu)throw new qa({maxFeePerGas:r})}function kg(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(i&&!Cr(i))throw new Rr({address:i});if(typeof e<"u"&&e<=0)throw new Da({chainId:e});if(n||s)throw new ye("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Pu)throw new qa({maxFeePerGas:r})}function Bg(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new wm({transaction:t})}function Ka(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:s}=t[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new bm({storageKey:s[i]});if(!Cr(r,{strict:!1}))throw new Rr({address:r});e.push([r,s])}return e}function Mg(t,e){const n=Bg(t);return n==="eip1559"?Og(t,e):n==="eip2930"?Tg(t,e):n==="eip4844"?Cg(t,e):n==="eip7702"?Rg(t,e):Pg(t,e)}function Rg(t,e){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:m,data:g}=t;Sg(t);const y=Ka(m),b=vm(n);return ai(["0x04",ss([xe(r),i?xe(i):"0x",l?xe(l):"0x",c?xe(c):"0x",s?xe(s):"0x",o??"0x",a?xe(a):"0x",g??"0x",y,b,...Eo(t,e)])])}function Cg(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:m,data:g}=t;Ig(t);let y=t.blobVersionedHashes,b=t.sidecars;if(t.blobs&&(typeof y>"u"||typeof b>"u")){const C=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(D=>Pr(D)),z=t.kzg,N=Sf({blobs:C,kzg:z});if(typeof y>"u"&&(y=Gm({commitments:N})),typeof b>"u"){const D=If({blobs:C,commitments:N,kzg:z});b=eg({blobs:C,commitments:N,proofs:D})}}const k=Ka(m),A=[xe(n),s?xe(s):"0x",l?xe(l):"0x",c?xe(c):"0x",r?xe(r):"0x",i??"0x",o?xe(o):"0x",g??"0x",k,a?xe(a):"0x",y??[],...Eo(t,e)],M=[],O=[],F=[];if(b)for(let C=0;C<b.length;C++){const{blob:z,commitment:N,proof:D}=b[C];M.push(z),O.push(N),F.push(D)}return ai(["0x03",ss(b?[A,M,O,F]:A)])}function Og(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:m}=t;zu(t);const g=Ka(l),y=[xe(n),s?xe(s):"0x",c?xe(c):"0x",a?xe(a):"0x",r?xe(r):"0x",i??"0x",o?xe(o):"0x",m??"0x",g,...Eo(t,e)];return ai(["0x02",ss(y)])}function Tg(t,e){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:l}=t;Ag(t);const m=Ka(c),g=[xe(n),i?xe(i):"0x",l?xe(l):"0x",r?xe(r):"0x",o??"0x",a?xe(a):"0x",s??"0x",m,...Eo(t,e)];return ai(["0x01",ss(g)])}function Pg(t,e){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;kg(t);let l=[i?xe(i):"0x",c?xe(c):"0x",r?xe(r):"0x",o??"0x",a?xe(a):"0x",s??"0x"];if(e){const m=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const b=27n+(e.v===27n?0n:1n);if(e.v!==b)throw new ym({v:e.v});return b})(),g=Sr(e.r),y=Sr(e.s);l=[...l,xe(m),g==="0x00"?"0x":g,y==="0x00"?"0x":y]}else n>0&&(l=[...l,xe(n),"0x","0x"]);return ss(l)}function Eo(t,e){const n=e??t,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Sr(n.r),o=Sr(n.s);return[(()=>typeof s=="number"?s?xe(1):"0x":r===0n?"0x":r===1n?xe(1):r===27n?"0x":xe(1))(),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}const Ug={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Lg={block:rm({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Tu(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?Lr(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:em({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Lr(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:am({format(t){return{l1GasPrice:t.l1GasPrice?Lr(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Lr(t.l1GasUsed):null,l1Fee:t.l1Fee?Lr(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Ng(t,e){return zg(t)?jg(t):Mg(t,e)}const Fg={transaction:Ng};function jg(t){$g(t);const{sourceHash:e,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=t,l=[e,r,a??"0x",o?Xr(o):"0x",c?Xr(c):"0x",s?Xr(s):"0x",i?"0x1":"0x",n??"0x"];return ai(["0x7e",ss(l)])}function zg(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function $g(t){const{from:e,to:n}=t;if(e&&!Cr(e))throw new Rr({address:e});if(n&&!Cr(n))throw new Rr({address:n})}const ta={blockTime:2e3,contracts:Ug,formatters:Lg,serializers:Fg},gi=1,_i=ja({...ta,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ta.contracts,disputeGameFactory:{[gi]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[gi]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[gi]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[gi]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:gi});({..._i});const yi=11155111,Si=ja({...ta,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...ta.contracts,disputeGameFactory:{[yi]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[yi]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[yi]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[yi]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:yi});({...Si});function Dg(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const ts=(t,e,n)=>JSON.stringify(t,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(r,i):i},n),l_=t=>t,$u=t=>t;class vi extends ye{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${$u(o)}`,e&&`Request body: ${ts(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class Zf extends ye{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${$u(r)}`,`Request body: ${ts(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ed extends ye{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${$u(n)}`,`Request body: ${ts(e)}`],name:"TimeoutError"})}}const qg=-1;class nn extends ye{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Zf?e.code:n??qg}}let dn=class extends nn{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class Ii extends nn{constructor(e){super(e,{code:Ii.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ai extends nn{constructor(e){super(e,{code:Ai.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ai,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ki extends nn{constructor(e,{method:n}={}){super(e,{code:ki.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(ki,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bi extends nn{constructor(e){super(e,{code:Bi.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Js extends nn{constructor(e){super(e,{code:Js.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Js,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Mi extends nn{constructor(e){super(e,{code:Mi.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ri extends nn{constructor(e){super(e,{code:Ri.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ir extends nn{constructor(e){super(e,{code:Ir.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ci extends nn{constructor(e){super(e,{code:Ci.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class zr extends nn{constructor(e,{method:n}={}){super(e,{code:zr.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ys extends nn{constructor(e){super(e,{code:Ys.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ys,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Oi extends nn{constructor(e){super(e,{code:Oi.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let rt=class Wf extends dn{constructor(e){super(e,{code:Wf.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ti extends dn{constructor(e){super(e,{code:Ti.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Pi extends dn{constructor(e,{method:n}={}){super(e,{code:Pi.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Pi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ui extends dn{constructor(e){super(e,{code:Ui.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ui,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let Xc=class Gf extends dn{constructor(e){super(e,{code:Gf.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(Xc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class tn extends dn{constructor(e){super(e,{code:tn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Li extends dn{constructor(e){super(e,{code:Li.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Li,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Ni extends dn{constructor(e){super(e,{code:Ni.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Ni,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Fi extends dn{constructor(e){super(e,{code:Fi.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class ji extends dn{constructor(e){super(e,{code:ji.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class zi extends dn{constructor(e){super(e,{code:zi.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(zi,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class $i extends dn{constructor(e){super(e,{code:$i.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty($i,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Di extends dn{constructor(e){super(e,{code:Di.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Di,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Kg extends nn{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Du={address:null,apiKey:null,chain:Si,config:{analytics:!0,analyticsUrl:null,appearance:{name:null,logo:null,mode:null,theme:null},paymaster:null,wallet:{display:null,termsUrl:null,privacyUrl:null,supportedWallets:{rabby:!1,trust:!1,frame:!1}}},rpcUrl:null,schemaId:null,projectId:null,sessionId:null},na=t=>Du[t],Vg=t=>(Object.assign(Du,t),na);var ci=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},is=typeof window>"u"||"Deno"in globalThis;function Kt(){}function Hg(t,e){return typeof t=="function"?t(e):t}function eu(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jf(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ar(t,e){return typeof t=="function"?t(e):t}function gn(t,e){return typeof t=="function"?t(e):t}function td(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qu(o,e.options))return!1}else if(!qi(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nd(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(os(e.options.mutationKey)!==os(i))return!1}else if(!qi(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qu(t,e){return((e==null?void 0:e.queryKeyHashFn)||os)(t)}function os(t){return JSON.stringify(t,(e,n)=>tu(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function qi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qi(t[n],e[n])):!1}function Yf(t,e){if(t===e)return t;const n=rd(t)&&rd(e);if(n||tu(t)&&tu(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let m=0;m<o;m++){const g=n?m:i[m];(!n&&c.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(a[g]=void 0,l++):(a[g]=Yf(t[g],e[g]),a[g]===t[g]&&t[g]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ra(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rd(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tu(t){if(!sd(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sd(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zg(t){return new Promise(e=>{setTimeout(e,t)})}function nu(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Yf(t,e):e}function Wg(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Gg(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ku=Symbol();function Qf(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ku?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Xf(t,e){return typeof t=="function"?t(...e):!!t}var Kr,dr,Us,Xd,Jg=(Xd=class extends ci{constructor(){super();ue(this,Kr,void 0);ue(this,dr,void 0);ue(this,Us,void 0);se(this,Us,e=>{if(!is&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,dr)||this.setEventListener(T(this,Us))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,dr))==null||e.call(this),se(this,dr,void 0))}setEventListener(e){var n;se(this,Us,e),(n=T(this,dr))==null||n.call(this),se(this,dr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){T(this,Kr)!==e&&(se(this,Kr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof T(this,Kr)=="boolean"?T(this,Kr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Kr=new WeakMap,dr=new WeakMap,Us=new WeakMap,Xd),Vu=new Jg,Ls,fr,Ns,ef,Yg=(ef=class extends ci{constructor(){super();ue(this,Ls,!0);ue(this,fr,void 0);ue(this,Ns,void 0);se(this,Ns,e=>{if(!is&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,fr)||this.setEventListener(T(this,Ns))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,fr))==null||e.call(this),se(this,fr,void 0))}setEventListener(e){var n;se(this,Ns,e),(n=T(this,fr))==null||n.call(this),se(this,fr,e(this.setOnline.bind(this)))}setOnline(e){T(this,Ls)!==e&&(se(this,Ls,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return T(this,Ls)}},Ls=new WeakMap,fr=new WeakMap,Ns=new WeakMap,ef),sa=new Yg;function ru(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Qg(t){return Math.min(1e3*2**t,3e4)}function eh(t){return(t??"online")==="online"?sa.isOnline():!0}var th=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nh(t){let e=!1,n=0,r;const s=ru(),i=()=>s.status!=="pending",o=A=>{var M;i()||(y(new th(A)),(M=t.abort)==null||M.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>Vu.isFocused()&&(t.networkMode==="always"||sa.isOnline())&&t.canRun(),m=()=>eh(t.networkMode)&&t.canRun(),g=A=>{i()||(r==null||r(),s.resolve(A))},y=A=>{i()||(r==null||r(),s.reject(A))},b=()=>new Promise(A=>{var M;r=O=>{(i()||l())&&A(O)},(M=t.onPause)==null||M.call(t)}).then(()=>{var A;r=void 0,i()||(A=t.onContinue)==null||A.call(t)}),k=()=>{if(i())return;let A;const M=n===0?t.initialPromise:void 0;try{A=M??t.fn()}catch(O){A=Promise.reject(O)}Promise.resolve(A).then(g).catch(O=>{var D;if(i())return;const F=t.retry??(is?0:3),C=t.retryDelay??Qg,z=typeof C=="function"?C(n,O):C,N=F===!0||typeof F=="number"&&n<F||typeof F=="function"&&F(n,O);if(e||!N){y(O);return}n++,(D=t.onFail)==null||D.call(t,n,O),Zg(z).then(()=>l()?void 0:b()).then(()=>{e?y(O):k()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:m,start:()=>(m()?k():b().then(k),s)}}var Xg=t=>setTimeout(t,0);function ey(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=Xg;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var It=ey(),Vr,tf,rh=(tf=class{constructor(){ue(this,Vr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eu(this.gcTime)&&se(this,Vr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(is?1/0:5*60*1e3))}clearGcTimeout(){T(this,Vr)&&(clearTimeout(T(this,Vr)),se(this,Vr,void 0))}},Vr=new WeakMap,tf),Fs,js,mn,Hr,kt,ao,Zr,xn,qn,nf,ty=(nf=class extends rh{constructor(e){super();ue(this,xn);ue(this,Fs,void 0);ue(this,js,void 0);ue(this,mn,void 0);ue(this,Hr,void 0);ue(this,kt,void 0);ue(this,ao,void 0);ue(this,Zr,void 0);se(this,Zr,!1),se(this,ao,e.defaultOptions),this.setOptions(e.options),this.observers=[],se(this,Hr,e.client),se(this,mn,T(this,Hr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,se(this,Fs,ny(this.options)),this.state=e.state??T(this,Fs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,kt))==null?void 0:e.promise}setOptions(e){this.options={...T(this,ao),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,mn).remove(this)}setData(e,n){const r=nu(this.state.data,e,this.options);return Ae(this,xn,qn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ae(this,xn,qn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=T(this,kt))==null?void 0:r.promise;return(s=T(this,kt))==null||s.cancel(e),n?n.then(Kt).catch(Kt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Fs))}isActive(){return this.observers.some(e=>gn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ku||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ar(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Jf(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=T(this,kt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=T(this,kt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,mn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(T(this,kt)&&(T(this,Zr)?T(this,kt).cancel({revert:!0}):T(this,kt).cancelRetry()),this.scheduleGc()),T(this,mn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,xn,qn).call(this,{type:"invalidate"})}async fetch(e,n){var c,l,m,g,y,b,k,A,M,O,F,C;if(this.state.fetchStatus!=="idle"&&((c=T(this,kt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,kt))return T(this,kt).continueRetry(),T(this,kt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const z=this.observers.find(N=>N.options.queryFn);z&&this.setOptions(z.options)}const r=new AbortController,s=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>(se(this,Zr,!0),r.signal)})},i=()=>{const z=Qf(this.options,n),D=(()=>{const $={client:T(this,Hr),queryKey:this.queryKey,meta:this.meta};return s($),$})();return se(this,Zr,!1),this.options.persister?this.options.persister(z,D,this):z(D)},a=(()=>{const z={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:T(this,Hr),state:this.state,fetchFn:i};return s(z),z})();(l=this.options.behavior)==null||l.onFetch(a,this),se(this,js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=a.fetchOptions)==null?void 0:m.meta))&&Ae(this,xn,qn).call(this,{type:"fetch",meta:(g=a.fetchOptions)==null?void 0:g.meta}),se(this,kt,nh({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onFail:(z,N)=>{Ae(this,xn,qn).call(this,{type:"failed",failureCount:z,error:N})},onPause:()=>{Ae(this,xn,qn).call(this,{type:"pause"})},onContinue:()=>{Ae(this,xn,qn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const z=await T(this,kt).start();if(z===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(z),(b=(y=T(this,mn).config).onSuccess)==null||b.call(y,z,this),(A=(k=T(this,mn).config).onSettled)==null||A.call(k,z,this.state.error,this),z}catch(z){if(z instanceof th){if(z.silent)return T(this,kt).promise;if(z.revert)return this.setState({...T(this,js),fetchStatus:"idle"}),this.state.data}throw Ae(this,xn,qn).call(this,{type:"error",error:z}),(O=(M=T(this,mn).config).onError)==null||O.call(M,z,this),(C=(F=T(this,mn).config).onSettled)==null||C.call(F,this.state.data,z,this),z}finally{this.scheduleGc()}}},Fs=new WeakMap,js=new WeakMap,mn=new WeakMap,Hr=new WeakMap,kt=new WeakMap,ao=new WeakMap,Zr=new WeakMap,xn=new WeakSet,qn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...sh(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,js,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),It.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,mn).notify({query:this,type:"updated",action:e})})},nf);function sh(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eh(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ny(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rn,rf,ry=(rf=class extends ci{constructor(e={}){super();ue(this,Rn,void 0);this.config=e,se(this,Rn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qu(s,n);let o=this.get(i);return o||(o=new ty({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){T(this,Rn).has(e.queryHash)||(T(this,Rn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=T(this,Rn).get(e.queryHash);n&&(e.destroy(),n===e&&T(this,Rn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,Rn).get(e)}getAll(){return[...T(this,Rn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>td(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>td(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rn=new WeakMap,rf),Cn,Dt,Wr,On,cr,sf,sy=(sf=class extends rh{constructor(e){super();ue(this,On);ue(this,Cn,void 0);ue(this,Dt,void 0);ue(this,Wr,void 0);this.mutationId=e.mutationId,se(this,Dt,e.mutationCache),se(this,Cn,[]),this.state=e.state||ih(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Cn).includes(e)||(T(this,Cn).push(e),this.clearGcTimeout(),T(this,Dt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){se(this,Cn,T(this,Cn).filter(n=>n!==e)),this.scheduleGc(),T(this,Dt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():T(this,Dt).remove(this))}continue(){var e;return((e=T(this,Wr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,m,g,y,b,k,A,M,O,F,C,z,N,D,$,H;const n=()=>{Ae(this,On,cr).call(this,{type:"continue"})};se(this,Wr,nh({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,Z)=>{Ae(this,On,cr).call(this,{type:"failed",failureCount:L,error:Z})},onPause:()=>{Ae(this,On,cr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Dt).canRun(this)}));const r=this.state.status==="pending",s=!T(this,Wr).canStart();try{if(r)n();else{Ae(this,On,cr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=T(this,Dt).config).onMutate)==null?void 0:o.call(i,e,this));const Z=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));Z!==this.state.context&&Ae(this,On,cr).call(this,{type:"pending",context:Z,variables:e,isPaused:s})}const L=await T(this,Wr).start();return await((m=(l=T(this,Dt).config).onSuccess)==null?void 0:m.call(l,L,e,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,L,e,this.state.context)),await((k=(b=T(this,Dt).config).onSettled)==null?void 0:k.call(b,L,null,this.state.variables,this.state.context,this)),await((M=(A=this.options).onSettled)==null?void 0:M.call(A,L,null,e,this.state.context)),Ae(this,On,cr).call(this,{type:"success",data:L}),L}catch(L){try{throw await((F=(O=T(this,Dt).config).onError)==null?void 0:F.call(O,L,e,this.state.context,this)),await((z=(C=this.options).onError)==null?void 0:z.call(C,L,e,this.state.context)),await((D=(N=T(this,Dt).config).onSettled)==null?void 0:D.call(N,void 0,L,this.state.variables,this.state.context,this)),await((H=($=this.options).onSettled)==null?void 0:H.call($,void 0,L,e,this.state.context)),L}finally{Ae(this,On,cr).call(this,{type:"error",error:L})}}finally{T(this,Dt).runNext(this)}}},Cn=new WeakMap,Dt=new WeakMap,Wr=new WeakMap,On=new WeakSet,cr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),It.batch(()=>{T(this,Cn).forEach(r=>{r.onMutationUpdate(e)}),T(this,Dt).notify({mutation:this,type:"updated",action:e})})},sf);function ih(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,En,co,of,iy=(of=class extends ci{constructor(e={}){super();ue(this,Hn,void 0);ue(this,En,void 0);ue(this,co,void 0);this.config=e,se(this,Hn,new Set),se(this,En,new Map),se(this,co,0)}build(e,n,r){const s=new sy({mutationCache:this,mutationId:++Oo(this,co)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){T(this,Hn).add(e);const n=Lo(e);if(typeof n=="string"){const r=T(this,En).get(n);r?r.push(e):T(this,En).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(T(this,Hn).delete(e)){const n=Lo(e);if(typeof n=="string"){const r=T(this,En).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&T(this,En).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Lo(e);if(typeof n=="string"){const r=T(this,En).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Lo(e);if(typeof n=="string"){const s=(r=T(this,En).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{T(this,Hn).forEach(e=>{this.notify({type:"removed",mutation:e})}),T(this,Hn).clear(),T(this,En).clear()})}getAll(){return Array.from(T(this,Hn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nd(n,r))}findAll(e={}){return this.getAll().filter(n=>nd(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(e.map(n=>n.continue().catch(Kt))))}},Hn=new WeakMap,En=new WeakMap,co=new WeakMap,of);function Lo(t){var e;return(e=t.options.scope)==null?void 0:e.id}function id(t){return{onFetch:(e,n)=>{var m,g,y,b,k;const r=e.options,s=(y=(g=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((b=e.state.data)==null?void 0:b.pages)||[],o=((k=e.state.data)==null?void 0:k.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let A=!1;const M=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},O=Qf(e.options,e.fetchOptions),F=async(C,z,N)=>{if(A)return Promise.reject();if(z==null&&C.pages.length)return Promise.resolve(C);const $=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:z,direction:N?"backward":"forward",meta:e.options.meta};return M(G),G})(),H=await O($),{maxPages:L}=e.options,Z=N?Gg:Wg;return{pages:Z(C.pages,H,L),pageParams:Z(C.pageParams,z,L)}};if(s&&i.length){const C=s==="backward",z=C?oy:od,N={pages:i,pageParams:o},D=z(r,N);a=await F(N,D,C)}else{const C=t??i.length;do{const z=c===0?o[0]??r.initialPageParam:od(r,a);if(c>0&&z==null)break;a=await F(a,z),c++}while(c<C)}return a};e.options.persister?e.fetchFn=()=>{var A,M;return(M=(A=e.options).persister)==null?void 0:M.call(A,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function od(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oy(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,hr,pr,zs,$s,mr,Ds,qs,af,ay=(af=class{constructor(t={}){ue(this,Xe,void 0);ue(this,hr,void 0);ue(this,pr,void 0);ue(this,zs,void 0);ue(this,$s,void 0);ue(this,mr,void 0);ue(this,Ds,void 0);ue(this,qs,void 0);se(this,Xe,t.queryCache||new ry),se(this,hr,t.mutationCache||new iy),se(this,pr,t.defaultOptions||{}),se(this,zs,new Map),se(this,$s,new Map),se(this,mr,0)}mount(){Oo(this,mr)._++,T(this,mr)===1&&(se(this,Ds,Vu.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,Xe).onFocus())})),se(this,qs,sa.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,Xe).onOnline())})))}unmount(){var t,e;Oo(this,mr)._--,T(this,mr)===0&&((t=T(this,Ds))==null||t.call(this),se(this,Ds,void 0),(e=T(this,qs))==null||e.call(this),se(this,qs,void 0))}isFetching(t){return T(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,hr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=T(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=T(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ar(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return T(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=T(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=Hg(e,i);if(o!==void 0)return T(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>T(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=T(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=T(this,Xe);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=T(this,Xe);return It.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=It.batch(()=>T(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Kt).catch(Kt)}invalidateQueries(t,e={}){return It.batch(()=>(T(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=It.batch(()=>T(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Kt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Kt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=T(this,Xe).build(this,e);return n.isStaleByTime(Ar(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kt).catch(Kt)}fetchInfiniteQuery(t){return t.behavior=id(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kt).catch(Kt)}ensureInfiniteQueryData(t){return t.behavior=id(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sa.isOnline()?T(this,hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Xe)}getMutationCache(){return T(this,hr)}getDefaultOptions(){return T(this,pr)}setDefaultOptions(t){se(this,pr,t)}setQueryDefaults(t,e){T(this,zs).set(os(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,zs).values()],n={};return e.forEach(r=>{qi(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){T(this,$s).set(os(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,$s).values()],n={};return e.forEach(r=>{qi(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,pr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qu(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ku&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,pr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,Xe).clear(),T(this,hr).clear()}},Xe=new WeakMap,hr=new WeakMap,pr=new WeakMap,zs=new WeakMap,$s=new WeakMap,mr=new WeakMap,Ds=new WeakMap,qs=new WeakMap,af),Yt,Ce,uo,qt,Gr,Ks,gr,yr,lo,Vs,Hs,Jr,Yr,wr,Zs,Qr,wi,fo,su,ho,iu,po,ou,mo,au,go,cu,yo,uu,wo,lu,Na,oh,cf,cy=(cf=class extends ci{constructor(e,n){super();ue(this,Qr);ue(this,fo);ue(this,ho);ue(this,po);ue(this,mo);ue(this,go);ue(this,yo);ue(this,wo);ue(this,Na);ue(this,Yt,void 0);ue(this,Ce,void 0);ue(this,uo,void 0);ue(this,qt,void 0);ue(this,Gr,void 0);ue(this,Ks,void 0);ue(this,gr,void 0);ue(this,yr,void 0);ue(this,lo,void 0);ue(this,Vs,void 0);ue(this,Hs,void 0);ue(this,Jr,void 0);ue(this,Yr,void 0);ue(this,wr,void 0);ue(this,Zs,new Set);this.options=n,se(this,Yt,e),se(this,yr,null),se(this,gr,ru()),this.options.experimental_prefetchInRender||T(this,gr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Ce).addObserver(this),ad(T(this,Ce),this.options)?Ae(this,Qr,wi).call(this):this.updateResult(),Ae(this,mo,au).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return du(T(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return du(T(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,go,cu).call(this),Ae(this,yo,uu).call(this),T(this,Ce).removeObserver(this)}setOptions(e){const n=this.options,r=T(this,Ce);if(this.options=T(this,Yt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gn(this.options.enabled,T(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,wo,lu).call(this),T(this,Ce).setOptions(this.options),n._defaulted&&!ra(this.options,n)&&T(this,Yt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Ce),observer:this});const s=this.hasListeners();s&&cd(T(this,Ce),r,this.options,n)&&Ae(this,Qr,wi).call(this),this.updateResult(),s&&(T(this,Ce)!==r||gn(this.options.enabled,T(this,Ce))!==gn(n.enabled,T(this,Ce))||Ar(this.options.staleTime,T(this,Ce))!==Ar(n.staleTime,T(this,Ce)))&&Ae(this,fo,su).call(this);const i=Ae(this,ho,iu).call(this);s&&(T(this,Ce)!==r||gn(this.options.enabled,T(this,Ce))!==gn(n.enabled,T(this,Ce))||i!==T(this,wr))&&Ae(this,po,ou).call(this,i)}getOptimisticResult(e){const n=T(this,Yt).getQueryCache().build(T(this,Yt),e),r=this.createResult(n,e);return ly(this,r)&&(se(this,qt,r),se(this,Ks,this.options),se(this,Gr,T(this,Ce).state)),r}getCurrentResult(){return T(this,qt)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){T(this,Zs).add(e)}getCurrentQuery(){return T(this,Ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=T(this,Yt).defaultQueryOptions(e),r=T(this,Yt).getQueryCache().build(T(this,Yt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ae(this,Qr,wi).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,qt)))}createResult(e,n){var L;const r=T(this,Ce),s=this.options,i=T(this,qt),o=T(this,Gr),a=T(this,Ks),l=e!==r?e.state:T(this,uo),{state:m}=e;let g={...m},y=!1,b;if(n._optimisticResults){const Z=this.hasListeners(),G=!Z&&ad(e,n),ee=Z&&cd(e,r,n,s);(G||ee)&&(g={...g,...sh(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:A,status:M}=g;b=g.data;let O=!1;if(n.placeholderData!==void 0&&b===void 0&&M==="pending"){let Z;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(Z=i.data,O=!0):Z=typeof n.placeholderData=="function"?n.placeholderData((L=T(this,Hs))==null?void 0:L.state.data,T(this,Hs)):n.placeholderData,Z!==void 0&&(M="success",b=nu(i==null?void 0:i.data,Z,n),y=!0)}if(n.select&&b!==void 0&&!O)if(i&&b===(o==null?void 0:o.data)&&n.select===T(this,lo))b=T(this,Vs);else try{se(this,lo,n.select),b=n.select(b),b=nu(i==null?void 0:i.data,b,n),se(this,Vs,b),se(this,yr,null)}catch(Z){se(this,yr,Z)}T(this,yr)&&(k=T(this,yr),b=T(this,Vs),A=Date.now(),M="error");const F=g.fetchStatus==="fetching",C=M==="pending",z=M==="error",N=C&&F,D=b!==void 0,H={status:M,fetchStatus:g.fetchStatus,isPending:C,isSuccess:M==="success",isError:z,isInitialLoading:N,isLoading:N,data:b,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:A,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:F,isRefetching:F&&!C,isLoadingError:z&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:z&&D,isStale:Hu(e,n),refetch:this.refetch,promise:T(this,gr),isEnabled:gn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const Z=x=>{H.status==="error"?x.reject(H.error):H.data!==void 0&&x.resolve(H.data)},G=()=>{const x=se(this,gr,H.promise=ru());Z(x)},ee=T(this,gr);switch(ee.status){case"pending":e.queryHash===r.queryHash&&Z(ee);break;case"fulfilled":(H.status==="error"||H.data!==ee.value)&&G();break;case"rejected":(H.status!=="error"||H.error!==ee.reason)&&G();break}}return H}updateResult(){const e=T(this,qt),n=this.createResult(T(this,Ce),this.options);if(se(this,Gr,T(this,Ce).state),se(this,Ks,this.options),T(this,Gr).data!==void 0&&se(this,Hs,T(this,Ce)),ra(n,e))return;se(this,qt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!T(this,Zs).size)return!0;const o=new Set(i??T(this,Zs));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,qt)).some(a=>{const c=a;return T(this,qt)[c]!==e[c]&&o.has(c)})};Ae(this,Na,oh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,mo,au).call(this)}},Yt=new WeakMap,Ce=new WeakMap,uo=new WeakMap,qt=new WeakMap,Gr=new WeakMap,Ks=new WeakMap,gr=new WeakMap,yr=new WeakMap,lo=new WeakMap,Vs=new WeakMap,Hs=new WeakMap,Jr=new WeakMap,Yr=new WeakMap,wr=new WeakMap,Zs=new WeakMap,Qr=new WeakSet,wi=function(e){Ae(this,wo,lu).call(this);let n=T(this,Ce).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Kt)),n},fo=new WeakSet,su=function(){Ae(this,go,cu).call(this);const e=Ar(this.options.staleTime,T(this,Ce));if(is||T(this,qt).isStale||!eu(e))return;const r=Jf(T(this,qt).dataUpdatedAt,e)+1;se(this,Jr,setTimeout(()=>{T(this,qt).isStale||this.updateResult()},r))},ho=new WeakSet,iu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Ce)):this.options.refetchInterval)??!1},po=new WeakSet,ou=function(e){Ae(this,yo,uu).call(this),se(this,wr,e),!(is||gn(this.options.enabled,T(this,Ce))===!1||!eu(T(this,wr))||T(this,wr)===0)&&se(this,Yr,setInterval(()=>{(this.options.refetchIntervalInBackground||Vu.isFocused())&&Ae(this,Qr,wi).call(this)},T(this,wr)))},mo=new WeakSet,au=function(){Ae(this,fo,su).call(this),Ae(this,po,ou).call(this,Ae(this,ho,iu).call(this))},go=new WeakSet,cu=function(){T(this,Jr)&&(clearTimeout(T(this,Jr)),se(this,Jr,void 0))},yo=new WeakSet,uu=function(){T(this,Yr)&&(clearInterval(T(this,Yr)),se(this,Yr,void 0))},wo=new WeakSet,lu=function(){const e=T(this,Yt).getQueryCache().build(T(this,Yt),this.options);if(e===T(this,Ce))return;const n=T(this,Ce);se(this,Ce,e),se(this,uo,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Na=new WeakSet,oh=function(e){It.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(T(this,qt))}),T(this,Yt).getQueryCache().notify({query:T(this,Ce),type:"observerResultsUpdated"})})},cf);function uy(t,e){return gn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ad(t,e){return uy(t,e)||t.state.data!==void 0&&du(t,e,e.refetchOnMount)}function du(t,e,n){if(gn(e.enabled,t)!==!1&&Ar(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Hu(t,e)}return!1}function cd(t,e,n,r){return(t!==e||gn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Hu(t,n)}function Hu(t,e){return gn(e.enabled,t)!==!1&&t.isStaleByTime(Ar(e.staleTime,t))}function ly(t,e){return!ra(t.getCurrentResult(),e)}var br,vr,Qt,Zn,Ws,Wo,bo,fu,uf,dy=(uf=class extends ci{constructor(n,r){super();ue(this,Ws);ue(this,bo);ue(this,br,void 0);ue(this,vr,void 0);ue(this,Qt,void 0);ue(this,Zn,void 0);se(this,br,n),this.setOptions(r),this.bindMethods(),Ae(this,Ws,Wo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=T(this,br).defaultMutationOptions(n),ra(this.options,r)||T(this,br).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Qt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&os(r.mutationKey)!==os(this.options.mutationKey)?this.reset():((s=T(this,Qt))==null?void 0:s.state.status)==="pending"&&T(this,Qt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,Qt))==null||n.removeObserver(this)}onMutationUpdate(n){Ae(this,Ws,Wo).call(this),Ae(this,bo,fu).call(this,n)}getCurrentResult(){return T(this,vr)}reset(){var n;(n=T(this,Qt))==null||n.removeObserver(this),se(this,Qt,void 0),Ae(this,Ws,Wo).call(this),Ae(this,bo,fu).call(this)}mutate(n,r){var s;return se(this,Zn,r),(s=T(this,Qt))==null||s.removeObserver(this),se(this,Qt,T(this,br).getMutationCache().build(T(this,br),this.options)),T(this,Qt).addObserver(this),T(this,Qt).execute(n)}},br=new WeakMap,vr=new WeakMap,Qt=new WeakMap,Zn=new WeakMap,Ws=new WeakSet,Wo=function(){var r;const n=((r=T(this,Qt))==null?void 0:r.state)??ih();se(this,vr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},bo=new WeakSet,fu=function(n){It.batch(()=>{var r,s,i,o,a,c,l,m;if(T(this,Zn)&&this.hasListeners()){const g=T(this,vr).variables,y=T(this,vr).context;(n==null?void 0:n.type)==="success"?((s=(r=T(this,Zn)).onSuccess)==null||s.call(r,n.data,g,y),(o=(i=T(this,Zn)).onSettled)==null||o.call(i,n.data,null,g,y)):(n==null?void 0:n.type)==="error"&&((c=(a=T(this,Zn)).onError)==null||c.call(a,n.error,g,y),(m=(l=T(this,Zn)).onSettled)==null||m.call(l,void 0,n.error,g,y))}this.listeners.forEach(g=>{g(T(this,vr))})})},uf),ah=ie.createContext(void 0),Zu=t=>{const e=ie.useContext(ah);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fy=({client:t,children:e})=>(ie.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Y.jsx(ah.Provider,{value:t,children:e})),ch=ie.createContext(!1),hy=()=>ie.useContext(ch);ch.Provider;function py(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var my=ie.createContext(py()),gy=()=>ie.useContext(my),yy=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wy=t=>{ie.useEffect(()=>{t.clearReset()},[t])},by=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Xf(n,[t.error,r])),vy=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},xy=(t,e)=>t.isLoading&&t.isFetching&&!e,Ey=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ud=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function _y(t,e,n){var g,y,b,k,A;const r=hy(),s=gy(),i=Zu(n),o=i.defaultQueryOptions(t);(y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,o),o._optimisticResults=r?"isRestoring":"optimistic",vy(o),yy(o,s),wy(s);const a=!i.getQueryCache().get(o.queryHash),[c]=ie.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),m=!r&&t.subscribed!==!1;if(ie.useSyncExternalStore(ie.useCallback(M=>{const O=m?c.subscribe(It.batchCalls(M)):Kt;return c.updateResult(),O},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),ie.useEffect(()=>{c.setOptions(o)},[o,c]),Ey(o,l))throw ud(o,c,s);if(by({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((k=(b=i.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||k.call(b,o,l),o.experimental_prefetchInRender&&!is&&xy(l,r)){const M=a?ud(o,c,s):(A=i.getQueryCache().get(o.queryHash))==null?void 0:A.promise;M==null||M.catch(Kt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function Sy(t,e){return _y(t,cy,e)}function Iy(t,e){const n=Zu(e),[r]=ie.useState(()=>new dy(n,t));ie.useEffect(()=>{r.setOptions(t)},[r,t]);const s=ie.useSyncExternalStore(ie.useCallback(o=>r.subscribe(It.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=ie.useCallback((o,a)=>{r.mutate(o,a).catch(Kt)},[r]);if(s.error&&Xf(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Ay="modulepreload",ky=function(t,e){return new URL(t,e).href},ld={},Wu=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ky(i,r),i in ld)return;ld[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const g=s[m];if(g.href===i&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Ay,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((m,g)=>{l.addEventListener("load",m),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function By(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Mc=new Map;function My({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const m=c();o();const g=m.map(({args:y})=>y);g.length!==0&&t(g).then(y=>{s&&Array.isArray(y)&&y.sort(s);for(let b=0;b<m.length;b++){const{resolve:k}=m[b];k==null||k([y[b],y])}}).catch(y=>{for(let b=0;b<m.length;b++){const{reject:k}=m[b];k==null||k(y)}})},o=()=>Mc.delete(e),a=()=>c().map(({args:m})=>m),c=()=>Mc.get(e)||[],l=m=>Mc.set(e,[...c(),m]);return{flush:o,async schedule(m){const{promise:g,resolve:y,reject:b}=By();return(n==null?void 0:n([...a(),m]))&&i(),c().length>0?(l({args:m,resolve:y,reject:b}),g):(l({args:m,resolve:y,reject:b}),setTimeout(i,r),g)}}}const No=new Fu(8192);function Ry(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(No.get(n))return No.get(n);const r=t().finally(()=>No.delete(n));return No.set(n,r),r}async function Cy(t){return new Promise(e=>setTimeout(e,t))}function uh(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const m=typeof e=="function"?e({count:a,error:l}):e;m&&await Cy(m),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function Oy(t,e={}){return async(n,r={})=>{var g;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((g=i==null?void 0:i.exclude)!=null&&g.includes(l))throw new zr(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new zr(new Error("method not supported"),{method:l});const m=s?yf(`${c}.${ts(n)}`):void 0;return Ry(()=>uh(async()=>{try{return await t(n)}catch(y){const b=y;switch(b.code){case Ii.code:throw new Ii(b);case Ai.code:throw new Ai(b);case ki.code:throw new ki(b,{method:n.method});case Bi.code:throw new Bi(b);case Js.code:throw new Js(b);case Mi.code:throw new Mi(b);case Ri.code:throw new Ri(b);case Ir.code:throw new Ir(b);case Ci.code:throw new Ci(b);case zr.code:throw new zr(b,{method:n.method});case Ys.code:throw new Ys(b);case Oi.code:throw new Oi(b);case rt.code:throw new rt(b);case Ti.code:throw new Ti(b);case Pi.code:throw new Pi(b);case Ui.code:throw new Ui(b);case Xc.code:throw new Xc(b);case tn.code:throw new tn(b);case Li.code:throw new Li(b);case Ni.code:throw new Ni(b);case Fi.code:throw new Fi(b);case ji.code:throw new ji(b);case zi.code:throw new zi(b);case $i.code:throw new $i(b);case Di.code:throw new Di(b);case 5e3:throw new rt(b);default:throw y instanceof ye?y:new Kg(b)}}},{delay:({count:y,error:b})=>{var k;if(b&&b instanceof vi){const A=(k=b==null?void 0:b.headers)==null?void 0:k.get("Retry-After");if(A!=null&&A.match(/\d/))return Number.parseInt(A)*1e3}return~~(1<<y)*o},retryCount:a,shouldRetry:({error:y})=>Ty(y)}),{enabled:s,id:m})}}function Ty(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Ys.code||t.code===Js.code:t instanceof vi&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function lh(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Py(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const dd=Py();function Uy(t,e={}){return{async request(n){var g;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:m}=a;try{const y=await lh(async({signal:k})=>{const A={...a,body:Array.isArray(r)?ts(r.map(C=>({jsonrpc:"2.0",id:C.id??dd.take(),...C}))):ts({jsonrpc:"2.0",id:r.id??dd.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:m||(o>0?k:null)},M=new Request(t,A),O=await(s==null?void 0:s(M,A))??{...A,url:t};return await fetch(O.url??t,O)},{errorInstance:new ed({body:r,url:t}),timeout:o,signal:!0});i&&await i(y);let b;if((g=y.headers.get("Content-Type"))!=null&&g.startsWith("application/json"))b=await y.json();else{b=await y.text();try{b=JSON.parse(b||"{}")}catch(k){if(y.ok)throw k;b={error:b}}}if(!y.ok)throw new vi({body:r,details:ts(b.error)||y.statusText,headers:y.headers,status:y.status,url:t});return b}catch(y){throw y instanceof vi||y instanceof ed?y:new vi({body:r,cause:y,url:t})}}}}class dh extends Uu{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Af(e);const r=za(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Mr(i)}update(e){return Gs(this),this.iHash.update(e),this}digestInto(e){Gs(this),Xn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fh=(t,e,n)=>new dh(t,e).update(n).digest();fh.create=(t,e)=>new dh(t,e);const Go="2.19.0",Ly=()=>`@wagmi/core@${Go}`;var hh=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ia,ph;let Va=class hu extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Ly()}constructor(e,n={}){var i;super(),ia.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof hu?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof hu&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return hh(this,ia,"m",ph).call(this,this,e)}};ia=new WeakSet,ph=function t(e,n){return n!=null&&n(e)?e:e.cause?hh(this,ia,"m",t).call(this,e.cause,n):e};class as extends Va{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Ny extends Va{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}async function Fy(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new Ny;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const pu=256;let Fo=pu,jo;function mh(t=11){if(!jo||Fo+t>pu*2){jo="",Fo=0;for(let e=0;e<pu;e++)jo+=(256+Math.random()*256|0).toString(16).substring(1)}return jo.substring(Fo,Fo+++t)}function jy(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),m=t.pollingInterval??l,g=t.cacheTime??m,y=t.account?Dg(t.account):void 0,{config:b,request:k,value:A}=t.transport({chain:n,pollingInterval:m}),M={...b,...A},O={account:y,batch:e,cacheTime:g,ccipRead:r,chain:n,key:s,name:i,pollingInterval:m,request:k,transport:M,type:o,uid:mh(),...a?{experimental_blockTag:a}:{}};function F(C){return z=>{const N=z(C);for(const $ in O)delete N[$];const D={...C,...N};return Object.assign(D,{extend:F(D)})}}return Object.assign(O,{extend:F(O)})}function zy({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=mh();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Oy(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}class $y extends ye{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function zo(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:m}=e;return({chain:g,retryCount:y,timeout:b})=>{const{batchSize:k=1e3,wait:A=0}=typeof n=="object"?n:{},M=e.retryCount??y,O=b??e.timeout??1e4,F=t||(g==null?void 0:g.rpcUrls.default.http[0]);if(!F)throw new $y;const C=Uy(F,{fetchOptions:r,onRequest:a,onResponse:c,timeout:O});return zy({key:s,methods:i,name:o,async request({method:z,params:N}){const D={method:z,params:N},{schedule:$}=My({id:F,wait:A,shouldSplitBatch(G){return G.length>k},fn:G=>C.request({body:G}),sort:(G,ee)=>G.id-ee.id}),H=async G=>n?$(G):[await C.request({body:G})],[{error:L,result:Z}]=await H(D);if(m)return{error:L,result:Z};if(L)throw new Zf({body:D,error:L,url:F});return Z},retryCount:M,retryDelay:l,timeout:O,type:"http"},{fetchOptions:r,url:F})}}function gh(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function Ki(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ki(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Ki(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Rc=[];function fd(t){const e=t.connectors;return Ki(Rc,e)?Rc:(Rc=e,e)}let Cc=!1;async function Dy(t,e={}){var l,m;if(Cc)return[];Cc=!0,t.setState(g=>({...g,status:g.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const g of e.connectors){let y;typeof g=="function"?y=t._internal.connectors.setup(g):y=g,n.push(y)}else n.push(...t.connectors);let r;try{r=await((m=t.storage)==null?void 0:m.getItem("recentConnectorId"))}catch{}const s={};for(const[,g]of t.state.connections)s[g.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((g,y)=>(s[g.id]??10)-(s[y.id]??10)):n;let o=!1;const a=[],c=[];for(const g of i){const y=await g.getProvider().catch(()=>{});if(!y||c.some(A=>A===y)||!await g.isAuthorized())continue;const k=await g.connect({isReconnecting:!0}).catch(()=>null);k&&(g.emitter.off("connect",t._internal.events.connect),g.emitter.on("change",t._internal.events.change),g.emitter.on("disconnect",t._internal.events.disconnect),t.setState(A=>{const M=new Map(o?A.connections:new Map).set(g.uid,{accounts:k.accounts,chainId:k.chainId,connector:g});return{...A,current:o?A.current:g.uid,connections:M}}),a.push({accounts:k.accounts,chainId:k.chainId,connector:g}),c.push(y),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(g=>({...g,status:"connected"})):t.setState(g=>({...g,connections:new Map,current:null,status:"disconnected"}))),Cc=!1,a}class xs extends Va{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function qy(t,e){const{onChange:n}=e;return t.subscribe(()=>gh(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Ki(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function Ky(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}Gu.type="injected";function Gu(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...Vy[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Gu.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:m}={}){var b,k,A,M,O,F;const g=await this.getProvider();if(!g)throw new xs;let y=[];if(m)y=await this.getAccounts().catch(()=>[]);else if(e)try{y=(M=(A=(k=(b=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:k[0])==null?void 0:A.value)==null?void 0:M.map(z=>$t(z)),y.length>0&&(y=await this.getAccounts())}catch(C){const z=C;if(z.code===rt.code)throw new rt(z);if(z.code===Ir.code)throw z}try{!(y!=null&&y.length)&&!m&&(y=(await g.request({method:"eth_requestAccounts"})).map(N=>$t(N))),o&&(g.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),g.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),g.on("disconnect",a));let C=await this.getChainId();if(l&&C!==l){const z=await this.switchChain({chainId:l}).catch(N=>{if(N.code===rt.code)throw N;return{id:C}});C=(z==null?void 0:z.id)??C}return e&&await((O=c.storage)==null?void 0:O.removeItem(`${this.id}.disconnected`)),t.target||await((F=c.storage)==null?void 0:F.setItem("injected.connected",!0)),{accounts:y,chainId:C}}catch(C){const z=C;throw z.code===rt.code?new rt(z):z.code===Ir.code?new Ir(z):z}},async disconnect(){var m,g;const l=await this.getProvider();if(!l)throw new xs;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await lh(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((m=c.storage)==null?void 0:m.setItem(`${this.id}.disconnected`,!0)),t.target||await((g=c.storage)==null?void 0:g.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new xs;return(await l.request({method:"eth_accounts"})).map(g=>$t(g))},async getChainId(){const l=await this.getProvider();if(!l)throw new xs;const m=await l.request({method:"eth_chainId"});return Number(m)},async getProvider(){if(typeof window>"u")return;let l;const m=r();return typeof m.provider=="function"?l=m.provider(window):typeof m.provider=="string"?l=Jo(window,m.provider):l=m.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,m;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((m=c.storage)==null?void 0:m.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const k=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",k),!!await this.getProvider()),A=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(O=>window.addEventListener("ethereum#initialized",()=>O(k()),{once:!0}))]:[],new Promise(O=>setTimeout(()=>O(k()),A))]))return!0}throw new xs}return!!(await uh(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:m}){var k,A,M,O;const g=await this.getProvider();if(!g)throw new xs;const y=c.chains.find(F=>F.id===m);if(!y)throw new tn(new as);const b=new Promise(F=>{const C=z=>{"chainId"in z&&z.chainId===m&&(c.emitter.off("change",C),F())};c.emitter.on("change",C)});try{return await Promise.all([g.request({method:"wallet_switchEthereumChain",params:[{chainId:xe(m)}]}).then(async()=>{await this.getChainId()===m&&c.emitter.emit("change",{chainId:m})}),b]),y}catch(F){const C=F;if(C.code===4902||((A=(k=C==null?void 0:C.data)==null?void 0:k.originalError)==null?void 0:A.code)===4902)try{const{default:z,...N}=y.blockExplorers??{};let D;l!=null&&l.blockExplorerUrls?D=l.blockExplorerUrls:z&&(D=[z.url,...Object.values(N).map(L=>L.url)]);let $;(M=l==null?void 0:l.rpcUrls)!=null&&M.length?$=l.rpcUrls:$=[((O=y.rpcUrls.default)==null?void 0:O.http[0])??""];const H={blockExplorerUrls:D,chainId:xe(m),chainName:(l==null?void 0:l.chainName)??y.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??y.nativeCurrency,rpcUrls:$};return await Promise.all([g.request({method:"wallet_addEthereumChain",params:[H]}).then(async()=>{if(await this.getChainId()===m)c.emitter.emit("change",{chainId:m});else throw new rt(new Error("User rejected switch after adding network."))}),b]),y}catch(z){throw new rt(z)}throw C.code===rt.code?new rt(C):new tn(C)}},async onAccountsChanged(l){var m;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const g=(await this.getChainId()).toString();this.onConnect({chainId:g}),e&&await((m=c.storage)==null?void 0:m.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(g=>$t(g))})},onChainChanged(l){const m=Number(l);c.emitter.emit("change",{chainId:m})},async onConnect(l){const m=await this.getAccounts();if(m.length===0)return;const g=Number(l.chainId);c.emitter.emit("connect",{accounts:m,chainId:g});const y=await this.getProvider();y&&(o&&(y.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),y.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),y.on("disconnect",a)))},async onDisconnect(l){const m=await this.getProvider();l&&l.code===1013&&m&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),m&&(i&&(m.removeListener("chainChanged",i),i=void 0),a&&(m.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),m.on("connect",o))))}})}const Vy={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Jo(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Jo(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Jo(t,"isPhantom")}}};function Jo(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Hy(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Zy(){const t=new Set;let e=[];const n=()=>Hy(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const Wy=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const m=(c==null?void 0:c.equalityFn)||Object.is;let g=o(r.getState());l=y=>{const b=o(y);if(!m(g,b)){const k=g;a(g=b,k)}},c!=null&&c.fireImmediately&&a(g,g)}return s(l)},t(e,n,r)},Gy=Wy;function Jy(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,e==null?void 0:e.replacer)),removeItem:s=>n.removeItem(s)}}const mu=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return mu(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return mu(r)(n)}}}},Yy=(t,e)=>(n,r,s)=>{let i={storage:Jy(()=>localStorage),partialize:A=>A,version:0,merge:(A,M)=>({...M,...A}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...A)},r,s);const m=()=>{const A=i.partialize({...r()});return l.setItem(i.name,{state:A,version:i.version})},g=s.setState;s.setState=(A,M)=>{g(A,M),m()};const y=t((...A)=>{n(...A),m()},r,s);s.getInitialState=()=>y;let b;const k=()=>{var A,M;if(!l)return;o=!1,a.forEach(F=>{var C;return F((C=r())!=null?C:y)});const O=((M=i.onRehydrateStorage)==null?void 0:M.call(i,(A=r())!=null?A:y))||void 0;return mu(l.getItem.bind(l))(i.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==i.version){if(i.migrate)return[!0,i.migrate(F.state,F.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var C;const[z,N]=F;if(b=i.merge(N,(C=r())!=null?C:y),n(b,!0),z)return m()}).then(()=>{O==null||O(b,void 0),b=r(),o=!0,c.forEach(F=>F(b))}).catch(F=>{O==null||O(void 0,F)})};return s.persist={setOptions:A=>{i={...i,...A},A.storage&&(l=A.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:A=>(a.add(A),()=>{a.delete(A)}),onFinishHydration:A=>(c.add(A),()=>{c.delete(A)})},i.skipHydration||k(),b||y},Qy=Yy,hd=t=>{let e;const n=new Set,r=(l,m)=>{const g=typeof l=="function"?l(e):l;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(b=>b(e,y))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Oc=t=>t?hd(t):hd;var yh={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,m){this.fn=c,this.context=l,this.once=m||!1}function i(c,l,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new s(m,g||c,y),k=n?n+l:l;return c._events[k]?c._events[k].fn?c._events[k]=[c._events[k],b]:c._events[k].push(b):(c._events[k]=b,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],m,g;if(this._eventsCount===0)return l;for(g in m=this._events)e.call(m,g)&&l.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(m)):l},a.prototype.listeners=function(l){var m=n?n+l:l,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,k=new Array(b);y<b;y++)k[y]=g[y].fn;return k},a.prototype.listenerCount=function(l){var m=n?n+l:l,g=this._events[m];return g?g.fn?1:g.length:0},a.prototype.emit=function(l,m,g,y,b,k){var A=n?n+l:l;if(!this._events[A])return!1;var M=this._events[A],O=arguments.length,F,C;if(M.fn){switch(M.once&&this.removeListener(l,M.fn,void 0,!0),O){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,m),!0;case 3:return M.fn.call(M.context,m,g),!0;case 4:return M.fn.call(M.context,m,g,y),!0;case 5:return M.fn.call(M.context,m,g,y,b),!0;case 6:return M.fn.call(M.context,m,g,y,b,k),!0}for(C=1,F=new Array(O-1);C<O;C++)F[C-1]=arguments[C];M.fn.apply(M.context,F)}else{var z=M.length,N;for(C=0;C<z;C++)switch(M[C].once&&this.removeListener(l,M[C].fn,void 0,!0),O){case 1:M[C].fn.call(M[C].context);break;case 2:M[C].fn.call(M[C].context,m);break;case 3:M[C].fn.call(M[C].context,m,g);break;case 4:M[C].fn.call(M[C].context,m,g,y);break;default:if(!F)for(N=1,F=new Array(O-1);N<O;N++)F[N-1]=arguments[N];M[C].fn.apply(M[C].context,F)}}return!0},a.prototype.on=function(l,m,g){return i(this,l,m,g,!1)},a.prototype.once=function(l,m,g){return i(this,l,m,g,!0)},a.prototype.removeListener=function(l,m,g,y){var b=n?n+l:l;if(!this._events[b])return this;if(!m)return o(this,b),this;var k=this._events[b];if(k.fn)k.fn===m&&(!y||k.once)&&(!g||k.context===g)&&o(this,b);else{for(var A=0,M=[],O=k.length;A<O;A++)(k[A].fn!==m||y&&!k[A].once||g&&k[A].context!==g)&&M.push(k[A]);M.length?this._events[b]=M.length===1?M[0]:M:o(this,b)}return this},a.prototype.removeAllListeners=function(l){var m;return l?(m=n?n+l:l,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(yh);var Xy=yh.exports;const Ju=Ru(Xy);class ew{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Ju})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function tw(t){return new ew(t)}function nw(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function pd(t,e){return t.slice(0,e).join(".")||"."}function md(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function rw(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=md(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const m=md(s,c);if(m!==0)return r?e.call(this,a,c,pd(i,m)):`[ref=${pd(i,m)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function sw(t,e,n,r){return JSON.stringify(t,rw((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function wh(t){const{deserialize:e=nw,key:n="wagmi",serialize:r=sw,storage:s=bh}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const bh={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function iw(){const t=(()=>typeof window<"u"&&window.localStorage?window.localStorage:bh)();return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const gu=256;let $o=gu,Do;function ow(t=11){if(!Do||$o+t>gu*2){Do="",$o=0;for(let e=0;e<gu;e++)Do+=(256+Math.random()*256|0).toString(16).substring(1)}return Do.substring($o,$o+++t)}function aw(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=wh({storage:iw()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?Zy():void 0,a=Oc(()=>i.chains),c=Oc(()=>{const N=[],D=new Set;for(const $ of i.connectors??[]){const H=l($);if(N.push(H),!s&&H.rdns){const L=typeof H.rdns=="string"?[H.rdns]:H.rdns;for(const Z of L)D.add(Z)}}if(!s&&o){const $=o.getProviders();for(const H of $)D.has(H.info.rdns)||N.push(l(m(H)))}return N});function l(N){var H;const D=tw(ow()),$={...N({emitter:D,chains:a.getState(),storage:n,transports:i.transports}),emitter:D,uid:D.uid};return D.on("connect",C),(H=$.setup)==null||H.call($),$}function m(N){const{info:D}=N,$=N.provider;return Gu({target:{...D,id:D.rdns,provider:$}})}const g=new Map;function y(N={}){const D=N.chainId??M.getState().chainId,$=a.getState().find(L=>L.id===D);if(N.chainId&&!$)throw new as;{const L=g.get(M.getState().chainId);if(L&&!$)return L;if(!$)throw new as}{const L=g.get(D);if(L)return L}let H;if(i.client)H=i.client({chain:$});else{const L=$.id,Z=a.getState().map(x=>x.id),G={},ee=Object.entries(i);for(const[x,u]of ee)if(!(x==="chains"||x==="client"||x==="connectors"||x==="transports"))if(typeof u=="object")if(L in u)G[x]=u[L];else{if(Z.some(w=>w in u))continue;G[x]=u}else G[x]=u;H=jy({...G,chain:$,batch:G.batch??{multicall:!0},transport:x=>i.transports[L]({...x,connectors:c})})}return g.set(D,H),H}function b(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let k;const A="0.0.0-canary-";Go.startsWith(A)?k=Number.parseInt(Go.replace(A,"")):k=Number.parseInt(Go.split(".")[0]??"0");const M=Oc(Gy(n?Qy(b,{migrate(N,D){if(D===k)return N;const $=b(),H=O(N,$.chainId);return{...$,chainId:H}},name:"store",partialize(N){return{connections:{__type:"Map",value:Array.from(N.connections.entries()).map(([D,$])=>{const{id:H,name:L,type:Z,uid:G}=$.connector;return[D,{...$,connector:{id:H,name:L,type:Z,uid:G}}]})},chainId:N.chainId,current:N.current}},merge(N,D){typeof N=="object"&&N&&"status"in N&&delete N.status;const $=O(N,D.chainId);return{...D,...N,chainId:$}},skipHydration:s,storage:n,version:k}):b));M.setState(b());function O(N,D){return N&&typeof N=="object"&&"chainId"in N&&typeof N.chainId=="number"&&a.getState().some($=>$.id===N.chainId)?N.chainId:D}r&&M.subscribe(({connections:N,current:D})=>{var $;return D?($=N.get(D))==null?void 0:$.chainId:void 0},N=>{if(a.getState().some($=>$.id===N))return M.setState($=>({...$,chainId:N??$.chainId}))}),o==null||o.subscribe(N=>{const D=new Set,$=new Set;for(const L of c.getState())if(D.add(L.id),L.rdns){const Z=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const G of Z)$.add(G)}const H=[];for(const L of N){if($.has(L.info.rdns))continue;const Z=l(m(L));D.has(Z.id)||H.push(Z)}n&&!M.persist.hasHydrated()||c.setState(L=>[...L,...H],!0)});function F(N){M.setState(D=>{const $=D.connections.get(N.uid);return $?{...D,connections:new Map(D.connections).set(N.uid,{accounts:N.accounts??$.accounts,chainId:N.chainId??$.chainId,connector:$.connector})}:D})}function C(N){M.getState().status==="connecting"||M.getState().status==="reconnecting"||M.setState(D=>{const $=c.getState().find(H=>H.uid===N.uid);return $?($.emitter.listenerCount("connect")&&$.emitter.off("connect",F),$.emitter.listenerCount("change")||$.emitter.on("change",F),$.emitter.listenerCount("disconnect")||$.emitter.on("disconnect",z),{...D,connections:new Map(D.connections).set(N.uid,{accounts:N.accounts,chainId:N.chainId,connector:$}),current:N.uid,status:"connected"}):D})}function z(N){M.setState(D=>{const $=D.connections.get(N.uid);if($){const L=$.connector;L.emitter.listenerCount("change")&&$.connector.emitter.off("change",F),L.emitter.listenerCount("disconnect")&&$.connector.emitter.off("disconnect",z),L.emitter.listenerCount("connect")||$.connector.emitter.on("connect",C)}if(D.connections.delete(N.uid),D.connections.size===0)return{...D,connections:new Map,current:null,status:"disconnected"};const H=D.connections.values().next().value;return{...D,connections:new Map(D.connections),current:H.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:y,get state(){return M.getState()},setState(N){let D;typeof N=="function"?D=N(M.getState()):D=N;const $=b();typeof D!="object"&&(D=$),Object.keys($).some(L=>!(L in D))&&(D=$),M.setState(D,!0)},subscribe(N,D,$){return M.subscribe(N,D,$?{...$,fireImmediately:$.emitImmediately}:void 0)},_internal:{mipd:o,store:M,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(N){const D=typeof N=="function"?N(a.getState()):N;if(D.length!==0)return a.setState(D,!0)},subscribe(N){return a.subscribe(N)}},connectors:{providerDetailToConnector:m,setup:l,setState(N){return c.setState(typeof N=="function"?N(c.getState()):N,!0)},subscribe(N){return c.subscribe(N)}},events:{change:F,connect:C,disconnect:z}}}}function cw(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const m=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const g of m)i.add(g)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const m=t._internal.connectors.providerDetailToConnector(l),g=t._internal.connectors.setup(m);o.push(g)}return[...s,...o]})),r?Dy(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}const uw={getItem(t){return typeof window>"u"?null:lw(document.cookie,t)??null},setItem(t,e){typeof window>"u"||(document.cookie=`${t}=${e};path=/;samesite=Lax`)},removeItem(t){typeof window>"u"||(document.cookie=`${t}=;max-age=-1;path=/`)}};function lw(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}function dw(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:i}=cw(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=ie.useRef(!0);return ie.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),e}const vh=ie.createContext(void 0);function fw(t){const{children:e,config:n}=t,r={value:n};return ie.createElement(dw,t,ie.createElement(vh.Provider,r,e))}const hw="2.16.3",pw=()=>`wagmi@${hw}`;let mw=class extends Va{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return pw()}};class xh extends mw{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Ha(t={}){const e=t.config??ie.useContext(vh);if(!e)throw new xh;return e}var Eh={exports:{}},_h={},Sh={exports:{}},Ih={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=ie;function gw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yw=typeof Object.is=="function"?Object.is:gw,ww=Qs.useState,bw=Qs.useEffect,vw=Qs.useLayoutEffect,xw=Qs.useDebugValue;function Ew(t,e){var n=e(),r=ww({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return vw(function(){s.value=n,s.getSnapshot=e,Tc(s)&&i({inst:s})},[t,n,e]),bw(function(){return Tc(s)&&i({inst:s}),t(function(){Tc(s)&&i({inst:s})})},[t]),xw(n),n}function Tc(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yw(t,n)}catch{return!0}}function _w(t,e){return e()}var Sw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_w:Ew;Ih.useSyncExternalStore=Qs.useSyncExternalStore!==void 0?Qs.useSyncExternalStore:Sw;Sh.exports=Ih;var Iw=Sh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=ie,Aw=Iw;function kw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bw=typeof Object.is=="function"?Object.is:kw,Mw=Aw.useSyncExternalStore,Rw=Za.useRef,Cw=Za.useEffect,Ow=Za.useMemo,Tw=Za.useDebugValue;_h.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Rw(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ow(function(){function c(b){if(!l){if(l=!0,m=b,b=r(b),s!==void 0&&o.hasValue){var k=o.value;if(s(k,b))return g=k}return g=b}if(k=g,Bw(m,b))return k;var A=r(b);return s!==void 0&&s(k,A)?(m=b,k):(m=b,g=A)}var l=!1,m,g,y=n===void 0?null:n;return[function(){return c(e())},y===null?void 0:function(){return c(y())}]},[e,n,r,s]);var a=Mw(t,i[0],i[1]);return Cw(function(){o.hasValue=!0,o.value=a},[a]),Tw(a),a};Eh.exports=_h;var Pw=Eh.exports;const Pc=t=>typeof t=="object"&&!Array.isArray(t);function Uw(t,e,n=e,r=Ki){const s=ie.useRef([]),i=Pw.useSyncExternalStoreWithSelector(t,e,n,o=>o,(o,a)=>{if(Pc(o)&&Pc(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return ie.useMemo(()=>{if(Pc(i)){const o={...i};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),l)}};return Object.defineProperties(o,a),o}return i},[i])}function Lw(t={}){const e=Ha(t);return Uw(n=>qy(e,{onChange:n}),()=>gh(e))}function Nw(t){return{mutationFn(e){return Fy(t,e)},mutationKey:["connect"]}}function Fw(t={}){const e=Ha(t);return ie.useSyncExternalStore(n=>Ky(e,{onChange:n}),()=>fd(e),()=>fd(e))}function jw(t={}){const{mutation:e}=t,n=Ha(t),r=Nw(n),{mutate:s,mutateAsync:i,...o}=Iy({...e,...r});return ie.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:Fw({config:n})}}function zw(t={}){let e,n,r,s;return i=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:o}={}){try{const a=await this.getProvider(),c=(await a.request({method:"eth_requestAccounts",params:[]})).map(m=>$t(m));n||(n=this.onAccountsChanged.bind(this),a.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),a.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),a.on("disconnect",s));let l=await this.getChainId();if(o&&l!==o){const m=await this.switchChain({chainId:o}).catch(g=>{if(g.code===rt.code)throw g;return{id:l}});l=(m==null?void 0:m.id)??l}return{accounts:c,chainId:l}}catch(a){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(a.message)?new rt(a):a}},async disconnect(){const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>$t(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const o=(()=>{var l;return typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:((l=t.preference)==null?void 0:l.options)??"all"}})(),{createBaseAccountSDK:a}=await Wu(()=>import("./index-91670f18.js"),["./index-91670f18.js","./hooks.module-dd6ad649.js","./index-3968e29f.js","./vendor-e72fc605.js","./icons-17698402.js"],import.meta.url);e=a({...t,appChainIds:i.chains.map(l=>l.id),preference:o}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var m,g,y,b;const c=i.chains.find(k=>k.id===a);if(!c)throw new tn(new as);const l=await this.getProvider();try{return await l.request({method:"wallet_switchEthereumChain",params:[{chainId:xe(c.id)}]}),c}catch(k){if(k.code===4902)try{let A;o!=null&&o.blockExplorerUrls?A=o.blockExplorerUrls:A=(m=c.blockExplorers)!=null&&m.default.url?[(g=c.blockExplorers)==null?void 0:g.default.url]:[];let M;(y=o==null?void 0:o.rpcUrls)!=null&&y.length?M=o.rpcUrls:M=[((b=c.rpcUrls.default)==null?void 0:b.http[0])??""];const O={blockExplorerUrls:A,chainId:xe(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:M};return await l.request({method:"wallet_addEthereumChain",params:[O]}),c}catch(A){throw new rt(A)}throw new tn(k)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>$t(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}_o.type="coinbaseWallet";function _o(t={}){return t.version==="3"||t.headlessMode?Dw(t):$w(t)}function $w(t){let e,n,r,s;return i=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:_o.type,async connect({chainId:o,...a}={}){try{const c=await this.getProvider(),l=(await c.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(g=>$t(g));n||(n=this.onAccountsChanged.bind(this),c.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),c.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let m=await this.getChainId();if(o&&m!==o){const g=await this.switchChain({chainId:o}).catch(y=>{if(y.code===rt.code)throw y;return{id:m}});m=(g==null?void 0:g.id)??m}return{accounts:l,chainId:m}}catch(c){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(c.message)?new rt(c):c}},async disconnect(){var a;const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect(),(a=o.close)==null||a.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>$t(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const o=(()=>{var l;return typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:((l=t.preference)==null?void 0:l.options)??"all"}})(),{createCoinbaseWalletSDK:a}=await Wu(()=>import("./index-9c2b0873.js"),["./index-9c2b0873.js","./hooks.module-dd6ad649.js","./index-3968e29f.js","./vendor-e72fc605.js","./icons-17698402.js"],import.meta.url);e=a({...t,appChainIds:i.chains.map(l=>l.id),preference:o}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var m,g,y,b;const c=i.chains.find(k=>k.id===a);if(!c)throw new tn(new as);const l=await this.getProvider();try{return await l.request({method:"wallet_switchEthereumChain",params:[{chainId:xe(c.id)}]}),c}catch(k){if(k.code===4902)try{let A;o!=null&&o.blockExplorerUrls?A=o.blockExplorerUrls:A=(m=c.blockExplorers)!=null&&m.default.url?[(g=c.blockExplorers)==null?void 0:g.default.url]:[];let M;(y=o==null?void 0:o.rpcUrls)!=null&&y.length?M=o.rpcUrls:M=[((b=c.rpcUrls.default)==null?void 0:b.http[0])??""];const O={blockExplorerUrls:A,chainId:xe(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:M};return await l.request({method:"wallet_addEthereumChain",params:[O]}),c}catch(A){throw new rt(A)}throw new tn(k)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>$t(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}function Dw(t){let n,r,s,i,o;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:_o.type,async connect({chainId:c}={}){try{const l=await this.getProvider(),m=(await l.request({method:"eth_requestAccounts"})).map(y=>$t(y));s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),l.on("chainChanged",i)),o||(o=this.onDisconnect.bind(this),l.on("disconnect",o));let g=await this.getChainId();if(c&&g!==c){const y=await this.switchChain({chainId:c}).catch(b=>{if(b.code===rt.code)throw b;return{id:g}});g=(y==null?void 0:y.id)??g}return{accounts:m,chainId:g}}catch(l){throw/(user closed modal|accounts received is empty|user denied account)/i.test(l.message)?new rt(l):l}},async disconnect(){const c=await this.getProvider();s&&(c.removeListener("accountsChanged",s),s=void 0),i&&(c.removeListener("chainChanged",i),i=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>$t(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){var c;if(!r){const l=await(async()=>{const{default:k}=await Wu(()=>import("./index-ed800ba1.js").then(A=>A.i),["./index-ed800ba1.js","./vendor-e72fc605.js","./hooks.module-dd6ad649.js"],import.meta.url);return typeof k!="function"&&typeof k.default=="function"?k.default:k})();n=new l({...t,reloadOnDisconnect:!1});const m=(c=n.walletExtension)==null?void 0:c.getChainId(),g=a.chains.find(k=>t.chainId?k.id===t.chainId:k.id===m)||a.chains[0],y=t.chainId||(g==null?void 0:g.id),b=t.jsonRpcUrl||(g==null?void 0:g.rpcUrls.default.http[0]);r=n.makeWeb3Provider(b,y)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:l}){var y,b,k,A;const m=a.chains.find(M=>M.id===l);if(!m)throw new tn(new as);const g=await this.getProvider();try{return await g.request({method:"wallet_switchEthereumChain",params:[{chainId:xe(m.id)}]}),m}catch(M){if(M.code===4902)try{let O;c!=null&&c.blockExplorerUrls?O=c.blockExplorerUrls:O=(y=m.blockExplorers)!=null&&y.default.url?[(b=m.blockExplorers)==null?void 0:b.default.url]:[];let F;(k=c==null?void 0:c.rpcUrls)!=null&&k.length?F=c.rpcUrls:F=[((A=m.rpcUrls.default)==null?void 0:A.http[0])??""];const C={blockExplorerUrls:O,chainId:xe(l),chainName:(c==null?void 0:c.chainName)??m.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??m.nativeCurrency,rpcUrls:F};return await g.request({method:"wallet_addEthereumChain",params:[C]}),m}catch(O){throw new rt(O)}throw new tn(M)}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(l=>$t(l))})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){a.emitter.emit("disconnect");const l=await this.getProvider();s&&(l.removeListener("accountsChanged",s),s=void 0),i&&(l.removeListener("chainChanged",i),i=void 0),o&&(l.removeListener("disconnect",o),o=void 0)}})}const qw=({apiKey:t,appName:e,appLogoUrl:n,connectors:r=[_o({appName:e,appLogoUrl:n,preference:"all"})]})=>aw({chains:[_i,Si],connectors:r,storage:wh({storage:uw}),ssr:!0,transports:{[_i.id]:t?zo(`https://api.developer.coinbase.com/rpc/v1/base/${t}`):zo(),[Si.id]:t?zo(`https://api.developer.coinbase.com/rpc/v1/base-sepolia/${t}`):zo()}});function Kw(){let t=null,e=null;try{t=Ha()}catch(n){n instanceof xh||console.error("Error fetching WagmiProvider, using default:",n)}try{e=Zu()}catch(n){n.message!=="No QueryClient set, use QueryClientProvider to set one"&&console.error("Error fetching QueryClient, using default:",n)}return ie.useMemo(()=>({providedWagmiConfig:t,providedQueryClient:e}),[t,e])}const Ah=ie.createContext(Du);function Vw(){return ie.useContext(Ah)}function kh({children:t,connectors:e}){const{providedWagmiConfig:n,providedQueryClient:r}=Kw();return Y.jsx(Hw,{providedWagmiConfig:n,connectors:e,children:Y.jsx(Zw,{providedQueryClient:r,children:t})})}function Hw({children:t,providedWagmiConfig:e,connectors:n}){const r=Vw(),s=ie.useRef(n),i=ie.useCallback(()=>{var c,l,m,g;if(e)return e;const y=((l=(c=r.config)==null?void 0:c.appearance)==null?void 0:l.name)??void 0,b=((g=(m=r.config)==null?void 0:m.appearance)==null?void 0:g.logo)??void 0;return qw({apiKey:r.apiKey??void 0,appName:y,appLogoUrl:b,connectors:n??[zw({appName:y,appLogoUrl:b})]})},[r.apiKey,r.config,n,e]),[o,a]=ie.useState(()=>i());return ie.useEffect(()=>{s.current!==n&&(a(i()),s.current=n)},[n,i]),e?t:Y.jsx(fw,{config:o,children:t})}function Zw({children:t,providedQueryClient:e}){const n=ie.useMemo(()=>e||new ay,[e]);return e?t:Y.jsx(fy,{client:n,children:t})}const Ww="https://api.developer.coinbase.com/analytics";let Yu=class extends Error{constructor(n,r={}){super(n,r.cause?{cause:r.cause}:void 0);nr(this,"name","BaseError");nr(this,"cause");this.cause=r.cause}};class Gw extends Yu{constructor(){super("Invalid domain manifest");nr(this,"name","AddMiniApp.InvalidDomainManifest")}}let Jw=class extends Yu{constructor(){super("Add miniapp rejected by user");nr(this,"name","AddMiniApp.RejectedByUser")}};class Bh extends Yu{constructor(){super("Sign in rejected by user");nr(this,"name","SignIn.RejectedByUser")}}var Te;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Te||(Te={}));var gd;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(gd||(gd={}));const ce=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lr=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},J=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class er extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}static assert(e){if(!(e instanceof er))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}er.create=t=>new er(t);const Yw=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Te.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Te.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Te.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Te.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Te.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Te.assertNever(t)}return{message:n}},yu=Yw;let Qw=yu;function Xw(){return Qw}const eb=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function ne(t,e){const n=Xw(),r=eb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===yu?void 0:yu].filter(s=>!!s)});t.common.issues.push(r)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return we;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return ln.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return we;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),bi=t=>({status:"dirty",value:t}),bn=t=>({status:"valid",value:t}),yd=t=>t.status==="aborted",wd=t=>t.status==="dirty",Xs=t=>t.status==="valid",oa=t=>typeof Promise<"u"&&t instanceof Promise;var le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));class Or{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bd=(t,e)=>{if(Xs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new er(t.common.issues);return this._error=n,this._error}}};function Me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:s}}class Oe{get description(){return this._def.description}_getType(e){return lr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:lr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ln,ctx:{common:e.parent.common,data:e.data,parsedType:lr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(oa(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lr(e)},s=this._parseSync({data:e,path:r.path,parent:r});return bd(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Xs(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Xs(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(oa(s)?s:Promise.resolve(s));return bd(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new tr({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yn.create(this,this._def)}nullable(){return ls.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Un.create(this)}promise(){return ma.create(this,this._def)}or(e){return la.create([this,e],this._def)}and(e){return da.create(this,e,this._def)}transform(e){return new tr({...Me(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ga({...Me(this._def),innerType:this,defaultValue:n,typeName:ve.ZodDefault})}brand(){return new Oh({typeName:ve.ZodBranded,type:this,...Me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ya({...Me(this._def),innerType:this,catchValue:n,typeName:ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xu.create(this,e)}readonly(){return wa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tb=/^c[^\s-]{8,}$/i,nb=/^[0-9a-z]+$/,rb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ib=/^[a-z0-9_-]{21}$/i,ob=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ab=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ub="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uc;const lb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,db=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Mh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gb=new RegExp(`^${Mh}$`);function Rh(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function yb(t){return new RegExp(`^${Rh(t)}$`)}function wb(t){let e=`${Mh}T${Rh(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function bb(t,e){return!!((e==="v4"||!e)&&lb.test(t)||(e==="v6"||!e)&&fb.test(t))}function vb(t,e){if(!ob.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function xb(t,e){return!!((e==="v4"||!e)&&db.test(t)||(e==="v6"||!e)&&hb.test(t))}class xr extends Oe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return ne(i,{code:J.invalid_type,expected:ce.string,received:i.parsedType}),we}const r=new ln;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ne(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ne(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")cb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Uc||(Uc=new RegExp(ub,"u")),Uc.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")sb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ib.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")tb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")nb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")rb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?wb(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?gb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?yb(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?ab.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?bb(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?vb(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"jwt",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?xb(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cidr",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?pb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?mb.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64url",code:J.invalid_string,message:i.message}),r.dirty()):Te.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...le.errToObj(r)})}_addCheck(e){return new xr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...le.errToObj(n)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new xr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xr.create=t=>new xr({checks:[],typeName:ve.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});function Eb(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class ei extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return ne(i,{code:J.invalid_type,expected:ce.number,received:i.parsedType}),we}let r;const s=new ln;for(const i of this._def.checks)i.kind==="int"?Te.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Eb(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:J.not_finite,message:i.message}),s.dirty()):Te.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new ei({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ei.create=t=>new ei({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Vi extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let r;const s=new ln;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Te.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ne(n,{code:J.invalid_type,expected:ce.bigint,received:n.parsedType}),we}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Vi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Vi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vi.create=t=>new Vi({checks:[],typeName:ve.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});class wu extends Oe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:J.invalid_type,expected:ce.boolean,received:r.parsedType}),we}return bn(e.data)}}wu.create=t=>new wu({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class aa extends Oe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return ne(i,{code:J.invalid_type,expected:ce.date,received:i.parsedType}),we}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:J.invalid_date}),we}const r=new ln;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Te.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new aa({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}aa.create=t=>new aa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...Me(t)});class vd extends Oe{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:J.invalid_type,expected:ce.symbol,received:r.parsedType}),we}return bn(e.data)}}vd.create=t=>new vd({typeName:ve.ZodSymbol,...Me(t)});class ca extends Oe{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:J.invalid_type,expected:ce.undefined,received:r.parsedType}),we}return bn(e.data)}}ca.create=t=>new ca({typeName:ve.ZodUndefined,...Me(t)});class ua extends Oe{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return ne(r,{code:J.invalid_type,expected:ce.null,received:r.parsedType}),we}return bn(e.data)}}ua.create=t=>new ua({typeName:ve.ZodNull,...Me(t)});class xd extends Oe{constructor(){super(...arguments),this._any=!0}_parse(e){return bn(e.data)}}xd.create=t=>new xd({typeName:ve.ZodAny,...Me(t)});class Ed extends Oe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bn(e.data)}}Ed.create=t=>new Ed({typeName:ve.ZodUnknown,...Me(t)});class Tr extends Oe{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:J.invalid_type,expected:ce.never,received:n.parsedType}),we}}Tr.create=t=>new Tr({typeName:ve.ZodNever,...Me(t)});class _d extends Oe{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:J.invalid_type,expected:ce.void,received:r.parsedType}),we}return bn(e.data)}}_d.create=t=>new _d({typeName:ve.ZodVoid,...Me(t)});class Un extends Oe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return ne(n,{code:J.invalid_type,expected:ce.array,received:n.parsedType}),we;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ne(n,{code:o?J.too_big:J.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ne(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ne(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Or(n,o,n.path,a)))).then(o=>ln.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Or(n,o,n.path,a)));return ln.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Un({...this._def,minLength:{value:e,message:le.toString(n)}})}max(e,n){return new Un({...this._def,maxLength:{value:e,message:le.toString(n)}})}length(e,n){return new Un({...this._def,exactLength:{value:e,message:le.toString(n)}})}nonempty(e){return this.min(1,e)}}Un.create=(t,e)=>new Un({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Me(e)});function ks(t){if(t instanceof tt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Yn.create(ks(r))}return new tt({...t._def,shape:()=>e})}else return t instanceof Un?new Un({...t._def,type:ks(t.element)}):t instanceof Yn?Yn.create(ks(t.unwrap())):t instanceof ls?ls.create(ks(t.unwrap())):t instanceof cs?cs.create(t.items.map(e=>ks(e))):t}class tt extends Oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Te.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ce.object){const l=this._getOrReturnCtx(e);return ne(l,{code:J.invalid_type,expected:ce.object,received:l.parsedType}),we}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Tr&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const m=i[l],g=s.data[l];c.push({key:{status:"valid",value:l},value:m._parse(new Or(s,g,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Tr){const l=this._def.unknownKeys;if(l==="passthrough")for(const m of a)c.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(l==="strict")a.length>0&&(ne(s,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const m of a){const g=s.data[m];c.push({key:{status:"valid",value:m},value:l._parse(new Or(s,g,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const m of c){const g=await m.key,y=await m.value;l.push({key:g,value:y,alwaysSet:m.alwaysSet})}return l}).then(l=>ln.mergeObjectSync(r,l)):ln.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:le.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const n={};for(const r of Te.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new tt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Te.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new tt({...this._def,shape:()=>n})}deepPartial(){return ks(this)}partial(e){const n={};for(const r of Te.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new tt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Te.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Yn;)i=i._def.innerType;n[r]=i}return new tt({...this._def,shape:()=>n})}keyof(){return Ch(Te.objectKeys(this.shape))}}tt.create=(t,e)=>new tt({shape:()=>t,unknownKeys:"strip",catchall:Tr.create(),typeName:ve.ZodObject,...Me(e)});tt.strictCreate=(t,e)=>new tt({shape:()=>t,unknownKeys:"strict",catchall:Tr.create(),typeName:ve.ZodObject,...Me(e)});tt.lazycreate=(t,e)=>new tt({shape:t,unknownKeys:"strip",catchall:Tr.create(),typeName:ve.ZodObject,...Me(e)});class la extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new er(a.ctx.common.issues));return ne(n,{code:J.invalid_union,unionErrors:o}),we}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},m=c._parseSync({data:n.data,path:n.path,parent:l});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new er(c));return ne(n,{code:J.invalid_union,unionErrors:a}),we}}get options(){return this._def.options}}la.create=(t,e)=>new la({options:t,typeName:ve.ZodUnion,...Me(e)});const Kn=t=>t instanceof fa?Kn(t.schema):t instanceof tr?Kn(t.innerType()):t instanceof ha?[t.value]:t instanceof us?t.options:t instanceof pa?Te.objectValues(t.enum):t instanceof ga?Kn(t._def.innerType):t instanceof ca?[void 0]:t instanceof ua?[null]:t instanceof Yn?[void 0,...Kn(t.unwrap())]:t instanceof ls?[null,...Kn(t.unwrap())]:t instanceof Oh||t instanceof wa?Kn(t.unwrap()):t instanceof ya?Kn(t._def.innerType):[];class Qu extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return ne(n,{code:J.invalid_type,expected:ce.object,received:n.parsedType}),we;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Kn(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Qu({typeName:ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Me(r)})}}function bu(t,e){const n=lr(t),r=lr(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=Te.objectKeys(e),i=Te.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=bu(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=bu(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class da extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(yd(i)||yd(o))return we;const a=bu(i.value,o.value);return a.valid?((wd(i)||wd(o))&&n.dirty(),{status:n.value,value:a.data}):(ne(r,{code:J.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}da.create=(t,e,n)=>new da({left:t,right:e,typeName:ve.ZodIntersection,...Me(n)});class cs extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return ne(r,{code:J.invalid_type,expected:ce.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return ne(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Or(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>ln.mergeArray(n,o)):ln.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new cs({...this._def,rest:e})}}cs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cs({items:t,typeName:ve.ZodTuple,rest:null,...Me(e)})};class Sd extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return ne(r,{code:J.invalid_type,expected:ce.map,received:r.parsedType}),we;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new Or(r,a,r.path,[l,"key"])),value:i._parse(new Or(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,m=await c.value;if(l.status==="aborted"||m.status==="aborted")return we;(l.status==="dirty"||m.status==="dirty")&&n.dirty(),a.set(l.value,m.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,m=c.value;if(l.status==="aborted"||m.status==="aborted")return we;(l.status==="dirty"||m.status==="dirty")&&n.dirty(),a.set(l.value,m.value)}return{status:n.value,value:a}}}}Sd.create=(t,e,n)=>new Sd({valueType:e,keyType:t,typeName:ve.ZodMap,...Me(n)});class Hi extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return ne(r,{code:J.invalid_type,expected:ce.set,received:r.parsedType}),we;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ne(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ne(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const m of c){if(m.status==="aborted")return we;m.status==="dirty"&&n.dirty(),l.add(m.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new Or(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Hi({...this._def,minSize:{value:e,message:le.toString(n)}})}max(e,n){return new Hi({...this._def,maxSize:{value:e,message:le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hi.create=(t,e)=>new Hi({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...Me(e)});class fa extends Oe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}fa.create=(t,e)=>new fa({getter:t,typeName:ve.ZodLazy,...Me(e)});class ha extends Oe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}ha.create=(t,e)=>new ha({value:t,typeName:ve.ZodLiteral,...Me(e)});function Ch(t,e){return new us({values:t,typeName:ve.ZodEnum,...Me(e)})}class us extends Oe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:Te.joinValues(r),received:n.parsedType,code:J.invalid_type}),we}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:J.invalid_enum_value,options:r}),we}return bn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return us.create(e,{...this._def,...n})}exclude(e,n=this._def){return us.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}us.create=Ch;class pa extends Oe{_parse(e){const n=Te.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=Te.objectValues(n);return ne(r,{expected:Te.joinValues(s),received:r.parsedType,code:J.invalid_type}),we}if(this._cache||(this._cache=new Set(Te.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Te.objectValues(n);return ne(r,{received:r.data,code:J.invalid_enum_value,options:s}),we}return bn(e.data)}get enum(){return this._def.values}}pa.create=(t,e)=>new pa({values:t,typeName:ve.ZodNativeEnum,...Me(e)});class ma extends Oe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return ne(n,{code:J.invalid_type,expected:ce.promise,received:n.parsedType}),we;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return bn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ma.create=(t,e)=>new ma({type:t,typeName:ve.ZodPromise,...Me(e)});class tr extends Oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ne(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return we;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?we:c.status==="dirty"||n.value==="dirty"?bi(c.value):c});{if(n.value==="aborted")return we;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?we:a.status==="dirty"||n.value==="dirty"?bi(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xs(o))return we;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Xs(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):we);Te.assertNever(s)}}tr.create=(t,e,n)=>new tr({schema:t,typeName:ve.ZodEffects,effect:e,...Me(n)});tr.createWithPreprocess=(t,e,n)=>new tr({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...Me(n)});class Yn extends Oe{_parse(e){return this._getType(e)===ce.undefined?bn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yn.create=(t,e)=>new Yn({innerType:t,typeName:ve.ZodOptional,...Me(e)});class ls extends Oe{_parse(e){return this._getType(e)===ce.null?bn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ls.create=(t,e)=>new ls({innerType:t,typeName:ve.ZodNullable,...Me(e)});class ga extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ga.create=(t,e)=>new ga({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Me(e)});class ya extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return oa(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new er(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new er(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ya.create=(t,e)=>new ya({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Me(e)});class Id extends Oe{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:J.invalid_type,expected:ce.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}Id.create=t=>new Id({typeName:ve.ZodNaN,...Me(t)});class Oh extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xu extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),bi(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Xu({in:e,out:n,typeName:ve.ZodPipeline})}}class wa extends Oe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Xs(s)&&(s.value=Object.freeze(s.value)),s);return oa(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}wa.create=(t,e)=>new wa({innerType:t,typeName:ve.ZodReadonly,...Me(e)});tt.lazycreate;var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ve||(ve={}));const st=xr.create,Th=ei.create,_b=wu.create;ca.create;ua.create;Tr.create;const ns=Un.create,At=tt.create;tt.strictCreate;const ba=la.create,Ph=Qu.create;da.create;cs.create;fa.create;const Mt=ha.create,el=us.create;pa.create;ma.create;tr.create;Yn.create;ls.create;tr.createWithPreprocess;const Sb=/[@#$%^&*+=/\\|~«»]/,Ib=/(!{2,}|\?{2,}|-{2,})/,Ab=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,ui=({max:t,noSpaces:e}={})=>(e?st().max(t??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):st().max(t??Number.POSITIVE_INFINITY)).refine(r=>!Ab.test(r),{message:"Emojis and symbols are not allowed"}).refine(r=>!Sb.test(r),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, «, ») are not allowed"}).refine(r=>!Ib.test(r),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),Vt=st().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(t=>!t.includes(" "),{message:"URL must not contain spaces"}).refine(t=>{try{const e=new URL(t).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),tl=st().max(32),Uh=st().max(32),kb=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,Bb=st().regex(kb,{message:"Invalid CAIP-19 asset ID"}),nl=st().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),Mb=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Rb=st().max(1024).regex(Mb,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(t=>!t.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(t=>!t.includes("/"),{message:"Domain must not include path separators"}).refine(t=>!t.includes("@"),{message:"Domain must not include @ symbol"}).refine(t=>!t.includes(":"),{message:"Domain must not include port numbers"}),Cb=ba([Mt("1:1"),Mt("3:2")]),Ob=At({header:st(),payload:st(),signature:st()});At({fid:Th(),type:Mt("app_key"),key:st().startsWith("0x")});const Tb=At({type:Mt("launch_frame"),name:tl,url:Vt.optional(),splashImageUrl:Vt.optional(),splashBackgroundColor:nl.optional()}),Pb=At({type:Mt("launch_miniapp"),name:tl,url:Vt.optional(),splashImageUrl:Vt.optional(),splashBackgroundColor:nl.optional()}),Ub=At({type:Mt("view_token"),token:Bb}),Lb=Ph("type",[Pb,Ub,Tb]),Nb=At({title:Uh,action:Lb});At({version:ba([st(),Th()]).transform(t=>String(t)).pipe(ba([Mt("next"),Mt("1")])),imageUrl:Vt,aspectRatio:Cb.optional(),button:Nb});const rl=At({url:st(),token:st()});At({notificationId:st().max(128),title:st().max(32),body:st().max(128),targetUrl:Vt,tokens:st().array().max(100)});At({result:At({successfulTokens:ns(st()),invalidTokens:ns(st()),rateLimitedTokens:ns(st())})});const Fb=At({event:Mt("miniapp_added"),notificationDetails:rl.optional()}),jb=At({event:Mt("frame_added"),notificationDetails:rl.optional()}),zb=At({event:Mt("miniapp_removed")}),$b=At({event:Mt("frame_removed")}),Db=At({event:Mt("notifications_enabled"),notificationDetails:rl.required()}),qb=At({event:Mt("notifications_disabled")});Ph("event",[Fb,zb,Db,qb,jb,$b]);const Kb=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],Vb=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],Hb=el(Vb),Zb=ba([Mt("0.0.0"),Mt("0.0.1"),Mt("1"),Mt("next")]),Wb=ui({max:30}),Gb=ui({max:170}),Jb=ns(Vt).max(3),Yb=ns(ui({max:20,noSpaces:!0})).max(5),Qb=ui({max:30}),Xb=ui({max:30}),ev=ui({max:100}),tv=_b(),nv=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function Lh(t){const e=new Set(t);return Array.from(e)}const rv=ns(el(nv)).transform(Lh),sv=ns(el(Kb)).transform(Lh),Ad=At({version:Zb,name:tl,iconUrl:Vt,homeUrl:Vt,imageUrl:Vt.optional(),buttonTitle:Uh.optional(),splashImageUrl:Vt.optional(),splashBackgroundColor:nl.optional(),webhookUrl:Vt.optional(),subtitle:Wb.optional(),description:Gb.optional(),screenshotUrls:Jb.optional(),primaryCategory:Hb.optional(),tags:Yb.optional(),heroImageUrl:Vt.optional(),tagline:Qb.optional(),ogTitle:Xb.optional(),ogDescription:ev.optional(),ogImageUrl:Vt.optional(),noindex:tv.optional(),requiredChains:rv.optional(),requiredCapabilities:sv.optional(),castShareUrl:Vt.optional(),canonicalDomain:Rb.optional()}).refine(t=>{if(t.castShareUrl===void 0)return!0;try{const e=new URL(t.homeUrl).hostname,n=new URL(t.castShareUrl).hostname;return e===n}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});At({accountAssociation:Ob,miniapp:Ad.optional(),frame:Ad.optional()}).refine(t=>t.frame&&t.miniapp?JSON.stringify(t.frame)===JSON.stringify(t.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(t=>({...t,frame:t.frame??t.miniapp}));var ke={},Wa={};Wa.byteLength=av;Wa.toByteArray=uv;Wa.fromByteArray=fv;var Pn=[],pn=[],iv=typeof Uint8Array<"u"?Uint8Array:Array,Lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Es=0,ov=Lc.length;Es<ov;++Es)Pn[Es]=Lc[Es],pn[Lc.charCodeAt(Es)]=Es;pn["-".charCodeAt(0)]=62;pn["_".charCodeAt(0)]=63;function Nh(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function av(t){var e=Nh(t),n=e[0],r=e[1];return(n+r)*3/4-r}function cv(t,e,n){return(e+n)*3/4-n}function uv(t){var e,n=Nh(t),r=n[0],s=n[1],i=new iv(cv(t,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)e=pn[t.charCodeAt(c)]<<18|pn[t.charCodeAt(c+1)]<<12|pn[t.charCodeAt(c+2)]<<6|pn[t.charCodeAt(c+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=pn[t.charCodeAt(c)]<<2|pn[t.charCodeAt(c+1)]>>4,i[o++]=e&255),s===1&&(e=pn[t.charCodeAt(c)]<<10|pn[t.charCodeAt(c+1)]<<4|pn[t.charCodeAt(c+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function lv(t){return Pn[t>>18&63]+Pn[t>>12&63]+Pn[t>>6&63]+Pn[t&63]}function dv(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(lv(r));return s.join("")}function fv(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(dv(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(Pn[e>>2]+Pn[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Pn[e>>10]+Pn[e>>4&63]+Pn[e<<2&63]+"=")),s.join("")}var sl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */sl.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,l=c>>1,m=-7,g=n?s-1:0,y=n?-1:1,b=t[e+g];for(g+=y,i=b&(1<<-m)-1,b>>=-m,m+=a;m>0;i=i*256+t[e+g],g+=y,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=r;m>0;o=o*256+t[e+g],g+=y,m-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-l}return(b?-1:1)*o*Math.pow(2,i-r)};sl.write=function(t,e,n,r,s,i){var o,a,c,l=i*8-s-1,m=(1<<l)-1,g=m>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=r?0:i-1,k=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+g>=1?e+=y/c:e+=y*Math.pow(2,1-g),e*c>=2&&(o++,c/=2),o+g>=m?(a=0,o=m):o+g>=1?(a=(e*c-1)*Math.pow(2,s),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,s),o=0));s>=8;t[n+b]=a&255,b+=k,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[n+b]=o&255,b+=k,o/=256,l-=8);t[n+b-k]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Wa,n=sl,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=F,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const v=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(v,d),v.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>s)throw new RangeError('The value "'+v+'" is invalid for option "size"');const d=new Uint8Array(v);return Object.setPrototypeOf(d,a.prototype),d}function a(v,d,h){if(typeof v=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(v)}return c(v,d,h)}a.poolSize=8192;function c(v,d,h){if(typeof v=="string")return y(v,d);if(ArrayBuffer.isView(v))return k(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(sn(v,ArrayBuffer)||v&&sn(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sn(v,SharedArrayBuffer)||v&&sn(v.buffer,SharedArrayBuffer)))return A(v,d,h);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const S=v.valueOf&&v.valueOf();if(S!=null&&S!==v)return a.from(S,d,h);const U=M(v);if(U)return U;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),d,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,d,h){return c(v,d,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function m(v,d,h){return l(v),v<=0?o(v):d!==void 0?typeof h=="string"?o(v).fill(d,h):o(v).fill(d):o(v)}a.alloc=function(v,d,h){return m(v,d,h)};function g(v){return l(v),o(v<0?0:O(v)|0)}a.allocUnsafe=function(v){return g(v)},a.allocUnsafeSlow=function(v){return g(v)};function y(v,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const h=C(v,d)|0;let S=o(h);const U=S.write(v,d);return U!==h&&(S=S.slice(0,U)),S}function b(v){const d=v.length<0?0:O(v.length)|0,h=o(d);for(let S=0;S<d;S+=1)h[S]=v[S]&255;return h}function k(v){if(sn(v,Uint8Array)){const d=new Uint8Array(v);return A(d.buffer,d.byteOffset,d.byteLength)}return b(v)}function A(v,d,h){if(d<0||v.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<d+(h||0))throw new RangeError('"length" is outside of buffer bounds');let S;return d===void 0&&h===void 0?S=new Uint8Array(v):h===void 0?S=new Uint8Array(v,d):S=new Uint8Array(v,d,h),Object.setPrototypeOf(S,a.prototype),S}function M(v){if(a.isBuffer(v)){const d=O(v.length)|0,h=o(d);return h.length===0||v.copy(h,0,0,d),h}if(v.length!==void 0)return typeof v.length!="number"||Ve(v.length)?o(0):b(v);if(v.type==="Buffer"&&Array.isArray(v.data))return b(v.data)}function O(v){if(v>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return v|0}function F(v){return+v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,h){if(sn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),sn(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(d)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===h)return 0;let S=d.length,U=h.length;for(let j=0,V=Math.min(S,U);j<V;++j)if(d[j]!==h[j]){S=d[j],U=h[j];break}return S<U?-1:U<S?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,h){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let S;if(h===void 0)for(h=0,S=0;S<d.length;++S)h+=d[S].length;const U=a.allocUnsafe(h);let j=0;for(S=0;S<d.length;++S){let V=d[S];if(sn(V,Uint8Array))j+V.length>U.length?(a.isBuffer(V)||(V=a.from(V)),V.copy(U,j)):Uint8Array.prototype.set.call(U,V,j);else if(a.isBuffer(V))V.copy(U,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=V.length}return U};function C(v,d){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||sn(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const h=v.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&h===0)return 0;let U=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Ke(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return He(v).length;default:if(U)return S?-1:Ke(v).length;d=(""+d).toLowerCase(),U=!0}}a.byteLength=C;function z(v,d,h){let S=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,d>>>=0,h<=d))return"";for(v||(v="utf8");;)switch(v){case"hex":return R(this,d,h);case"utf8":case"utf-8":return u(this,d,h);case"ascii":return _(this,d,h);case"latin1":case"binary":return I(this,d,h);case"base64":return x(this,d,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,d,h);default:if(S)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),S=!0}}a.prototype._isBuffer=!0;function N(v,d,h){const S=v[d];v[d]=v[h],v[h]=S}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<d;h+=2)N(this,h,h+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<d;h+=4)N(this,h,h+3),N(this,h+1,h+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<d;h+=8)N(this,h,h+7),N(this,h+1,h+6),N(this,h+2,h+5),N(this,h+3,h+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?u(this,0,d):z.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const h=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(d+=" ... "),"<Buffer "+d+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(d,h,S,U,j){if(sn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(h===void 0&&(h=0),S===void 0&&(S=d?d.length:0),U===void 0&&(U=0),j===void 0&&(j=this.length),h<0||S>d.length||U<0||j>this.length)throw new RangeError("out of range index");if(U>=j&&h>=S)return 0;if(U>=j)return-1;if(h>=S)return 1;if(h>>>=0,S>>>=0,U>>>=0,j>>>=0,this===d)return 0;let V=j-U,Ie=S-h;const Ee=Math.min(V,Ie),be=this.slice(U,j),De=d.slice(h,S);for(let me=0;me<Ee;++me)if(be[me]!==De[me]){V=be[me],Ie=De[me];break}return V<Ie?-1:Ie<V?1:0};function D(v,d,h,S,U){if(v.length===0)return-1;if(typeof h=="string"?(S=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Ve(h)&&(h=U?0:v.length-1),h<0&&(h=v.length+h),h>=v.length){if(U)return-1;h=v.length-1}else if(h<0)if(U)h=0;else return-1;if(typeof d=="string"&&(d=a.from(d,S)),a.isBuffer(d))return d.length===0?-1:$(v,d,h,S,U);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(v,d,h):Uint8Array.prototype.lastIndexOf.call(v,d,h):$(v,[d],h,S,U);throw new TypeError("val must be string, number or Buffer")}function $(v,d,h,S,U){let j=1,V=v.length,Ie=d.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(v.length<2||d.length<2)return-1;j=2,V/=2,Ie/=2,h/=2}function Ee(De,me){return j===1?De[me]:De.readUInt16BE(me*j)}let be;if(U){let De=-1;for(be=h;be<V;be++)if(Ee(v,be)===Ee(d,De===-1?0:be-De)){if(De===-1&&(De=be),be-De+1===Ie)return De*j}else De!==-1&&(be-=be-De),De=-1}else for(h+Ie>V&&(h=V-Ie),be=h;be>=0;be--){let De=!0;for(let me=0;me<Ie;me++)if(Ee(v,be+me)!==Ee(d,me)){De=!1;break}if(De)return be}return-1}a.prototype.includes=function(d,h,S){return this.indexOf(d,h,S)!==-1},a.prototype.indexOf=function(d,h,S){return D(this,d,h,S,!0)},a.prototype.lastIndexOf=function(d,h,S){return D(this,d,h,S,!1)};function H(v,d,h,S){h=Number(h)||0;const U=v.length-h;S?(S=Number(S),S>U&&(S=U)):S=U;const j=d.length;S>j/2&&(S=j/2);let V;for(V=0;V<S;++V){const Ie=parseInt(d.substr(V*2,2),16);if(Ve(Ie))return V;v[h+V]=Ie}return V}function L(v,d,h,S){return $e(Ke(d,v.length-h),v,h,S)}function Z(v,d,h,S){return $e(Je(d),v,h,S)}function G(v,d,h,S){return $e(He(d),v,h,S)}function ee(v,d,h,S){return $e(Co(d,v.length-h),v,h,S)}a.prototype.write=function(d,h,S,U){if(h===void 0)U="utf8",S=this.length,h=0;else if(S===void 0&&typeof h=="string")U=h,S=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(S)?(S=S>>>0,U===void 0&&(U="utf8")):(U=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-h;if((S===void 0||S>j)&&(S=j),d.length>0&&(S<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let V=!1;for(;;)switch(U){case"hex":return H(this,d,h,S);case"utf8":case"utf-8":return L(this,d,h,S);case"ascii":case"latin1":case"binary":return Z(this,d,h,S);case"base64":return G(this,d,h,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,d,h,S);default:if(V)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),V=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(v,d,h){return d===0&&h===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(d,h))}function u(v,d,h){h=Math.min(v.length,h);const S=[];let U=d;for(;U<h;){const j=v[U];let V=null,Ie=j>239?4:j>223?3:j>191?2:1;if(U+Ie<=h){let Ee,be,De,me;switch(Ie){case 1:j<128&&(V=j);break;case 2:Ee=v[U+1],(Ee&192)===128&&(me=(j&31)<<6|Ee&63,me>127&&(V=me));break;case 3:Ee=v[U+1],be=v[U+2],(Ee&192)===128&&(be&192)===128&&(me=(j&15)<<12|(Ee&63)<<6|be&63,me>2047&&(me<55296||me>57343)&&(V=me));break;case 4:Ee=v[U+1],be=v[U+2],De=v[U+3],(Ee&192)===128&&(be&192)===128&&(De&192)===128&&(me=(j&15)<<18|(Ee&63)<<12|(be&63)<<6|De&63,me>65535&&me<1114112&&(V=me))}}V===null?(V=65533,Ie=1):V>65535&&(V-=65536,S.push(V>>>10&1023|55296),V=56320|V&1023),S.push(V),U+=Ie}return w(S)}const p=4096;function w(v){const d=v.length;if(d<=p)return String.fromCharCode.apply(String,v);let h="",S=0;for(;S<d;)h+=String.fromCharCode.apply(String,v.slice(S,S+=p));return h}function _(v,d,h){let S="";h=Math.min(v.length,h);for(let U=d;U<h;++U)S+=String.fromCharCode(v[U]&127);return S}function I(v,d,h){let S="";h=Math.min(v.length,h);for(let U=d;U<h;++U)S+=String.fromCharCode(v[U]);return S}function R(v,d,h){const S=v.length;(!d||d<0)&&(d=0),(!h||h<0||h>S)&&(h=S);let U="";for(let j=d;j<h;++j)U+=Ye[v[j]];return U}function P(v,d,h){const S=v.slice(d,h);let U="";for(let j=0;j<S.length-1;j+=2)U+=String.fromCharCode(S[j]+S[j+1]*256);return U}a.prototype.slice=function(d,h){const S=this.length;d=~~d,h=h===void 0?S:~~h,d<0?(d+=S,d<0&&(d=0)):d>S&&(d=S),h<0?(h+=S,h<0&&(h=0)):h>S&&(h=S),h<d&&(h=d);const U=this.subarray(d,h);return Object.setPrototypeOf(U,a.prototype),U};function E(v,d,h){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+d>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,h,S){d=d>>>0,h=h>>>0,S||E(d,h,this.length);let U=this[d],j=1,V=0;for(;++V<h&&(j*=256);)U+=this[d+V]*j;return U},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,h,S){d=d>>>0,h=h>>>0,S||E(d,h,this.length);let U=this[d+--h],j=1;for(;h>0&&(j*=256);)U+=this[d+--h]*j;return U},a.prototype.readUint8=a.prototype.readUInt8=function(d,h){return d=d>>>0,h||E(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,h){return d=d>>>0,h||E(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,h){return d=d>>>0,h||E(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,h){return d=d>>>0,h||E(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,h){return d=d>>>0,h||E(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=vn(function(d){d=d>>>0,hn(d,"offset");const h=this[d],S=this[d+7];(h===void 0||S===void 0)&&je(d,this.length-8);const U=h+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,j=this[++d]+this[++d]*2**8+this[++d]*2**16+S*2**24;return BigInt(U)+(BigInt(j)<<BigInt(32))}),a.prototype.readBigUInt64BE=vn(function(d){d=d>>>0,hn(d,"offset");const h=this[d],S=this[d+7];(h===void 0||S===void 0)&&je(d,this.length-8);const U=h*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],j=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+S;return(BigInt(U)<<BigInt(32))+BigInt(j)}),a.prototype.readIntLE=function(d,h,S){d=d>>>0,h=h>>>0,S||E(d,h,this.length);let U=this[d],j=1,V=0;for(;++V<h&&(j*=256);)U+=this[d+V]*j;return j*=128,U>=j&&(U-=Math.pow(2,8*h)),U},a.prototype.readIntBE=function(d,h,S){d=d>>>0,h=h>>>0,S||E(d,h,this.length);let U=h,j=1,V=this[d+--U];for(;U>0&&(j*=256);)V+=this[d+--U]*j;return j*=128,V>=j&&(V-=Math.pow(2,8*h)),V},a.prototype.readInt8=function(d,h){return d=d>>>0,h||E(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,h){d=d>>>0,h||E(d,2,this.length);const S=this[d]|this[d+1]<<8;return S&32768?S|4294901760:S},a.prototype.readInt16BE=function(d,h){d=d>>>0,h||E(d,2,this.length);const S=this[d+1]|this[d]<<8;return S&32768?S|4294901760:S},a.prototype.readInt32LE=function(d,h){return d=d>>>0,h||E(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,h){return d=d>>>0,h||E(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=vn(function(d){d=d>>>0,hn(d,"offset");const h=this[d],S=this[d+7];(h===void 0||S===void 0)&&je(d,this.length-8);const U=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(S<<24);return(BigInt(U)<<BigInt(32))+BigInt(h+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=vn(function(d){d=d>>>0,hn(d,"offset");const h=this[d],S=this[d+7];(h===void 0||S===void 0)&&je(d,this.length-8);const U=(h<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(U)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+S)}),a.prototype.readFloatLE=function(d,h){return d=d>>>0,h||E(d,4,this.length),n.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,h){return d=d>>>0,h||E(d,4,this.length),n.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,h){return d=d>>>0,h||E(d,8,this.length),n.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,h){return d=d>>>0,h||E(d,8,this.length),n.read(this,d,!1,52,8)};function f(v,d,h,S,U,j){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>U||d<j)throw new RangeError('"value" argument is out of bounds');if(h+S>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,h,S,U){if(d=+d,h=h>>>0,S=S>>>0,!U){const Ie=Math.pow(2,8*S)-1;f(this,d,h,S,Ie,0)}let j=1,V=0;for(this[h]=d&255;++V<S&&(j*=256);)this[h+V]=d/j&255;return h+S},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,h,S,U){if(d=+d,h=h>>>0,S=S>>>0,!U){const Ie=Math.pow(2,8*S)-1;f(this,d,h,S,Ie,0)}let j=S-1,V=1;for(this[h+j]=d&255;--j>=0&&(V*=256);)this[h+j]=d/V&255;return h+S},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,1,255,0),this[h]=d&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,2,65535,0),this[h]=d&255,this[h+1]=d>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,2,65535,0),this[h]=d>>>8,this[h+1]=d&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,4,4294967295,0),this[h+3]=d>>>24,this[h+2]=d>>>16,this[h+1]=d>>>8,this[h]=d&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,4,4294967295,0),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255,h+4};function B(v,d,h,S,U){Fe(d,S,U,v,h,7);let j=Number(d&BigInt(4294967295));v[h++]=j,j=j>>8,v[h++]=j,j=j>>8,v[h++]=j,j=j>>8,v[h++]=j;let V=Number(d>>BigInt(32)&BigInt(4294967295));return v[h++]=V,V=V>>8,v[h++]=V,V=V>>8,v[h++]=V,V=V>>8,v[h++]=V,h}function te(v,d,h,S,U){Fe(d,S,U,v,h,7);let j=Number(d&BigInt(4294967295));v[h+7]=j,j=j>>8,v[h+6]=j,j=j>>8,v[h+5]=j,j=j>>8,v[h+4]=j;let V=Number(d>>BigInt(32)&BigInt(4294967295));return v[h+3]=V,V=V>>8,v[h+2]=V,V=V>>8,v[h+1]=V,V=V>>8,v[h]=V,h+8}a.prototype.writeBigUInt64LE=vn(function(d,h=0){return B(this,d,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=vn(function(d,h=0){return te(this,d,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,h,S,U){if(d=+d,h=h>>>0,!U){const Ee=Math.pow(2,8*S-1);f(this,d,h,S,Ee-1,-Ee)}let j=0,V=1,Ie=0;for(this[h]=d&255;++j<S&&(V*=256);)d<0&&Ie===0&&this[h+j-1]!==0&&(Ie=1),this[h+j]=(d/V>>0)-Ie&255;return h+S},a.prototype.writeIntBE=function(d,h,S,U){if(d=+d,h=h>>>0,!U){const Ee=Math.pow(2,8*S-1);f(this,d,h,S,Ee-1,-Ee)}let j=S-1,V=1,Ie=0;for(this[h+j]=d&255;--j>=0&&(V*=256);)d<0&&Ie===0&&this[h+j+1]!==0&&(Ie=1),this[h+j]=(d/V>>0)-Ie&255;return h+S},a.prototype.writeInt8=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,1,127,-128),d<0&&(d=255+d+1),this[h]=d&255,h+1},a.prototype.writeInt16LE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,2,32767,-32768),this[h]=d&255,this[h+1]=d>>>8,h+2},a.prototype.writeInt16BE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,2,32767,-32768),this[h]=d>>>8,this[h+1]=d&255,h+2},a.prototype.writeInt32LE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,4,2147483647,-2147483648),this[h]=d&255,this[h+1]=d>>>8,this[h+2]=d>>>16,this[h+3]=d>>>24,h+4},a.prototype.writeInt32BE=function(d,h,S){return d=+d,h=h>>>0,S||f(this,d,h,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255,h+4},a.prototype.writeBigInt64LE=vn(function(d,h=0){return B(this,d,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=vn(function(d,h=0){return te(this,d,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(v,d,h,S,U,j){if(h+S>v.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function re(v,d,h,S,U){return d=+d,h=h>>>0,U||Q(v,d,h,4),n.write(v,d,h,S,23,4),h+4}a.prototype.writeFloatLE=function(d,h,S){return re(this,d,h,!0,S)},a.prototype.writeFloatBE=function(d,h,S){return re(this,d,h,!1,S)};function Be(v,d,h,S,U){return d=+d,h=h>>>0,U||Q(v,d,h,8),n.write(v,d,h,S,52,8),h+8}a.prototype.writeDoubleLE=function(d,h,S){return Be(this,d,h,!0,S)},a.prototype.writeDoubleBE=function(d,h,S){return Be(this,d,h,!1,S)},a.prototype.copy=function(d,h,S,U){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(S||(S=0),!U&&U!==0&&(U=this.length),h>=d.length&&(h=d.length),h||(h=0),U>0&&U<S&&(U=S),U===S||d.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),d.length-h<U-S&&(U=d.length-h+S);const j=U-S;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,S,U):Uint8Array.prototype.set.call(d,this.subarray(S,U),h),j},a.prototype.fill=function(d,h,S,U){if(typeof d=="string"){if(typeof h=="string"?(U=h,h=0,S=this.length):typeof S=="string"&&(U=S,S=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!a.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(d.length===1){const V=d.charCodeAt(0);(U==="utf8"&&V<128||U==="latin1")&&(d=V)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(h<0||this.length<h||this.length<S)throw new RangeError("Out of range index");if(S<=h)return this;h=h>>>0,S=S===void 0?this.length:S>>>0,d||(d=0);let j;if(typeof d=="number")for(j=h;j<S;++j)this[j]=d;else{const V=a.isBuffer(d)?d:a.from(d,U),Ie=V.length;if(Ie===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(j=0;j<S-h;++j)this[j+h]=V[j%Ie]}return this};const ge={};function pe(v,d,h){ge[v]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(U){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:U,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(v,d){return`The "${v}" argument must be of type number. Received type ${typeof d}`},TypeError),pe("ERR_OUT_OF_RANGE",function(v,d,h){let S=`The value of "${v}" is out of range.`,U=h;return Number.isInteger(h)&&Math.abs(h)>2**32?U=We(String(h)):typeof h=="bigint"&&(U=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(U=We(U)),U+="n"),S+=` It must be ${d}. Received ${U}`,S},RangeError);function We(v){let d="",h=v.length;const S=v[0]==="-"?1:0;for(;h>=S+4;h-=3)d=`_${v.slice(h-3,h)}${d}`;return`${v.slice(0,h)}${d}`}function Ne(v,d,h){hn(d,"offset"),(v[d]===void 0||v[d+h]===void 0)&&je(d,v.length-(h+1))}function Fe(v,d,h,S,U,j){if(v>h||v<d){const V=typeof d=="bigint"?"n":"";let Ie;throw j>3?d===0||d===BigInt(0)?Ie=`>= 0${V} and < 2${V} ** ${(j+1)*8}${V}`:Ie=`>= -(2${V} ** ${(j+1)*8-1}${V}) and < 2 ** ${(j+1)*8-1}${V}`:Ie=`>= ${d}${V} and <= ${h}${V}`,new ge.ERR_OUT_OF_RANGE("value",Ie,v)}Ne(S,U,j)}function hn(v,d){if(typeof v!="number")throw new ge.ERR_INVALID_ARG_TYPE(d,"number",v)}function je(v,d,h){throw Math.floor(v)!==v?(hn(v,h),new ge.ERR_OUT_OF_RANGE(h||"offset","an integer",v)):d<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${d}`,v)}const Ge=/[^+/0-9A-Za-z-_]/g;function Ro(v){if(v=v.split("=")[0],v=v.trim().replace(Ge,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function Ke(v,d){d=d||1/0;let h;const S=v.length;let U=null;const j=[];for(let V=0;V<S;++V){if(h=v.charCodeAt(V),h>55295&&h<57344){if(!U){if(h>56319){(d-=3)>-1&&j.push(239,191,189);continue}else if(V+1===S){(d-=3)>-1&&j.push(239,191,189);continue}U=h;continue}if(h<56320){(d-=3)>-1&&j.push(239,191,189),U=h;continue}h=(U-55296<<10|h-56320)+65536}else U&&(d-=3)>-1&&j.push(239,191,189);if(U=null,h<128){if((d-=1)<0)break;j.push(h)}else if(h<2048){if((d-=2)<0)break;j.push(h>>6|192,h&63|128)}else if(h<65536){if((d-=3)<0)break;j.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((d-=4)<0)break;j.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return j}function Je(v){const d=[];for(let h=0;h<v.length;++h)d.push(v.charCodeAt(h)&255);return d}function Co(v,d){let h,S,U;const j=[];for(let V=0;V<v.length&&!((d-=2)<0);++V)h=v.charCodeAt(V),S=h>>8,U=h%256,j.push(U),j.push(S);return j}function He(v){return e.toByteArray(Ro(v))}function $e(v,d,h,S){let U;for(U=0;U<S&&!(U+h>=d.length||U>=v.length);++U)d[U+h]=v[U];return U}function sn(v,d){return v instanceof d||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===d.name}function Ve(v){return v!==v}const Ye=function(){const v="0123456789abcdef",d=new Array(256);for(let h=0;h<16;++h){const S=h*16;for(let U=0;U<16;++U)d[S+U]=v[h]+v[U]}return d}();function vn(v){return typeof BigInt>"u"?Qe:v}function Qe(){throw new Error("BigInt not supported")}})(ke);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const il=BigInt(0),vu=BigInt(1);function ds(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function _n(t,e,n=""){const r=xo(t),s=t==null?void 0:t.length,i=e!==void 0;if(!r||i&&s!==e){const o=n&&`"${n}" `,a=i?` of length ${e}`:"",c=r?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function qo(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Fh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?il:BigInt("0x"+t)}function Ga(t){return Fh(es(t))}function Zi(t){return Xn(t),Fh(es(Uint8Array.from(t).reverse()))}function ol(t,e){return ea(t.toString(16).padStart(e*2,"0"))}function jh(t,e){return ol(t,e).reverse()}function nt(t,e,n){let r;if(typeof e=="string")try{r=ea(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(xo(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function kd(t){return Uint8Array.from(t)}const Nc=t=>typeof t=="bigint"&&il<=t;function hv(t,e,n){return Nc(t)&&Nc(e)&&Nc(n)&&e<=t&&t<n}function xu(t,e,n,r){if(!hv(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function zh(t){let e;for(e=0;t>il;t>>=vu,e+=1);return e}const So=t=>(vu<<BigInt(t))-vu;function pv(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=b=>new Uint8Array(b),s=b=>Uint8Array.of(b);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...b)=>n(o,i,...b),m=(b=r(0))=>{o=l(s(0),b),i=l(),b.length!==0&&(o=l(s(1),b),i=l())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const k=[];for(;b<e;){i=l();const A=i.slice();k.push(A),b+=i.length}return Tn(...k)};return(b,k)=>{c(),m(b);let A;for(;!(A=k(g()));)m();return c(),A}}function Io(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function va(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const en=BigInt(0),Tt=BigInt(1),$r=BigInt(2),$h=BigInt(3),Dh=BigInt(4),qh=BigInt(5),mv=BigInt(7),Kh=BigInt(8),gv=BigInt(9),Vh=BigInt(16);function _t(t,e){const n=t%e;return n>=en?n:e+n}function et(t,e,n){let r=t;for(;e-- >en;)r*=r,r%=n;return r}function Bd(t,e){if(t===en)throw new Error("invert: expected non-zero number");if(e<=en)throw new Error("invert: expected positive modulus, got "+e);let n=_t(t,e),r=e,s=en,i=Tt;for(;n!==en;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Tt)throw new Error("invert: does not exist");return _t(s,e)}function al(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Hh(t,e){const n=(t.ORDER+Tt)/Dh,r=t.pow(e,n);return al(t,r,e),r}function yv(t,e){const n=(t.ORDER-qh)/Kh,r=t.mul(e,$r),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,$r),s),a=t.mul(i,t.sub(o,t.ONE));return al(t,a,e),a}function wv(t){const e=fs(t),n=Zh(t),r=n(e,e.neg(e.ONE)),s=n(e,r),i=n(e,e.neg(r)),o=(t+mv)/Vh;return(a,c)=>{let l=a.pow(c,o),m=a.mul(l,r);const g=a.mul(l,s),y=a.mul(l,i),b=a.eql(a.sqr(m),c),k=a.eql(a.sqr(g),c);l=a.cmov(l,m,b),m=a.cmov(y,g,k);const A=a.eql(a.sqr(m),c),M=a.cmov(l,m,A);return al(a,M,c),M}}function Zh(t){if(t<$h)throw new Error("sqrt is not defined for small field");let e=t-Tt,n=0;for(;e%$r===en;)e/=$r,n++;let r=$r;const s=fs(t);for(;Md(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Hh;let i=s.pow(r,e);const o=(e+Tt)/$r;return function(c,l){if(c.is0(l))return l;if(Md(c,l)!==1)throw new Error("Cannot find square root");let m=n,g=c.mul(c.ONE,i),y=c.pow(l,e),b=c.pow(l,o);for(;!c.eql(y,c.ONE);){if(c.is0(y))return c.ZERO;let k=1,A=c.sqr(y);for(;!c.eql(A,c.ONE);)if(k++,A=c.sqr(A),k===m)throw new Error("Cannot find square root");const M=Tt<<BigInt(m-k-1),O=c.pow(g,M);m=k,g=c.sqr(O),y=c.mul(y,g),b=c.mul(b,O)}return b}}function bv(t){return t%Dh===$h?Hh:t%Kh===qh?yv:t%Vh===gv?wv(t):Zh(t)}const vv=(t,e)=>(_t(t,e)&Tt)===Tt,xv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ev(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=xv.reduce((r,s)=>(r[s]="function",r),e);return Io(t,n),t}function _v(t,e,n){if(n<en)throw new Error("invalid exponent, negatives unsupported");if(n===en)return t.ONE;if(n===Tt)return e;let r=t.ONE,s=e;for(;n>en;)n&Tt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Tt;return r}function Wh(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function Md(t,e){const n=(t.ORDER-Tt)/$r,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Gh(t,e){e!==void 0&&Ei(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function fs(t,e,n=!1,r={}){if(t<=en)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const y=e;y.BITS&&(s=y.BITS),y.sqrt&&(i=y.sqrt),typeof y.isLE=="boolean"&&(n=y.isLE),typeof y.modFromBytes=="boolean"&&(o=y.modFromBytes),a=y.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:l}=Gh(t,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let m;const g=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:So(c),ZERO:en,ONE:Tt,allowedLengths:a,create:y=>_t(y,t),isValid:y=>{if(typeof y!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof y);return en<=y&&y<t},is0:y=>y===en,isValidNot0:y=>!g.is0(y)&&g.isValid(y),isOdd:y=>(y&Tt)===Tt,neg:y=>_t(-y,t),eql:(y,b)=>y===b,sqr:y=>_t(y*y,t),add:(y,b)=>_t(y+b,t),sub:(y,b)=>_t(y-b,t),mul:(y,b)=>_t(y*b,t),pow:(y,b)=>_v(g,y,b),div:(y,b)=>_t(y*Bd(b,t),t),sqrN:y=>y*y,addN:(y,b)=>y+b,subN:(y,b)=>y-b,mulN:(y,b)=>y*b,inv:y=>Bd(y,t),sqrt:i||(y=>(m||(m=bv(t)),m(g,y))),toBytes:y=>n?jh(y,l):ol(y,l),fromBytes:(y,b=!0)=>{if(a){if(!a.includes(y.length)||y.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+y.length);const A=new Uint8Array(l);A.set(y,n?0:A.length-y.length),y=A}if(y.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+y.length);let k=n?Zi(y):Ga(y);if(o&&(k=_t(k,t)),!b&&!g.isValid(k))throw new Error("invalid field element: outside of range 0..ORDER");return k},invertBatch:y=>Wh(g,y),cmov:(y,b,k)=>k?b:y});return Object.freeze(g)}function Jh(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Yh(t){const e=Jh(t);return e+Math.ceil(e/2)}function Sv(t,e,n=!1){const r=t.length,s=Jh(e),i=Yh(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Zi(t):Ga(t),a=_t(o,e-Tt)+Tt;return n?jh(a,s):ol(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ti=BigInt(0),Dr=BigInt(1);function xa(t,e){const n=e.negate();return t?n:e}function qr(t,e){const n=Wh(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function Qh(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Fc(t,e){Qh(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=So(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Rd(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=Dr);const l=e*r,m=l+Math.abs(a)-1,g=a===0,y=a<0,b=e%2!==0;return{nextN:c,offset:m,isZero:g,isNeg:y,isNegF:b,offsetF:l}}function Iv(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Av(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const jc=new WeakMap,Xh=new WeakMap;function zc(t){return Xh.get(t)||1}function Cd(t){if(t!==ti)throw new Error("invalid wNAF")}class e0{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>ti;)n&Dr&&(r=r.add(s)),s=s.double(),n>>=Dr;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=Fc(n,this.bits),i=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let l=1;l<s;l++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=Fc(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:m,isNeg:g,isNegF:y,offsetF:b}=Rd(r,a,o);r=c,m?i=i.add(xa(y,n[b])):s=s.add(xa(g,n[l]))}return Cd(r),{p:s,f:i}}wNAFUnsafe(e,n,r,s=this.ZERO){const i=Fc(e,this.bits);for(let o=0;o<i.windows&&r!==ti;o++){const{nextN:a,offset:c,isZero:l,isNeg:m}=Rd(r,o,i);if(r=a,!l){const g=n[c];s=s.add(m?g.negate():g)}}return Cd(r),s}getPrecomputes(e,n,r){let s=jc.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),jc.set(n,s))),s}cached(e,n,r){const s=zc(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const i=zc(e);return i===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,s)}createCache(e,n){Qh(n,this.bits),Xh.set(e,n),jc.delete(e)}hasCache(e){return zc(e)!==1}}function kv(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>ti||r>ti;)n&Dr&&(i=i.add(s)),r&Dr&&(o=o.add(s)),s=s.double(),n>>=Dr,r>>=Dr;return{p1:i,p2:o}}function t0(t,e,n,r){Iv(n,t),Av(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=zh(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=So(c),m=new Array(Number(l)+1).fill(o),g=Math.floor((e.BITS-1)/c)*c;let y=o;for(let b=g;b>=0;b-=c){m.fill(o);for(let A=0;A<i;A++){const M=r[A],O=Number(M>>BigInt(b)&l);m[O]=m[O].add(n[A])}let k=o;for(let A=m.length-1,M=o;A>0;A--)M=M.add(m[A]),k=k.add(M);if(y=y.add(k),b!==0)for(let A=0;A<c;A++)y=y.double()}return y}function Od(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Ev(e),e}else return fs(t,{isLE:n})}function n0(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>ti))throw new Error(`CURVE.${c} must be positive bigint`)}const s=Od(e.p,n.Fp,r),i=Od(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ar=BigInt(0),Bt=BigInt(1),$c=BigInt(2),Bv=BigInt(8);function Mv(t,e,n,r){const s=t.sqr(n),i=t.sqr(r),o=t.add(t.mul(e.a,s),i),a=t.add(t.ONE,t.mul(e.d,t.mul(s,i)));return t.eql(o,a)}function Rv(t,e={}){const n=n0("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o}=i;Io(e,{},{uvRatio:"function"});const a=$c<<BigInt(s.BYTES*8)-Bt,c=M=>r.create(M),l=e.uvRatio||((M,O)=>{try{return{isValid:!0,value:r.sqrt(r.div(M,O))}}catch{return{isValid:!1,value:ar}}});if(!Mv(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function m(M,O,F=!1){const C=F?Bt:ar;return xu("coordinate "+M,O,C,a),O}function g(M){if(!(M instanceof k))throw new Error("ExtendedPoint expected")}const y=va((M,O)=>{const{X:F,Y:C,Z:z}=M,N=M.is0();O==null&&(O=N?Bv:r.inv(z));const D=c(F*O),$=c(C*O),H=r.mul(z,O);if(N)return{x:ar,y:Bt};if(H!==Bt)throw new Error("invZ was invalid");return{x:D,y:$}}),b=va(M=>{const{a:O,d:F}=i;if(M.is0())throw new Error("bad point: ZERO");const{X:C,Y:z,Z:N,T:D}=M,$=c(C*C),H=c(z*z),L=c(N*N),Z=c(L*L),G=c($*O),ee=c(L*c(G+H)),x=c(Z+c(F*c($*H)));if(ee!==x)throw new Error("bad point: equation left != right (1)");const u=c(C*z),p=c(N*D);if(u!==p)throw new Error("bad point: equation left != right (2)");return!0});class k{constructor(O,F,C,z){this.X=m("x",O),this.Y=m("y",F),this.Z=m("z",C,!0),this.T=m("t",z),Object.freeze(this)}static CURVE(){return i}static fromAffine(O){if(O instanceof k)throw new Error("extended point not allowed");const{x:F,y:C}=O||{};return m("x",F),m("y",C),new k(F,C,Bt,c(F*C))}static fromBytes(O,F=!1){const C=r.BYTES,{a:z,d:N}=i;O=kd(_n(O,C,"point")),ds(F,"zip215");const D=kd(O),$=O[C-1];D[C-1]=$&-129;const H=Zi(D),L=F?a:r.ORDER;xu("point.y",H,ar,L);const Z=c(H*H),G=c(Z-Bt),ee=c(N*Z-z);let{isValid:x,value:u}=l(G,ee);if(!x)throw new Error("bad point: invalid y coordinate");const p=(u&Bt)===Bt,w=($&128)!==0;if(!F&&u===ar&&w)throw new Error("bad point: x=0 and x_0=1");return w!==p&&(u=c(-u)),k.fromAffine({x:u,y:H})}static fromHex(O,F=!1){return k.fromBytes(nt("point",O),F)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,F=!0){return A.createCache(this,O),F||this.multiply($c),this}assertValidity(){b(this)}equals(O){g(O);const{X:F,Y:C,Z:z}=this,{X:N,Y:D,Z:$}=O,H=c(F*$),L=c(N*z),Z=c(C*$),G=c(D*z);return H===L&&Z===G}is0(){return this.equals(k.ZERO)}negate(){return new k(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:O}=i,{X:F,Y:C,Z:z}=this,N=c(F*F),D=c(C*C),$=c($c*c(z*z)),H=c(O*N),L=F+C,Z=c(c(L*L)-N-D),G=H+D,ee=G-$,x=H-D,u=c(Z*ee),p=c(G*x),w=c(Z*x),_=c(ee*G);return new k(u,p,_,w)}add(O){g(O);const{a:F,d:C}=i,{X:z,Y:N,Z:D,T:$}=this,{X:H,Y:L,Z,T:G}=O,ee=c(z*H),x=c(N*L),u=c($*C*G),p=c(D*Z),w=c((z+N)*(H+L)-ee-x),_=p-u,I=p+u,R=c(x-F*ee),P=c(w*_),E=c(I*R),f=c(w*R),B=c(_*I);return new k(P,E,B,f)}subtract(O){return this.add(O.negate())}multiply(O){if(!s.isValidNot0(O))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:F,f:C}=A.cached(this,O,z=>qr(k,z));return qr(k,[F,C])[0]}multiplyUnsafe(O,F=k.ZERO){if(!s.isValid(O))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return O===ar?k.ZERO:this.is0()||O===Bt?this:A.unsafe(this,O,C=>qr(k,C),F)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return A.unsafe(this,i.n).is0()}toAffine(O){return y(this,O)}clearCofactor(){return o===Bt?this:this.multiplyUnsafe(o)}toBytes(){const{x:O,y:F}=this.toAffine(),C=r.toBytes(F);return C[C.length-1]|=O&Bt?128:0,C}toHex(){return es(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(O){return qr(k,O)}static msm(O,F){return t0(k,s,O,F)}_setWindowSize(O){this.precompute(O)}toRawBytes(){return this.toBytes()}}k.BASE=new k(i.Gx,i.Gy,Bt,c(i.Gx*i.Gy)),k.ZERO=new k(ar,Bt,Bt,ar),k.Fp=r,k.Fn=s;const A=new e0(k,s.BITS);return k.BASE.precompute(8),k}function Cv(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Io(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:o}=t,a=n.randomBytes||Lu,c=n.adjustScalarBytes||(L=>L),l=n.domain||((L,Z,G)=>{if(ds(G,"phflag"),Z.length||G)throw new Error("Contexts/pre-hash are not supported");return L});function m(L){return o.create(Zi(L))}function g(L){const Z=C.secretKey;L=nt("private key",L,Z);const G=nt("hashed private key",e(L),2*Z),ee=c(G.slice(0,Z)),x=G.slice(Z,2*Z),u=m(ee);return{head:ee,prefix:x,scalar:u}}function y(L){const{head:Z,prefix:G,scalar:ee}=g(L),x=s.multiply(ee),u=x.toBytes();return{head:Z,prefix:G,scalar:ee,point:x,pointBytes:u}}function b(L){return y(L).pointBytes}function k(L=Uint8Array.of(),...Z){const G=Tn(...Z);return m(e(l(G,nt("context",L),!!r)))}function A(L,Z,G={}){L=nt("message",L),r&&(L=r(L));const{prefix:ee,scalar:x,pointBytes:u}=y(Z),p=k(G.context,ee,L),w=s.multiply(p).toBytes(),_=k(G.context,w,u,L),I=o.create(p+_*x);if(!o.isValid(I))throw new Error("sign failed: invalid s");const R=Tn(w,o.toBytes(I));return _n(R,C.signature,"result")}const M={zip215:!0};function O(L,Z,G,ee=M){const{context:x,zip215:u}=ee,p=C.signature;L=nt("signature",L,p),Z=nt("message",Z),G=nt("publicKey",G,C.publicKey),u!==void 0&&ds(u,"zip215"),r&&(Z=r(Z));const w=p/2,_=L.subarray(0,w),I=Zi(L.subarray(w,p));let R,P,E;try{R=t.fromBytes(G,u),P=t.fromBytes(_,u),E=s.multiplyUnsafe(I)}catch{return!1}if(!u&&R.isSmallOrder())return!1;const f=k(x,P.toBytes(),R.toBytes(),Z);return P.add(R.multiplyUnsafe(f)).subtract(E).clearCofactor().is0()}const F=i.BYTES,C={secretKey:F,publicKey:F,signature:2*F,seed:F};function z(L=a(C.seed)){return _n(L,C.seed,"seed")}function N(L){const Z=H.randomSecretKey(L);return{secretKey:Z,publicKey:b(Z)}}function D(L){return xo(L)&&L.length===o.BYTES}function $(L,Z){try{return!!t.fromBytes(L,Z)}catch{return!1}}const H={getExtendedPublicKey:y,randomSecretKey:z,isValidSecretKey:D,isValidPublicKey:$,toMontgomery(L){const{y:Z}=t.fromBytes(L),G=C.publicKey,ee=G===32;if(!ee&&G!==57)throw new Error("only defined for 25519 and 448");const x=ee?i.div(Bt+Z,Bt-Z):i.div(Z-Bt,Z+Bt);return i.toBytes(x)},toMontgomerySecret(L){const Z=C.secretKey;_n(L,Z);const G=e(L.subarray(0,Z));return c(G).subarray(0,Z)},randomPrivateKey:z,precompute(L=8,Z=t.BASE){return Z.precompute(L,!1)}};return Object.freeze({keygen:N,getPublicKey:b,sign:A,verify:O,utils:H,Point:t,lengths:C})}function Ov(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=fs(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:i}}function Tv(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function Pv(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=Ov(t),i=Rv(e,n),o=Cv(i,r,s);return Tv(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uv=BigInt(1),Td=BigInt(2);BigInt(3);const Lv=BigInt(5),Nv=BigInt(8),cl=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),r0=(()=>({p:cl,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Nv,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Fv(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=cl,a=t*t%i*t%i,c=et(a,Td,i)*a%i,l=et(c,Uv,i)*t%i,m=et(l,Lv,i)*l%i,g=et(m,e,i)*m%i,y=et(g,n,i)*g%i,b=et(y,r,i)*y%i,k=et(b,s,i)*b%i,A=et(k,s,i)*b%i,M=et(A,e,i)*m%i;return{pow_p_5_8:et(M,Td,i)*t%i,b2:a}}function jv(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Pd=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function zv(t,e){const n=cl,r=_t(e*e*e,n),s=_t(r*r*e,n),i=Fv(t*s).pow_p_5_8;let o=_t(t*r*i,n);const a=_t(e*o*o,n),c=o,l=_t(o*Pd,n),m=a===t,g=a===_t(-t,n),y=a===_t(-t*Pd,n);return m&&(o=c),(g||y)&&(o=l),vv(o,n)&&(o=_t(-o,n)),{isValid:m||g,value:o}}const $v=(()=>fs(r0.p,{isLE:!0}))(),Dv=(()=>({...r0,Fp:$v,hash:Hm,adjustScalarBytes:jv,uvRatio:zv}))(),Ao=(()=>Pv(Dv))();var ul={exports:{}};const qv={},Kv=Object.freeze(Object.defineProperty({__proto__:null,default:qv},Symbol.toStringTag,{value:"Module"})),Vv=Cu(Kv);ul.exports;(function(t){(function(e,n){function r(x,u){if(!x)throw new Error(u||"Assertion failed")}function s(x,u){x.super_=u;var p=function(){};p.prototype=u.prototype,x.prototype=new p,x.prototype.constructor=x}function i(x,u,p){if(i.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(x||0,u||10,p||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Vv.Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,p){return u.cmp(p)>0?u:p},i.min=function(u,p){return u.cmp(p)<0?u:p},i.prototype._init=function(u,p,w){if(typeof u=="number")return this._initNumber(u,p,w);if(typeof u=="object")return this._initArray(u,p,w);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var _=0;u[0]==="-"&&(_++,this.negative=1),_<u.length&&(p===16?this._parseHex(u,_,w):(this._parseBase(u,p,_),w==="le"&&this._initArray(this.toArray(),p,w)))},i.prototype._initNumber=function(u,p,w){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),p,w)},i.prototype._initArray=function(u,p,w){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var I,R,P=0;if(w==="be")for(_=u.length-1,I=0;_>=0;_-=3)R=u[_]|u[_-1]<<8|u[_-2]<<16,this.words[I]|=R<<P&67108863,this.words[I+1]=R>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);else if(w==="le")for(_=0,I=0;_<u.length;_+=3)R=u[_]|u[_+1]<<8|u[_+2]<<16,this.words[I]|=R<<P&67108863,this.words[I+1]=R>>>26-P&67108863,P+=24,P>=26&&(P-=26,I++);return this._strip()};function a(x,u){var p=x.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;r(!1,"Invalid character in "+x)}function c(x,u,p){var w=a(x,p);return p-1>=u&&(w|=a(x,p-1)<<4),w}i.prototype._parseHex=function(u,p,w){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var I=0,R=0,P;if(w==="be")for(_=u.length-1;_>=p;_-=2)P=c(u,p,_)<<I,this.words[R]|=P&67108863,I>=18?(I-=18,R+=1,this.words[R]|=P>>>26):I+=8;else{var E=u.length-p;for(_=E%2===0?p+1:p;_<u.length;_+=2)P=c(u,p,_)<<I,this.words[R]|=P&67108863,I>=18?(I-=18,R+=1,this.words[R]|=P>>>26):I+=8}this._strip()};function l(x,u,p,w){for(var _=0,I=0,R=Math.min(x.length,p),P=u;P<R;P++){var E=x.charCodeAt(P)-48;_*=w,E>=49?I=E-49+10:E>=17?I=E-17+10:I=E,r(E>=0&&I<w,"Invalid character"),_+=I}return _}i.prototype._parseBase=function(u,p,w){this.words=[0],this.length=1;for(var _=0,I=1;I<=67108863;I*=p)_++;_--,I=I/p|0;for(var R=u.length-w,P=R%_,E=Math.min(R,R-P)+w,f=0,B=w;B<E;B+=_)f=l(u,B,B+_,p),this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(P!==0){var te=1;for(f=l(u,B,u.length,p),B=0;B<P;B++)te*=p;this.imuln(te),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function m(x,u){x.words=u.words,x.length=u.length,x.negative=u.negative,x.red=u.red}if(i.prototype._move=function(u){m(u,this)},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{i.prototype.inspect=g}else i.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,p){u=u||10,p=p|0||1;var w;if(u===16||u==="hex"){w="";for(var _=0,I=0,R=0;R<this.length;R++){var P=this.words[R],E=((P<<_|I)&16777215).toString(16);I=P>>>24-_&16777215,_+=2,_>=26&&(_-=26,R--),I!==0||R!==this.length-1?w=y[6-E.length]+E+w:w=E+w}for(I!==0&&(w=I.toString(16)+w);w.length%p!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(u===(u|0)&&u>=2&&u<=36){var f=b[u],B=k[u];w="";var te=this.clone();for(te.negative=0;!te.isZero();){var Q=te.modrn(B).toString(u);te=te.idivn(B),te.isZero()?w=Q+w:w=y[f-Q.length]+Q+w}for(this.isZero()&&(w="0"+w);w.length%p!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(u,p){return this.toArrayLike(o,u,p)}),i.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var A=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};i.prototype.toArrayLike=function(u,p,w){this._strip();var _=this.byteLength(),I=w||Math.max(1,_);r(_<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var R=A(u,I),P=p==="le"?"LE":"BE";return this["_toArrayLike"+P](R,_),R},i.prototype._toArrayLikeLE=function(u,p){for(var w=0,_=0,I=0,R=0;I<this.length;I++){var P=this.words[I]<<R|_;u[w++]=P&255,w<u.length&&(u[w++]=P>>8&255),w<u.length&&(u[w++]=P>>16&255),R===6?(w<u.length&&(u[w++]=P>>24&255),_=0,R=0):(_=P>>>24,R+=2)}if(w<u.length)for(u[w++]=_;w<u.length;)u[w++]=0},i.prototype._toArrayLikeBE=function(u,p){for(var w=u.length-1,_=0,I=0,R=0;I<this.length;I++){var P=this.words[I]<<R|_;u[w--]=P&255,w>=0&&(u[w--]=P>>8&255),w>=0&&(u[w--]=P>>16&255),R===6?(w>=0&&(u[w--]=P>>24&255),_=0,R=0):(_=P>>>24,R+=2)}if(w>=0)for(u[w--]=_;w>=0;)u[w--]=0},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var p=u,w=0;return p>=4096&&(w+=13,p>>>=13),p>=64&&(w+=7,p>>>=7),p>=8&&(w+=4,p>>>=4),p>=2&&(w+=2,p>>>=2),w+p},i.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,w=0;return p&8191||(w+=13,p>>>=13),p&127||(w+=7,p>>>=7),p&15||(w+=4,p>>>=4),p&3||(w+=2,p>>>=2),p&1||w++,w},i.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function M(x){for(var u=new Array(x.bitLength()),p=0;p<u.length;p++){var w=p/26|0,_=p%26;u[p]=x.words[w]>>>_&1}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var w=this._zeroBits(this.words[p]);if(u+=w,w!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},i.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]&u.words[w];return this.length=p.length,this._strip()},i.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var p,w;this.length>u.length?(p=this,w=u):(p=u,w=this);for(var _=0;_<w.length;_++)this.words[_]=p.words[_]^w.words[_];if(this!==p)for(;_<p.length;_++)this.words[_]=p.words[_];return this.length=p.length,this._strip()},i.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,w=u%26;this._expand(p),w>0&&p--;for(var _=0;_<p;_++)this.words[_]=~this.words[_]&67108863;return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this._strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,p){r(typeof u=="number"&&u>=0);var w=u/26|0,_=u%26;return this._expand(w+1),p?this.words[w]=this.words[w]|1<<_:this.words[w]=this.words[w]&~(1<<_),this._strip()},i.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var w,_;this.length>u.length?(w=this,_=u):(w=u,_=this);for(var I=0,R=0;R<_.length;R++)p=(w.words[R]|0)+(_.words[R]|0)+I,this.words[R]=p&67108863,I=p>>>26;for(;I!==0&&R<w.length;R++)p=(w.words[R]|0)+I,this.words[R]=p&67108863,I=p>>>26;if(this.length=w.length,I!==0)this.words[this.length]=I,this.length++;else if(w!==this)for(;R<w.length;R++)this.words[R]=w.words[R];return this},i.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w=this.cmp(u);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,I;w>0?(_=this,I=u):(_=u,I=this);for(var R=0,P=0;P<I.length;P++)p=(_.words[P]|0)-(I.words[P]|0)+R,R=p>>26,this.words[P]=p&67108863;for(;R!==0&&P<_.length;P++)p=(_.words[P]|0)+R,R=p>>26,this.words[P]=p&67108863;if(R===0&&P<_.length&&_!==this)for(;P<_.length;P++)this.words[P]=_.words[P];return this.length=Math.max(this.length,P),_!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function O(x,u,p){p.negative=u.negative^x.negative;var w=x.length+u.length|0;p.length=w,w=w-1|0;var _=x.words[0]|0,I=u.words[0]|0,R=_*I,P=R&67108863,E=R/67108864|0;p.words[0]=P;for(var f=1;f<w;f++){for(var B=E>>>26,te=E&67108863,Q=Math.min(f,u.length-1),re=Math.max(0,f-x.length+1);re<=Q;re++){var Be=f-re|0;_=x.words[Be]|0,I=u.words[re]|0,R=_*I+te,B+=R/67108864|0,te=R&67108863}p.words[f]=te|0,E=B|0}return E!==0?p.words[f]=E|0:p.length--,p._strip()}var F=function(u,p,w){var _=u.words,I=p.words,R=w.words,P=0,E,f,B,te=_[0]|0,Q=te&8191,re=te>>>13,Be=_[1]|0,ge=Be&8191,pe=Be>>>13,We=_[2]|0,Ne=We&8191,Fe=We>>>13,hn=_[3]|0,je=hn&8191,Ge=hn>>>13,Ro=_[4]|0,Ke=Ro&8191,Je=Ro>>>13,Co=_[5]|0,He=Co&8191,$e=Co>>>13,sn=_[6]|0,Ve=sn&8191,Ye=sn>>>13,vn=_[7]|0,Qe=vn&8191,v=vn>>>13,d=_[8]|0,h=d&8191,S=d>>>13,U=_[9]|0,j=U&8191,V=U>>>13,Ie=I[0]|0,Ee=Ie&8191,be=Ie>>>13,De=I[1]|0,me=De&8191,ot=De>>>13,Pl=I[2]|0,at=Pl&8191,ct=Pl>>>13,Ul=I[3]|0,ut=Ul&8191,lt=Ul>>>13,Ll=I[4]|0,dt=Ll&8191,ft=Ll>>>13,Nl=I[5]|0,ht=Nl&8191,pt=Nl>>>13,Fl=I[6]|0,mt=Fl&8191,gt=Fl>>>13,jl=I[7]|0,yt=jl&8191,wt=jl>>>13,zl=I[8]|0,bt=zl&8191,vt=zl>>>13,$l=I[9]|0,xt=$l&8191,Et=$l>>>13;w.negative=u.negative^p.negative,w.length=19,E=Math.imul(Q,Ee),f=Math.imul(Q,be),f=f+Math.imul(re,Ee)|0,B=Math.imul(re,be);var oc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(oc>>>26)|0,oc&=67108863,E=Math.imul(ge,Ee),f=Math.imul(ge,be),f=f+Math.imul(pe,Ee)|0,B=Math.imul(pe,be),E=E+Math.imul(Q,me)|0,f=f+Math.imul(Q,ot)|0,f=f+Math.imul(re,me)|0,B=B+Math.imul(re,ot)|0;var ac=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(ac>>>26)|0,ac&=67108863,E=Math.imul(Ne,Ee),f=Math.imul(Ne,be),f=f+Math.imul(Fe,Ee)|0,B=Math.imul(Fe,be),E=E+Math.imul(ge,me)|0,f=f+Math.imul(ge,ot)|0,f=f+Math.imul(pe,me)|0,B=B+Math.imul(pe,ot)|0,E=E+Math.imul(Q,at)|0,f=f+Math.imul(Q,ct)|0,f=f+Math.imul(re,at)|0,B=B+Math.imul(re,ct)|0;var cc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(cc>>>26)|0,cc&=67108863,E=Math.imul(je,Ee),f=Math.imul(je,be),f=f+Math.imul(Ge,Ee)|0,B=Math.imul(Ge,be),E=E+Math.imul(Ne,me)|0,f=f+Math.imul(Ne,ot)|0,f=f+Math.imul(Fe,me)|0,B=B+Math.imul(Fe,ot)|0,E=E+Math.imul(ge,at)|0,f=f+Math.imul(ge,ct)|0,f=f+Math.imul(pe,at)|0,B=B+Math.imul(pe,ct)|0,E=E+Math.imul(Q,ut)|0,f=f+Math.imul(Q,lt)|0,f=f+Math.imul(re,ut)|0,B=B+Math.imul(re,lt)|0;var uc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(uc>>>26)|0,uc&=67108863,E=Math.imul(Ke,Ee),f=Math.imul(Ke,be),f=f+Math.imul(Je,Ee)|0,B=Math.imul(Je,be),E=E+Math.imul(je,me)|0,f=f+Math.imul(je,ot)|0,f=f+Math.imul(Ge,me)|0,B=B+Math.imul(Ge,ot)|0,E=E+Math.imul(Ne,at)|0,f=f+Math.imul(Ne,ct)|0,f=f+Math.imul(Fe,at)|0,B=B+Math.imul(Fe,ct)|0,E=E+Math.imul(ge,ut)|0,f=f+Math.imul(ge,lt)|0,f=f+Math.imul(pe,ut)|0,B=B+Math.imul(pe,lt)|0,E=E+Math.imul(Q,dt)|0,f=f+Math.imul(Q,ft)|0,f=f+Math.imul(re,dt)|0,B=B+Math.imul(re,ft)|0;var lc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(lc>>>26)|0,lc&=67108863,E=Math.imul(He,Ee),f=Math.imul(He,be),f=f+Math.imul($e,Ee)|0,B=Math.imul($e,be),E=E+Math.imul(Ke,me)|0,f=f+Math.imul(Ke,ot)|0,f=f+Math.imul(Je,me)|0,B=B+Math.imul(Je,ot)|0,E=E+Math.imul(je,at)|0,f=f+Math.imul(je,ct)|0,f=f+Math.imul(Ge,at)|0,B=B+Math.imul(Ge,ct)|0,E=E+Math.imul(Ne,ut)|0,f=f+Math.imul(Ne,lt)|0,f=f+Math.imul(Fe,ut)|0,B=B+Math.imul(Fe,lt)|0,E=E+Math.imul(ge,dt)|0,f=f+Math.imul(ge,ft)|0,f=f+Math.imul(pe,dt)|0,B=B+Math.imul(pe,ft)|0,E=E+Math.imul(Q,ht)|0,f=f+Math.imul(Q,pt)|0,f=f+Math.imul(re,ht)|0,B=B+Math.imul(re,pt)|0;var dc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(dc>>>26)|0,dc&=67108863,E=Math.imul(Ve,Ee),f=Math.imul(Ve,be),f=f+Math.imul(Ye,Ee)|0,B=Math.imul(Ye,be),E=E+Math.imul(He,me)|0,f=f+Math.imul(He,ot)|0,f=f+Math.imul($e,me)|0,B=B+Math.imul($e,ot)|0,E=E+Math.imul(Ke,at)|0,f=f+Math.imul(Ke,ct)|0,f=f+Math.imul(Je,at)|0,B=B+Math.imul(Je,ct)|0,E=E+Math.imul(je,ut)|0,f=f+Math.imul(je,lt)|0,f=f+Math.imul(Ge,ut)|0,B=B+Math.imul(Ge,lt)|0,E=E+Math.imul(Ne,dt)|0,f=f+Math.imul(Ne,ft)|0,f=f+Math.imul(Fe,dt)|0,B=B+Math.imul(Fe,ft)|0,E=E+Math.imul(ge,ht)|0,f=f+Math.imul(ge,pt)|0,f=f+Math.imul(pe,ht)|0,B=B+Math.imul(pe,pt)|0,E=E+Math.imul(Q,mt)|0,f=f+Math.imul(Q,gt)|0,f=f+Math.imul(re,mt)|0,B=B+Math.imul(re,gt)|0;var fc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(fc>>>26)|0,fc&=67108863,E=Math.imul(Qe,Ee),f=Math.imul(Qe,be),f=f+Math.imul(v,Ee)|0,B=Math.imul(v,be),E=E+Math.imul(Ve,me)|0,f=f+Math.imul(Ve,ot)|0,f=f+Math.imul(Ye,me)|0,B=B+Math.imul(Ye,ot)|0,E=E+Math.imul(He,at)|0,f=f+Math.imul(He,ct)|0,f=f+Math.imul($e,at)|0,B=B+Math.imul($e,ct)|0,E=E+Math.imul(Ke,ut)|0,f=f+Math.imul(Ke,lt)|0,f=f+Math.imul(Je,ut)|0,B=B+Math.imul(Je,lt)|0,E=E+Math.imul(je,dt)|0,f=f+Math.imul(je,ft)|0,f=f+Math.imul(Ge,dt)|0,B=B+Math.imul(Ge,ft)|0,E=E+Math.imul(Ne,ht)|0,f=f+Math.imul(Ne,pt)|0,f=f+Math.imul(Fe,ht)|0,B=B+Math.imul(Fe,pt)|0,E=E+Math.imul(ge,mt)|0,f=f+Math.imul(ge,gt)|0,f=f+Math.imul(pe,mt)|0,B=B+Math.imul(pe,gt)|0,E=E+Math.imul(Q,yt)|0,f=f+Math.imul(Q,wt)|0,f=f+Math.imul(re,yt)|0,B=B+Math.imul(re,wt)|0;var hc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(hc>>>26)|0,hc&=67108863,E=Math.imul(h,Ee),f=Math.imul(h,be),f=f+Math.imul(S,Ee)|0,B=Math.imul(S,be),E=E+Math.imul(Qe,me)|0,f=f+Math.imul(Qe,ot)|0,f=f+Math.imul(v,me)|0,B=B+Math.imul(v,ot)|0,E=E+Math.imul(Ve,at)|0,f=f+Math.imul(Ve,ct)|0,f=f+Math.imul(Ye,at)|0,B=B+Math.imul(Ye,ct)|0,E=E+Math.imul(He,ut)|0,f=f+Math.imul(He,lt)|0,f=f+Math.imul($e,ut)|0,B=B+Math.imul($e,lt)|0,E=E+Math.imul(Ke,dt)|0,f=f+Math.imul(Ke,ft)|0,f=f+Math.imul(Je,dt)|0,B=B+Math.imul(Je,ft)|0,E=E+Math.imul(je,ht)|0,f=f+Math.imul(je,pt)|0,f=f+Math.imul(Ge,ht)|0,B=B+Math.imul(Ge,pt)|0,E=E+Math.imul(Ne,mt)|0,f=f+Math.imul(Ne,gt)|0,f=f+Math.imul(Fe,mt)|0,B=B+Math.imul(Fe,gt)|0,E=E+Math.imul(ge,yt)|0,f=f+Math.imul(ge,wt)|0,f=f+Math.imul(pe,yt)|0,B=B+Math.imul(pe,wt)|0,E=E+Math.imul(Q,bt)|0,f=f+Math.imul(Q,vt)|0,f=f+Math.imul(re,bt)|0,B=B+Math.imul(re,vt)|0;var pc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(pc>>>26)|0,pc&=67108863,E=Math.imul(j,Ee),f=Math.imul(j,be),f=f+Math.imul(V,Ee)|0,B=Math.imul(V,be),E=E+Math.imul(h,me)|0,f=f+Math.imul(h,ot)|0,f=f+Math.imul(S,me)|0,B=B+Math.imul(S,ot)|0,E=E+Math.imul(Qe,at)|0,f=f+Math.imul(Qe,ct)|0,f=f+Math.imul(v,at)|0,B=B+Math.imul(v,ct)|0,E=E+Math.imul(Ve,ut)|0,f=f+Math.imul(Ve,lt)|0,f=f+Math.imul(Ye,ut)|0,B=B+Math.imul(Ye,lt)|0,E=E+Math.imul(He,dt)|0,f=f+Math.imul(He,ft)|0,f=f+Math.imul($e,dt)|0,B=B+Math.imul($e,ft)|0,E=E+Math.imul(Ke,ht)|0,f=f+Math.imul(Ke,pt)|0,f=f+Math.imul(Je,ht)|0,B=B+Math.imul(Je,pt)|0,E=E+Math.imul(je,mt)|0,f=f+Math.imul(je,gt)|0,f=f+Math.imul(Ge,mt)|0,B=B+Math.imul(Ge,gt)|0,E=E+Math.imul(Ne,yt)|0,f=f+Math.imul(Ne,wt)|0,f=f+Math.imul(Fe,yt)|0,B=B+Math.imul(Fe,wt)|0,E=E+Math.imul(ge,bt)|0,f=f+Math.imul(ge,vt)|0,f=f+Math.imul(pe,bt)|0,B=B+Math.imul(pe,vt)|0,E=E+Math.imul(Q,xt)|0,f=f+Math.imul(Q,Et)|0,f=f+Math.imul(re,xt)|0,B=B+Math.imul(re,Et)|0;var mc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(mc>>>26)|0,mc&=67108863,E=Math.imul(j,me),f=Math.imul(j,ot),f=f+Math.imul(V,me)|0,B=Math.imul(V,ot),E=E+Math.imul(h,at)|0,f=f+Math.imul(h,ct)|0,f=f+Math.imul(S,at)|0,B=B+Math.imul(S,ct)|0,E=E+Math.imul(Qe,ut)|0,f=f+Math.imul(Qe,lt)|0,f=f+Math.imul(v,ut)|0,B=B+Math.imul(v,lt)|0,E=E+Math.imul(Ve,dt)|0,f=f+Math.imul(Ve,ft)|0,f=f+Math.imul(Ye,dt)|0,B=B+Math.imul(Ye,ft)|0,E=E+Math.imul(He,ht)|0,f=f+Math.imul(He,pt)|0,f=f+Math.imul($e,ht)|0,B=B+Math.imul($e,pt)|0,E=E+Math.imul(Ke,mt)|0,f=f+Math.imul(Ke,gt)|0,f=f+Math.imul(Je,mt)|0,B=B+Math.imul(Je,gt)|0,E=E+Math.imul(je,yt)|0,f=f+Math.imul(je,wt)|0,f=f+Math.imul(Ge,yt)|0,B=B+Math.imul(Ge,wt)|0,E=E+Math.imul(Ne,bt)|0,f=f+Math.imul(Ne,vt)|0,f=f+Math.imul(Fe,bt)|0,B=B+Math.imul(Fe,vt)|0,E=E+Math.imul(ge,xt)|0,f=f+Math.imul(ge,Et)|0,f=f+Math.imul(pe,xt)|0,B=B+Math.imul(pe,Et)|0;var gc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(gc>>>26)|0,gc&=67108863,E=Math.imul(j,at),f=Math.imul(j,ct),f=f+Math.imul(V,at)|0,B=Math.imul(V,ct),E=E+Math.imul(h,ut)|0,f=f+Math.imul(h,lt)|0,f=f+Math.imul(S,ut)|0,B=B+Math.imul(S,lt)|0,E=E+Math.imul(Qe,dt)|0,f=f+Math.imul(Qe,ft)|0,f=f+Math.imul(v,dt)|0,B=B+Math.imul(v,ft)|0,E=E+Math.imul(Ve,ht)|0,f=f+Math.imul(Ve,pt)|0,f=f+Math.imul(Ye,ht)|0,B=B+Math.imul(Ye,pt)|0,E=E+Math.imul(He,mt)|0,f=f+Math.imul(He,gt)|0,f=f+Math.imul($e,mt)|0,B=B+Math.imul($e,gt)|0,E=E+Math.imul(Ke,yt)|0,f=f+Math.imul(Ke,wt)|0,f=f+Math.imul(Je,yt)|0,B=B+Math.imul(Je,wt)|0,E=E+Math.imul(je,bt)|0,f=f+Math.imul(je,vt)|0,f=f+Math.imul(Ge,bt)|0,B=B+Math.imul(Ge,vt)|0,E=E+Math.imul(Ne,xt)|0,f=f+Math.imul(Ne,Et)|0,f=f+Math.imul(Fe,xt)|0,B=B+Math.imul(Fe,Et)|0;var yc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(yc>>>26)|0,yc&=67108863,E=Math.imul(j,ut),f=Math.imul(j,lt),f=f+Math.imul(V,ut)|0,B=Math.imul(V,lt),E=E+Math.imul(h,dt)|0,f=f+Math.imul(h,ft)|0,f=f+Math.imul(S,dt)|0,B=B+Math.imul(S,ft)|0,E=E+Math.imul(Qe,ht)|0,f=f+Math.imul(Qe,pt)|0,f=f+Math.imul(v,ht)|0,B=B+Math.imul(v,pt)|0,E=E+Math.imul(Ve,mt)|0,f=f+Math.imul(Ve,gt)|0,f=f+Math.imul(Ye,mt)|0,B=B+Math.imul(Ye,gt)|0,E=E+Math.imul(He,yt)|0,f=f+Math.imul(He,wt)|0,f=f+Math.imul($e,yt)|0,B=B+Math.imul($e,wt)|0,E=E+Math.imul(Ke,bt)|0,f=f+Math.imul(Ke,vt)|0,f=f+Math.imul(Je,bt)|0,B=B+Math.imul(Je,vt)|0,E=E+Math.imul(je,xt)|0,f=f+Math.imul(je,Et)|0,f=f+Math.imul(Ge,xt)|0,B=B+Math.imul(Ge,Et)|0;var wc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(wc>>>26)|0,wc&=67108863,E=Math.imul(j,dt),f=Math.imul(j,ft),f=f+Math.imul(V,dt)|0,B=Math.imul(V,ft),E=E+Math.imul(h,ht)|0,f=f+Math.imul(h,pt)|0,f=f+Math.imul(S,ht)|0,B=B+Math.imul(S,pt)|0,E=E+Math.imul(Qe,mt)|0,f=f+Math.imul(Qe,gt)|0,f=f+Math.imul(v,mt)|0,B=B+Math.imul(v,gt)|0,E=E+Math.imul(Ve,yt)|0,f=f+Math.imul(Ve,wt)|0,f=f+Math.imul(Ye,yt)|0,B=B+Math.imul(Ye,wt)|0,E=E+Math.imul(He,bt)|0,f=f+Math.imul(He,vt)|0,f=f+Math.imul($e,bt)|0,B=B+Math.imul($e,vt)|0,E=E+Math.imul(Ke,xt)|0,f=f+Math.imul(Ke,Et)|0,f=f+Math.imul(Je,xt)|0,B=B+Math.imul(Je,Et)|0;var bc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(bc>>>26)|0,bc&=67108863,E=Math.imul(j,ht),f=Math.imul(j,pt),f=f+Math.imul(V,ht)|0,B=Math.imul(V,pt),E=E+Math.imul(h,mt)|0,f=f+Math.imul(h,gt)|0,f=f+Math.imul(S,mt)|0,B=B+Math.imul(S,gt)|0,E=E+Math.imul(Qe,yt)|0,f=f+Math.imul(Qe,wt)|0,f=f+Math.imul(v,yt)|0,B=B+Math.imul(v,wt)|0,E=E+Math.imul(Ve,bt)|0,f=f+Math.imul(Ve,vt)|0,f=f+Math.imul(Ye,bt)|0,B=B+Math.imul(Ye,vt)|0,E=E+Math.imul(He,xt)|0,f=f+Math.imul(He,Et)|0,f=f+Math.imul($e,xt)|0,B=B+Math.imul($e,Et)|0;var vc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(vc>>>26)|0,vc&=67108863,E=Math.imul(j,mt),f=Math.imul(j,gt),f=f+Math.imul(V,mt)|0,B=Math.imul(V,gt),E=E+Math.imul(h,yt)|0,f=f+Math.imul(h,wt)|0,f=f+Math.imul(S,yt)|0,B=B+Math.imul(S,wt)|0,E=E+Math.imul(Qe,bt)|0,f=f+Math.imul(Qe,vt)|0,f=f+Math.imul(v,bt)|0,B=B+Math.imul(v,vt)|0,E=E+Math.imul(Ve,xt)|0,f=f+Math.imul(Ve,Et)|0,f=f+Math.imul(Ye,xt)|0,B=B+Math.imul(Ye,Et)|0;var xc=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(xc>>>26)|0,xc&=67108863,E=Math.imul(j,yt),f=Math.imul(j,wt),f=f+Math.imul(V,yt)|0,B=Math.imul(V,wt),E=E+Math.imul(h,bt)|0,f=f+Math.imul(h,vt)|0,f=f+Math.imul(S,bt)|0,B=B+Math.imul(S,vt)|0,E=E+Math.imul(Qe,xt)|0,f=f+Math.imul(Qe,Et)|0,f=f+Math.imul(v,xt)|0,B=B+Math.imul(v,Et)|0;var Ec=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,E=Math.imul(j,bt),f=Math.imul(j,vt),f=f+Math.imul(V,bt)|0,B=Math.imul(V,vt),E=E+Math.imul(h,xt)|0,f=f+Math.imul(h,Et)|0,f=f+Math.imul(S,xt)|0,B=B+Math.imul(S,Et)|0;var _c=(P+E|0)+((f&8191)<<13)|0;P=(B+(f>>>13)|0)+(_c>>>26)|0,_c&=67108863,E=Math.imul(j,xt),f=Math.imul(j,Et),f=f+Math.imul(V,xt)|0,B=Math.imul(V,Et);var Sc=(P+E|0)+((f&8191)<<13)|0;return P=(B+(f>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,R[0]=oc,R[1]=ac,R[2]=cc,R[3]=uc,R[4]=lc,R[5]=dc,R[6]=fc,R[7]=hc,R[8]=pc,R[9]=mc,R[10]=gc,R[11]=yc,R[12]=wc,R[13]=bc,R[14]=vc,R[15]=xc,R[16]=Ec,R[17]=_c,R[18]=Sc,P!==0&&(R[19]=P,w.length++),w};Math.imul||(F=O);function C(x,u,p){p.negative=u.negative^x.negative,p.length=x.length+u.length;for(var w=0,_=0,I=0;I<p.length-1;I++){var R=_;_=0;for(var P=w&67108863,E=Math.min(I,u.length-1),f=Math.max(0,I-x.length+1);f<=E;f++){var B=I-f,te=x.words[B]|0,Q=u.words[f]|0,re=te*Q,Be=re&67108863;R=R+(re/67108864|0)|0,Be=Be+P|0,P=Be&67108863,R=R+(Be>>>26)|0,_+=R>>>26,R&=67108863}p.words[I]=P,w=R,R=_}return w!==0?p.words[I]=w:p.length--,p._strip()}function z(x,u,p){return C(x,u,p)}i.prototype.mulTo=function(u,p){var w,_=this.length+u.length;return this.length===10&&u.length===10?w=F(this,u,p):_<63?w=O(this,u,p):_<1024?w=C(this,u,p):w=z(this,u,p),w},i.prototype.mul=function(u){var p=new i(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},i.prototype.mulf=function(u){var p=new i(null);return p.words=new Array(this.length+u.length),z(this,u,p)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){var p=u<0;p&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var w=0,_=0;_<this.length;_++){var I=(this.words[_]|0)*u,R=(I&67108863)+(w&67108863);w>>=26,w+=I/67108864|0,w+=R>>>26,this.words[_]=R&67108863}return w!==0&&(this.words[_]=w,this.length++),this.length=u===0?1:this.length,p?this.ineg():this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var p=M(u);if(p.length===0)return new i(1);for(var w=this,_=0;_<p.length&&p[_]===0;_++,w=w.sqr());if(++_<p.length)for(var I=w.sqr();_<p.length;_++,I=I.sqr())p[_]!==0&&(w=w.mul(I));return w},i.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var p=u%26,w=(u-p)/26,_=67108863>>>26-p<<26-p,I;if(p!==0){var R=0;for(I=0;I<this.length;I++){var P=this.words[I]&_,E=(this.words[I]|0)-P<<p;this.words[I]=E|R,R=P>>>26-p}R&&(this.words[I]=R,this.length++)}if(w!==0){for(I=this.length-1;I>=0;I--)this.words[I+w]=this.words[I];for(I=0;I<w;I++)this.words[I]=0;this.length+=w}return this._strip()},i.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,p,w){r(typeof u=="number"&&u>=0);var _;p?_=(p-p%26)/26:_=0;var I=u%26,R=Math.min((u-I)/26,this.length),P=67108863^67108863>>>I<<I,E=w;if(_-=R,_=Math.max(0,_),E){for(var f=0;f<R;f++)E.words[f]=this.words[f];E.length=R}if(R!==0)if(this.length>R)for(this.length-=R,f=0;f<this.length;f++)this.words[f]=this.words[f+R];else this.words[0]=0,this.length=1;var B=0;for(f=this.length-1;f>=0&&(B!==0||f>=_);f--){var te=this.words[f]|0;this.words[f]=B<<26-I|te>>>I,B=te&P}return E&&B!==0&&(E.words[E.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(u,p,w){return r(this.negative===0),this.iushrn(u,p,w)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var p=u%26,w=(u-p)/26,_=1<<p;if(this.length<=w)return!1;var I=this.words[w];return!!(I&_)},i.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var p=u%26,w=(u-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(p!==0&&w++,this.length=Math.min(w,this.length),p!==0){var _=67108863^67108863>>>p<<p;this.words[this.length-1]&=_}return this._strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,p,w){var _=u.length+w,I;this._expand(_);var R,P=0;for(I=0;I<u.length;I++){R=(this.words[I+w]|0)+P;var E=(u.words[I]|0)*p;R-=E&67108863,P=(R>>26)-(E/67108864|0),this.words[I+w]=R&67108863}for(;I<this.length-w;I++)R=(this.words[I+w]|0)+P,P=R>>26,this.words[I+w]=R&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,I=0;I<this.length;I++)R=-(this.words[I]|0)+P,P=R>>26,this.words[I]=R&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(u,p){var w=this.length-u.length,_=this.clone(),I=u,R=I.words[I.length-1]|0,P=this._countBits(R);w=26-P,w!==0&&(I=I.ushln(w),_.iushln(w),R=I.words[I.length-1]|0);var E=_.length-I.length,f;if(p!=="mod"){f=new i(null),f.length=E+1,f.words=new Array(f.length);for(var B=0;B<f.length;B++)f.words[B]=0}var te=_.clone()._ishlnsubmul(I,1,E);te.negative===0&&(_=te,f&&(f.words[E]=1));for(var Q=E-1;Q>=0;Q--){var re=(_.words[I.length+Q]|0)*67108864+(_.words[I.length+Q-1]|0);for(re=Math.min(re/R|0,67108863),_._ishlnsubmul(I,re,Q);_.negative!==0;)re--,_.negative=0,_._ishlnsubmul(I,1,Q),_.isZero()||(_.negative^=1);f&&(f.words[Q]=re)}return f&&f._strip(),_._strip(),p!=="div"&&w!==0&&_.iushrn(w),{div:f||null,mod:_}},i.prototype.divmod=function(u,p,w){if(r(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var _,I,R;return this.negative!==0&&u.negative===0?(R=this.neg().divmod(u,p),p!=="mod"&&(_=R.div.neg()),p!=="div"&&(I=R.mod.neg(),w&&I.negative!==0&&I.iadd(u)),{div:_,mod:I}):this.negative===0&&u.negative!==0?(R=this.divmod(u.neg(),p),p!=="mod"&&(_=R.div.neg()),{div:_,mod:R.mod}):this.negative&u.negative?(R=this.neg().divmod(u.neg(),p),p!=="div"&&(I=R.mod.neg(),w&&I.negative!==0&&I.isub(u)),{div:R.div,mod:I}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modrn(u.words[0]))}:this._wordDiv(u,p)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var w=p.div.negative!==0?p.mod.isub(u):p.mod,_=u.ushrn(1),I=u.andln(1),R=w.cmp(_);return R<0||I===1&&R===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(u){var p=u<0;p&&(u=-u),r(u<=67108863);for(var w=(1<<26)%u,_=0,I=this.length-1;I>=0;I--)_=(w*_+(this.words[I]|0))%u;return p?-_:_},i.prototype.modn=function(u){return this.modrn(u)},i.prototype.idivn=function(u){var p=u<0;p&&(u=-u),r(u<=67108863);for(var w=0,_=this.length-1;_>=0;_--){var I=(this.words[_]|0)+w*67108864;this.words[_]=I/u|0,w=I%u}return this._strip(),p?this.ineg():this},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var p=this,w=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var _=new i(1),I=new i(0),R=new i(0),P=new i(1),E=0;p.isEven()&&w.isEven();)p.iushrn(1),w.iushrn(1),++E;for(var f=w.clone(),B=p.clone();!p.isZero();){for(var te=0,Q=1;!(p.words[0]&Q)&&te<26;++te,Q<<=1);if(te>0)for(p.iushrn(te);te-- >0;)(_.isOdd()||I.isOdd())&&(_.iadd(f),I.isub(B)),_.iushrn(1),I.iushrn(1);for(var re=0,Be=1;!(w.words[0]&Be)&&re<26;++re,Be<<=1);if(re>0)for(w.iushrn(re);re-- >0;)(R.isOdd()||P.isOdd())&&(R.iadd(f),P.isub(B)),R.iushrn(1),P.iushrn(1);p.cmp(w)>=0?(p.isub(w),_.isub(R),I.isub(P)):(w.isub(p),R.isub(_),P.isub(I))}return{a:R,b:P,gcd:w.iushln(E)}},i.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var p=this,w=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var _=new i(1),I=new i(0),R=w.clone();p.cmpn(1)>0&&w.cmpn(1)>0;){for(var P=0,E=1;!(p.words[0]&E)&&P<26;++P,E<<=1);if(P>0)for(p.iushrn(P);P-- >0;)_.isOdd()&&_.iadd(R),_.iushrn(1);for(var f=0,B=1;!(w.words[0]&B)&&f<26;++f,B<<=1);if(f>0)for(w.iushrn(f);f-- >0;)I.isOdd()&&I.iadd(R),I.iushrn(1);p.cmp(w)>=0?(p.isub(w),_.isub(I)):(w.isub(p),I.isub(_))}var te;return p.cmpn(1)===0?te=_:te=I,te.cmpn(0)<0&&te.iadd(u),te},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),w=u.clone();p.negative=0,w.negative=0;for(var _=0;p.isEven()&&w.isEven();_++)p.iushrn(1),w.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;w.isEven();)w.iushrn(1);var I=p.cmp(w);if(I<0){var R=p;p=w,w=R}else if(I===0||w.cmpn(1)===0)break;p.isub(w)}while(!0);return w.iushln(_)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){r(typeof u=="number");var p=u%26,w=(u-p)/26,_=1<<p;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var I=_,R=w;I!==0&&R<this.length;R++){var P=this.words[R]|0;P+=I,I=P>>>26,P&=67108863,this.words[R]=P}return I!==0&&(this.words[R]=I,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var w;if(this.length>1)w=1;else{p&&(u=-u),r(u<=67108863,"Number is too big");var _=this.words[0]|0;w=_===u?0:_<u?-1:1}return this.negative!==0?-w|0:w},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,w=this.length-1;w>=0;w--){var _=this.words[w]|0,I=u.words[w]|0;if(_!==I){_<I?p=-1:_>I&&(p=1);break}}return p},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new G(u)},i.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var N={k256:null,p224:null,p192:null,p25519:null};function D(x,u){this.name=x,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},D.prototype.ireduce=function(u){var p=u,w;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),w=p.bitLength();while(w>this.n);var _=w<this.n?-1:p.ucmp(this.p);return _===0?(p.words[0]=0,p.length=1):_>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},D.prototype.split=function(u,p){u.iushrn(this.n,0,p)},D.prototype.imulK=function(u){return u.imul(this.k)};function $(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s($,D),$.prototype.split=function(u,p){for(var w=4194303,_=Math.min(u.length,9),I=0;I<_;I++)p.words[I]=u.words[I];if(p.length=_,u.length<=9){u.words[0]=0,u.length=1;return}var R=u.words[9];for(p.words[p.length++]=R&w,I=10;I<u.length;I++){var P=u.words[I]|0;u.words[I-10]=(P&w)<<4|R>>>22,R=P}R>>>=22,u.words[I-10]=R,R===0&&u.length>10?u.length-=10:u.length-=9},$.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,w=0;w<u.length;w++){var _=u.words[w]|0;p+=_*977,u.words[w]=p&67108863,p=_*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function H(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,D);function L(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(L,D);function Z(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Z,D),Z.prototype.imulK=function(u){for(var p=0,w=0;w<u.length;w++){var _=(u.words[w]|0)*19+p,I=_&67108863;_>>>=26,u.words[w]=I,p=_}return p!==0&&(u.words[u.length++]=p),u},i._prime=function(u){if(N[u])return N[u];var p;if(u==="k256")p=new $;else if(u==="p224")p=new H;else if(u==="p192")p=new L;else if(u==="p25519")p=new Z;else throw new Error("Unknown prime "+u);return N[u]=p,p};function G(x){if(typeof x=="string"){var u=i._prime(x);this.m=u.p,this.prime=u}else r(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}G.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},G.prototype._verify2=function(u,p){r((u.negative|p.negative)===0,"red works only with positives"),r(u.red&&u.red===p.red,"red works only with red numbers")},G.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(m(u,u.umod(this.m)._forceRed(this)),u)},G.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},G.prototype.add=function(u,p){this._verify2(u,p);var w=u.add(p);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},G.prototype.iadd=function(u,p){this._verify2(u,p);var w=u.iadd(p);return w.cmp(this.m)>=0&&w.isub(this.m),w},G.prototype.sub=function(u,p){this._verify2(u,p);var w=u.sub(p);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},G.prototype.isub=function(u,p){this._verify2(u,p);var w=u.isub(p);return w.cmpn(0)<0&&w.iadd(this.m),w},G.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},G.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},G.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},G.prototype.isqr=function(u){return this.imul(u,u.clone())},G.prototype.sqr=function(u){return this.mul(u,u)},G.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var w=this.m.add(new i(1)).iushrn(2);return this.pow(u,w)}for(var _=this.m.subn(1),I=0;!_.isZero()&&_.andln(1)===0;)I++,_.iushrn(1);r(!_.isZero());var R=new i(1).toRed(this),P=R.redNeg(),E=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,E).cmp(P)!==0;)f.redIAdd(P);for(var B=this.pow(f,_),te=this.pow(u,_.addn(1).iushrn(1)),Q=this.pow(u,_),re=I;Q.cmp(R)!==0;){for(var Be=Q,ge=0;Be.cmp(R)!==0;ge++)Be=Be.redSqr();r(ge<re);var pe=this.pow(B,new i(1).iushln(re-ge-1));te=te.redMul(pe),B=pe.redSqr(),Q=Q.redMul(B),re=ge}return te},G.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},G.prototype.pow=function(u,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var w=4,_=new Array(1<<w);_[0]=new i(1).toRed(this),_[1]=u;for(var I=2;I<_.length;I++)_[I]=this.mul(_[I-1],u);var R=_[0],P=0,E=0,f=p.bitLength()%26;for(f===0&&(f=26),I=p.length-1;I>=0;I--){for(var B=p.words[I],te=f-1;te>=0;te--){var Q=B>>te&1;if(R!==_[0]&&(R=this.sqr(R)),Q===0&&P===0){E=0;continue}P<<=1,P|=Q,E++,!(E!==w&&(I!==0||te!==0))&&(R=this.mul(R,_[P]),E=0,P=0)}f=26}return R},G.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},G.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},i.mont=function(u){return new ee(u)};function ee(x){G.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ee,G),ee.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ee.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},ee.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var w=u.imul(p),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=w.isub(_).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},ee.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new i(0)._forceRed(this);var w=u.mul(p),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=w.isub(_).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},ee.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,In)})(ul);var s0=ul.exports;const Ud=Ru(s0);var Eu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ke,r=n.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,c){return r(o,a,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Eu,Eu.exports);var Hv=Eu.exports,Ko=Hv.Buffer;function Zv(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function m(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=Ko.from(b)),!Ko.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var k=0,A=0,M=0,O=b.length;M!==O&&b[M]===0;)M++,k++;for(var F=(O-M)*l+1>>>0,C=new Uint8Array(F);M!==O;){for(var z=b[M],N=0,D=F-1;(z!==0||N<A)&&D!==-1;D--,N++)z+=256*C[D]>>>0,C[D]=z%o>>>0,z=z/o>>>0;if(z!==0)throw new Error("Non-zero carry");A=N,M++}for(var $=F-A;$!==F&&C[$]===0;)$++;for(var H=a.repeat(k);$<F;++$)H+=t.charAt(C[$]);return H}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return Ko.alloc(0);for(var k=0,A=0,M=0;b[k]===a;)A++,k++;for(var O=(b.length-k)*c+1>>>0,F=new Uint8Array(O);k<b.length;){var C=b.charCodeAt(k);if(C>255)return;var z=e[C];if(z===255)return;for(var N=0,D=O-1;(z!==0||N<M)&&D!==-1;D--,N++)z+=o*F[D]>>>0,F[D]=z%256>>>0,z=z/256>>>0;if(z!==0)throw new Error("Non-zero carry");M=N,k++}for(var $=O-M;$!==O&&F[$]===0;)$++;var H=Ko.allocUnsafe(A+(O-$));H.fill(0,0,A);for(var L=A;$!==O;)H[L++]=F[$++];return H}function y(b){var k=g(b);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:m,decodeUnsafe:g,decode:y}}var Wv=Zv,Gv=Wv,Jv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",i0=Gv(Jv);const Ht=Ru(i0);var Ot={};function Wn(t,e,n){return e<=t&&t<=n}function Ja(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Yv(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function Qv(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Ea=-1;function ll(t){this.tokens=[].slice.call(t)}ll.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ea},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var ni=-1;function Dc(t,e){if(t)throw TypeError("Decoder error");return e||65533}var _a="utf-8";function Sa(t,e){if(!(this instanceof Sa))return new Sa(t,e);if(t=t!==void 0?String(t).toLowerCase():_a,t!==_a)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ja(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Sa.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Ja(n),this._streaming||(this._decoder=new Xv({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new ll(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==ni);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===ni)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Qv(i)}};function Ia(t,e){if(!(this instanceof Ia))return new Ia(t,e);if(t=t!==void 0?String(t).toLowerCase():_a,t!==_a)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ja(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ia.prototype={encode:function(e,n){e=e?String(e):"",n=Ja(n),this._streaming||(this._encoder=new e1(this._options)),this._streaming=!!n.stream;for(var r=[],s=new ll(Yv(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==ni);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==ni;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function Xv(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===Ea&&s!==0)return s=0,Dc(e);if(c===Ea)return ni;if(s===0){if(Wn(c,0,127))return c;if(Wn(c,194,223))s=1,n=c-192;else if(Wn(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,n=c-224;else if(Wn(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,n=c-240;else return Dc(e);return n=n<<6*s,null}if(!Wn(c,i,o))return n=s=r=0,i=128,o=191,a.prepend(c),Dc(e);if(i=128,o=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var l=n;return n=s=r=0,l}}function e1(t){t.fatal,this.handler=function(e,n){if(n===Ea)return ni;if(Wn(n,0,127))return n;var r,s;Wn(n,128,2047)?(r=1,s=192):Wn(n,2048,65535)?(r=2,s=224):Wn(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const t1=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Sa,TextEncoder:Ia},Symbol.toStringTag,{value:"Module"})),n1=Cu(t1);var r1=In&&In.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),s1=In&&In.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nn=In&&In.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},i1=In&&In.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&r1(e,t,n);return s1(e,t),e},o0=In&&In.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});var a0=Ot.deserializeUnchecked=h0=Ot.deserialize=f0=Ot.serialize=Ot.BinaryReader=Ot.BinaryWriter=Ot.BorshError=Ot.baseDecode=Ot.baseEncode=void 0;const Er=o0(s0),c0=o0(i0),o1=i1(n1),a1=typeof TextDecoder!="function"?o1.TextDecoder:TextDecoder,c1=new a1("utf-8",{fatal:!0});function u1(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),c0.default.encode(Buffer.from(t))}Ot.baseEncode=u1;function l1(t){return Buffer.from(c0.default.decode(t))}Ot.baseDecode=l1;const qc=1024;class Zt extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ot.BorshError=Zt;class u0{constructor(){this.buf=Buffer.alloc(qc),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(qc)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Er.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(qc)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Ot.BinaryWriter=u0;function Fn(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Zt("Reached the end of buffer when deserializing")}throw i}}}class fn{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Er.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Er.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Er.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Er.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Zt(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return c1.decode(n)}catch(r){throw new Zt(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}Nn([Fn],fn.prototype,"readU8",null);Nn([Fn],fn.prototype,"readU16",null);Nn([Fn],fn.prototype,"readU32",null);Nn([Fn],fn.prototype,"readU64",null);Nn([Fn],fn.prototype,"readU128",null);Nn([Fn],fn.prototype,"readU256",null);Nn([Fn],fn.prototype,"readU512",null);Nn([Fn],fn.prototype,"readString",null);Nn([Fn],fn.prototype,"readFixedArray",null);Nn([Fn],fn.prototype,"readArray",null);Ot.BinaryReader=fn;function l0(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Nr(t,e,n,r,s){try{if(typeof r=="string")s[`write${l0(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Zt(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Zt(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Nr(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{Nr(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Nr(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Nr(t,e,o,r.key,s),Nr(t,e,i,r.value,s)});break}default:throw new Zt(`FieldType ${r} unrecognized`)}else d0(t,n,s)}catch(i){throw i instanceof Zt&&i.addToFieldPath(e),i}}function d0(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Zt(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Nr(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),Nr(t,o,e[o],a,n);break}}}else throw new Zt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function d1(t,e,n=u0){const r=new n;return d0(t,e,r),r.toArray()}var f0=Ot.serialize=d1;function Fr(t,e,n,r){try{if(typeof n=="string")return r[`read${l0(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Fr(t,null,n[0],r));return s}else return r.readArray(()=>Fr(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Fr(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=Fr(t,e,n.key,r),c=Fr(t,e,n.value,r);s.set(a,c)}return s}return dl(t,n,r)}catch(s){throw s instanceof Zt&&s.addToFieldPath(e),s}}function dl(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Zt(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=Fr(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Zt(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=Fr(t,i,o,n);return new e({[i]:a})}throw new Zt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function f1(t,e,n,r=fn){const s=new r(n),i=dl(t,e,s);if(s.offset<n.length)throw new Zt(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var h0=Ot.deserialize=f1;function h1(t,e,n,r=fn){const s=new r(n);return dl(t,e,s)}a0=Ot.deserializeUnchecked=h1;var K={};Object.defineProperty(K,"__esModule",{value:!0});K.s16=K.s8=K.nu64be=K.u48be=K.u40be=K.u32be=K.u24be=K.u16be=Ct=K.nu64=K.u48=K.u40=he=K.u32=K.u24=yn=K.u16=Ue=K.u8=rs=K.offset=K.greedy=K.Constant=K.UTF8=K.CString=K.Blob=K.Boolean=K.BitField=K.BitStructure=K.VariantLayout=K.Union=K.UnionLayoutDiscriminator=K.UnionDiscriminator=K.Structure=K.Sequence=K.DoubleBE=K.Double=K.FloatBE=K.Float=K.NearInt64BE=K.NearInt64=K.NearUInt64BE=K.NearUInt64=K.IntBE=K.Int=K.UIntBE=K.UInt=K.OffsetLayout=K.GreedyCount=K.ExternalLayout=K.bindConstructorLayout=K.nameWithProperty=K.Layout=K.uint8ArrayToBuffer=K.checkUint8Array=void 0;K.constant=K.utf8=K.cstr=qe=K.blob=K.unionLayoutDiscriminator=K.union=Wt=K.seq=K.bits=de=K.struct=K.f64be=K.f64=K.f32be=K.f32=K.ns64be=K.s48be=K.s40be=K.s32be=K.s24be=K.s16be=on=K.ns64=K.s48=K.s40=K.s32=K.s24=void 0;const fl=ke;function li(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}K.checkUint8Array=li;function Pe(t){return li(t),fl.Buffer.from(t.buffer,t.byteOffset,t.length)}K.uint8ArrayToBuffer=Pe;class Le{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}K.Layout=Le;function hl(t,e){return e.property?t+"["+e.property+"]":t}K.nameWithProperty=hl;function p1(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Le))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}K.bindConstructorLayout=p1;class Xt extends Le{isCount(){throw new Error("ExternalLayout is abstract")}}K.ExternalLayout=Xt;class p0 extends Xt{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){li(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}K.GreedyCount=p0;class pl extends Xt{constructor(e,n=0,r){if(!(e instanceof Le))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof wn||this.layout instanceof Sn}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}K.OffsetLayout=pl;class wn extends Le{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Pe(n).writeUIntLE(e,r,this.span),this.span}}K.UInt=wn;class Sn extends Le{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Pe(n).writeUIntBE(e,r,this.span),this.span}}K.UIntBE=Sn;class hs extends Le{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readIntLE(n,this.span)}encode(e,n,r=0){return Pe(n).writeIntLE(e,r,this.span),this.span}}K.Int=hs;class di extends Le{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Pe(e).readIntBE(n,this.span)}encode(e,n,r=0){return Pe(n).writeIntBE(e,r,this.span),this.span}}K.IntBE=di;const _u=Math.pow(2,32);function Ya(t){const e=Math.floor(t/_u),n=t-e*_u;return{hi32:e,lo32:n}}function Qa(t,e){return t*_u+e}class m0 extends Le{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Qa(i,s)}encode(e,n,r=0){const s=Ya(e),i=Pe(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}K.NearUInt64=m0;class g0 extends Le{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Qa(s,i)}encode(e,n,r=0){const s=Ya(e),i=Pe(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}K.NearUInt64BE=g0;class y0 extends Le{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Qa(i,s)}encode(e,n,r=0){const s=Ya(e),i=Pe(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}K.NearInt64=y0;class w0 extends Le{constructor(e){super(8,e)}decode(e,n=0){const r=Pe(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Qa(s,i)}encode(e,n,r=0){const s=Ya(e),i=Pe(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}K.NearInt64BE=w0;class b0 extends Le{constructor(e){super(4,e)}decode(e,n=0){return Pe(e).readFloatLE(n)}encode(e,n,r=0){return Pe(n).writeFloatLE(e,r),4}}K.Float=b0;class v0 extends Le{constructor(e){super(4,e)}decode(e,n=0){return Pe(e).readFloatBE(n)}encode(e,n,r=0){return Pe(n).writeFloatBE(e,r),4}}K.FloatBE=v0;class x0 extends Le{constructor(e){super(8,e)}decode(e,n=0){return Pe(e).readDoubleLE(n)}encode(e,n,r=0){return Pe(n).writeDoubleLE(e,r),8}}K.Double=x0;class E0 extends Le{constructor(e){super(8,e)}decode(e,n=0){return Pe(e).readDoubleBE(n)}encode(e,n,r=0){return Pe(n).writeDoubleBE(e,r),8}}K.DoubleBE=E0;class _0 extends Le{constructor(e,n,r){if(!(e instanceof Le))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Xt&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof Xt)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof Xt&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof Xt&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof Xt&&this.count.encode(e.length,n,r),i}}K.Sequence=_0;class S0 extends Le{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Le,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){li(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(o=a.encode(l,n,r),0>c&&(c=a.getSpan(n,r)))}i=r,r+=c}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}K.Structure=S0;class ml{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}K.UnionDiscriminator=ml;class Aa extends ml{constructor(e,n){if(!(e instanceof Xt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}K.UnionLayoutDiscriminator=Aa;class gl extends Le{constructor(e,n,r){let s;if(e instanceof wn||e instanceof Sn)s=new Aa(new pl(e));else if(e instanceof Xt&&e.isCount())s=new Aa(e);else if(e instanceof ml)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Le))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof wn||e instanceof Sn)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof wn||e instanceof Sn,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new I0(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}K.Union=gl;class I0 extends Le{constructor(e,n,r,s){if(!(e instanceof gl))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Le))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}K.VariantLayout=I0;function Bs(t){return 0>t&&(t+=4294967296),t}class yl extends Le{constructor(e,n,r){if(!(e instanceof wn||e instanceof Sn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Bs(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new wl(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new A0(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}K.BitStructure=yl;class wl{constructor(e,n,r){if(!(e instanceof yl))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Bs(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Bs(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Bs(e&this.valueMask))throw new TypeError(hl("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Bs(e<<this.start);this.container._packedSetValue(Bs(n&~this.wordMask)|r)}}K.BitField=wl;let A0=class extends wl{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};K.Boolean=A0;class k0 extends Le{constructor(e,n){if(!(e instanceof Xt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Xt||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Pe(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof Xt&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(hl("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=Pe(e);return Pe(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof Xt&&this.length.encode(s,n,r),s}}K.Blob=k0;class B0 extends Le{constructor(e){super(-1,e)}getSpan(e,n=0){li(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Pe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=fl.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=Pe(n);return s.copy(o,r),o[r+i]=0,i+1}}K.CString=B0;class M0 extends Le{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return li(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Pe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=fl.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(Pe(n),r),i}}K.UTF8=M0;class R0 extends Le{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}K.Constant=R0;K.greedy=(t,e)=>new p0(t,e);var rs=K.offset=(t,e,n)=>new pl(t,e,n),Ue=K.u8=t=>new wn(1,t),yn=K.u16=t=>new wn(2,t);K.u24=t=>new wn(3,t);var he=K.u32=t=>new wn(4,t);K.u40=t=>new wn(5,t);K.u48=t=>new wn(6,t);var Ct=K.nu64=t=>new m0(t);K.u16be=t=>new Sn(2,t);K.u24be=t=>new Sn(3,t);K.u32be=t=>new Sn(4,t);K.u40be=t=>new Sn(5,t);K.u48be=t=>new Sn(6,t);K.nu64be=t=>new g0(t);K.s8=t=>new hs(1,t);K.s16=t=>new hs(2,t);K.s24=t=>new hs(3,t);K.s32=t=>new hs(4,t);K.s40=t=>new hs(5,t);K.s48=t=>new hs(6,t);var on=K.ns64=t=>new y0(t);K.s16be=t=>new di(2,t);K.s24be=t=>new di(3,t);K.s32be=t=>new di(4,t);K.s40be=t=>new di(5,t);K.s48be=t=>new di(6,t);K.ns64be=t=>new w0(t);K.f32=t=>new b0(t);K.f32be=t=>new v0(t);K.f64=t=>new x0(t);K.f64be=t=>new E0(t);var de=K.struct=(t,e,n)=>new S0(t,e,n);K.bits=(t,e,n)=>new yl(t,e,n);var Wt=K.seq=(t,e,n)=>new _0(t,e,n);K.union=(t,e,n)=>new gl(t,e,n);K.unionLayoutDiscriminator=(t,e)=>new Aa(t,e);var qe=K.blob=(t,e)=>new k0(t,e);K.cstr=t=>new B0(t);K.utf8=(t,e)=>new M0(t,e);K.constant=(t,e)=>new R0(t,e);var m1=8078e3,g1=8078001,y1=8078004,w1=8078005,b1=8078006,v1=8078011;function C0(t){return Array.isArray(t)?"%5B"+t.map(C0).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function x1([t,e]){return`${t}=${C0(e)}`}function E1(t){const e=Object.entries(t).map(x1).join("&");return btoa(e)}function _1(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${E1(e)}'`),`${n}\``}}var Os=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=_1(e,r);super(i,s);nr(this,"cause",this.cause);nr(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function S1(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function I1(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(S1(e,t));return t.write(e,n,0),n}})}function A1(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function _s(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function k1(t,e){if(_s(t)!==_s(e))throw new Os(y1);if(_s(t)&&_s(e)&&t.fixedSize!==e.fixedSize)throw new Os(w1,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!_s(t)&&!_s(e)&&t.maxSize!==e.maxSize)throw new Os(b1,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function B1(t,e,n=0){if(e.length-n<=0)throw new Os(m1,{codecDescription:t})}function M1(t,e,n,r=0){const s=n.length-r;if(s<e)throw new Os(g1,{bytesLength:s,codecDescription:t,expected:e})}function R1(t,e,n,r){if(r<e||r>n)throw new Os(v1,{codecDescription:t,max:n,min:e,value:r})}function O0(t){return(t==null?void 0:t.endian)!==1}function C1(t){return I1({fixedSize:t.size,write(e,n,r){t.range&&R1(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,O0(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function O1(t){return A1({fixedSize:t.size,read(e,n=0){B1(t.name,e,n),M1(t.name,t.size,e,n);const r=new DataView(T1(e,n,t.size));return[t.get(r,O0(t.config)),n+t.size]}})}function T1(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var P1=(t={})=>C1({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),U1=(t={})=>O1({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),L1=(t={})=>k1(P1(t),U1(t));class N1 extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function F1(t){return ko(t)&&typeof t[Symbol.iterator]=="function"}function ko(t){return typeof t=="object"&&t!=null}function ka(t){return ko(t)&&!Array.isArray(t)}function An(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function j1(t){const{done:e,value:n}=t.next();return e?void 0:n}function z1(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${An(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:c}}function*Ld(t,e,n,r){F1(t)||(t=[t]);for(const s of t){const i=z1(s,e,n,r);i&&(yield i)}}function*bl(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,m,g]of e.entries(t,a)){const y=bl(m,g,{path:l===void 0?r:[...r,l],branch:l===void 0?s:[...s,m],coerce:i,mask:o,message:n.message});for(const b of y)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):i&&(m=b[1],l===void 0?t=m:t instanceof Map?t.set(l,m):t instanceof Set?t.add(m):ko(t)&&(m!==void 0||l in t)&&(t[l]=m))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}let jn=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,l)=>{const m=s(c,l);return Ld(m,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{const m=i(c,l);return Ld(m,l,this,c)}:this.refiner=()=>[]}assert(e,n){return $1(e,this,n)}create(e,n){return Wi(e,this,n)}is(e){return T0(e,this)}mask(e,n){return D1(e,this,n)}validate(e,n={}){return Bo(e,this,n)}};function $1(t,e,n){const r=Bo(t,e,{message:n});if(r[0])throw r[0]}function Wi(t,e,n){const r=Bo(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function D1(t,e,n){const r=Bo(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function T0(t,e){return!Bo(t,e)[0]}function Bo(t,e,n={}){const r=bl(t,e,n),s=j1(r);return s[0]?[new N1(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function ps(t,e){return new jn({type:t,schema:null,validator:e})}function q1(){return ps("any",()=>!0)}function oe(t){return new jn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${An(e)}`}})}function Ln(){return ps("boolean",t=>typeof t=="boolean")}function vl(t){return ps("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${An(e)}`)}function Ze(t){const e=An(t),n=typeof t;return new jn({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${An(r)}`}})}function K1(){return ps("never",()=>!1)}function ae(t){return new jn({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function q(){return ps("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${An(t)}`)}function fe(t){return new jn({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function P0(t,e){return new jn({type:"record",schema:null,*entries(n){if(ko(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return ka(n)||`Expected an object, but received: ${An(n)}`},coercer(n){return ka(n)?{...n}:n}})}function X(){return ps("string",t=>typeof t=="string"||`Expected a string, but received: ${An(t)}`)}function xl(t){const e=K1();return new jn({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${An(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function W(t){const e=Object.keys(t);return new jn({type:"type",schema:t,*entries(n){if(ko(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return ka(n)||`Expected an object, but received: ${An(n)}`},coercer(n){return ka(n)?{...n}:n}})}function Gt(t){const e=t.map(n=>n.type).join(" | ");return new jn({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=bl(n,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${An(n)}`,...s]}})}function fi(){return ps("unknown",()=>!0)}function Mo(t,e,n){return new jn({...t,coercer:(r,s)=>T0(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Vo,V1=new Uint8Array(16);function U0(){if(!Vo&&(Vo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Vo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vo(V1)}const H1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xa(t){return typeof t=="string"&&H1.test(t)}var Rt=[];for(var Kc=0;Kc<256;++Kc)Rt.push((Kc+256).toString(16).substr(1));function ec(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Rt[t[e+0]]+Rt[t[e+1]]+Rt[t[e+2]]+Rt[t[e+3]]+"-"+Rt[t[e+4]]+Rt[t[e+5]]+"-"+Rt[t[e+6]]+Rt[t[e+7]]+"-"+Rt[t[e+8]]+Rt[t[e+9]]+"-"+Rt[t[e+10]]+Rt[t[e+11]]+Rt[t[e+12]]+Rt[t[e+13]]+Rt[t[e+14]]+Rt[t[e+15]]).toLowerCase();if(!Xa(n))throw TypeError("Stringified UUID is invalid");return n}var Nd,Vc,Hc=0,Zc=0;function Z1(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||Nd,o=t.clockseq!==void 0?t.clockseq:Vc;if(i==null||o==null){var a=t.random||(t.rng||U0)();i==null&&(i=Nd=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Vc=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:Zc+1,m=c-Hc+(l-Zc)/1e4;if(m<0&&t.clockseq===void 0&&(o=o+1&16383),(m<0||c>Hc)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Hc=c,Zc=l,Vc=o,c+=122192928e5;var g=((c&268435455)*1e4+l)%4294967296;s[r++]=g>>>24&255,s[r++]=g>>>16&255,s[r++]=g>>>8&255,s[r++]=g&255;var y=c/4294967296*1e4&268435455;s[r++]=y>>>8&255,s[r++]=y&255,s[r++]=y>>>24&15|16,s[r++]=y>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var b=0;b<6;++b)s[r+b]=i[b];return e||ec(s)}function L0(t){if(!Xa(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function W1(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var G1="6ba7b810-9dad-11d1-80b4-00c04fd430c8",J1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function N0(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=W1(s)),typeof i=="string"&&(i=L0(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var l=0;l<16;++l)o[a+l]=c[l];return o}return ec(c)}try{r.name=t}catch{}return r.DNS=G1,r.URL=J1,r}function Y1(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return Q1(X1(ex(t),t.length*8))}function Q1(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function F0(t){return(t+64>>>9<<4)+14+1}function X1(t,e){t[e>>5]|=128<<e%32,t[F0(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,c=r,l=s,m=i;n=Lt(n,r,s,i,t[o],7,-680876936),i=Lt(i,n,r,s,t[o+1],12,-389564586),s=Lt(s,i,n,r,t[o+2],17,606105819),r=Lt(r,s,i,n,t[o+3],22,-1044525330),n=Lt(n,r,s,i,t[o+4],7,-176418897),i=Lt(i,n,r,s,t[o+5],12,1200080426),s=Lt(s,i,n,r,t[o+6],17,-1473231341),r=Lt(r,s,i,n,t[o+7],22,-45705983),n=Lt(n,r,s,i,t[o+8],7,1770035416),i=Lt(i,n,r,s,t[o+9],12,-1958414417),s=Lt(s,i,n,r,t[o+10],17,-42063),r=Lt(r,s,i,n,t[o+11],22,-1990404162),n=Lt(n,r,s,i,t[o+12],7,1804603682),i=Lt(i,n,r,s,t[o+13],12,-40341101),s=Lt(s,i,n,r,t[o+14],17,-1502002290),r=Lt(r,s,i,n,t[o+15],22,1236535329),n=Nt(n,r,s,i,t[o+1],5,-165796510),i=Nt(i,n,r,s,t[o+6],9,-1069501632),s=Nt(s,i,n,r,t[o+11],14,643717713),r=Nt(r,s,i,n,t[o],20,-373897302),n=Nt(n,r,s,i,t[o+5],5,-701558691),i=Nt(i,n,r,s,t[o+10],9,38016083),s=Nt(s,i,n,r,t[o+15],14,-660478335),r=Nt(r,s,i,n,t[o+4],20,-405537848),n=Nt(n,r,s,i,t[o+9],5,568446438),i=Nt(i,n,r,s,t[o+14],9,-1019803690),s=Nt(s,i,n,r,t[o+3],14,-187363961),r=Nt(r,s,i,n,t[o+8],20,1163531501),n=Nt(n,r,s,i,t[o+13],5,-1444681467),i=Nt(i,n,r,s,t[o+2],9,-51403784),s=Nt(s,i,n,r,t[o+7],14,1735328473),r=Nt(r,s,i,n,t[o+12],20,-1926607734),n=Ft(n,r,s,i,t[o+5],4,-378558),i=Ft(i,n,r,s,t[o+8],11,-2022574463),s=Ft(s,i,n,r,t[o+11],16,1839030562),r=Ft(r,s,i,n,t[o+14],23,-35309556),n=Ft(n,r,s,i,t[o+1],4,-1530992060),i=Ft(i,n,r,s,t[o+4],11,1272893353),s=Ft(s,i,n,r,t[o+7],16,-155497632),r=Ft(r,s,i,n,t[o+10],23,-1094730640),n=Ft(n,r,s,i,t[o+13],4,681279174),i=Ft(i,n,r,s,t[o],11,-358537222),s=Ft(s,i,n,r,t[o+3],16,-722521979),r=Ft(r,s,i,n,t[o+6],23,76029189),n=Ft(n,r,s,i,t[o+9],4,-640364487),i=Ft(i,n,r,s,t[o+12],11,-421815835),s=Ft(s,i,n,r,t[o+15],16,530742520),r=Ft(r,s,i,n,t[o+2],23,-995338651),n=jt(n,r,s,i,t[o],6,-198630844),i=jt(i,n,r,s,t[o+7],10,1126891415),s=jt(s,i,n,r,t[o+14],15,-1416354905),r=jt(r,s,i,n,t[o+5],21,-57434055),n=jt(n,r,s,i,t[o+12],6,1700485571),i=jt(i,n,r,s,t[o+3],10,-1894986606),s=jt(s,i,n,r,t[o+10],15,-1051523),r=jt(r,s,i,n,t[o+1],21,-2054922799),n=jt(n,r,s,i,t[o+8],6,1873313359),i=jt(i,n,r,s,t[o+15],10,-30611744),s=jt(s,i,n,r,t[o+6],15,-1560198380),r=jt(r,s,i,n,t[o+13],21,1309151649),n=jt(n,r,s,i,t[o+4],6,-145523070),i=jt(i,n,r,s,t[o+11],10,-1120210379),s=jt(s,i,n,r,t[o+2],15,718787259),r=jt(r,s,i,n,t[o+9],21,-343485551),n=_r(n,a),r=_r(r,c),s=_r(s,l),i=_r(i,m)}return[n,r,s,i]}function ex(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(F0(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function _r(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function tx(t,e){return t<<e|t>>>32-e}function tc(t,e,n,r,s,i){return _r(tx(_r(_r(e,t),_r(r,i)),s),n)}function Lt(t,e,n,r,s,i,o){return tc(e&n|~e&r,t,e,s,i,o)}function Nt(t,e,n,r,s,i,o){return tc(e&r|n&~r,t,e,s,i,o)}function Ft(t,e,n,r,s,i,o){return tc(e^n^r,t,e,s,i,o)}function jt(t,e,n,r,s,i,o){return tc(n^(e|~r),t,e,s,i,o)}var nx=N0("v3",48,Y1);const rx=nx;function sx(t,e,n){t=t||{};var r=t.random||(t.rng||U0)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return ec(r)}function ix(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Wc(t,e){return t<<e|t>>>32-e}function ox(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),m=0;m<16;++m)l[m]=t[c*64+m*4]<<24|t[c*64+m*4+1]<<16|t[c*64+m*4+2]<<8|t[c*64+m*4+3];a[c]=l}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var y=new Uint32Array(80),b=0;b<16;++b)y[b]=a[g][b];for(var k=16;k<80;++k)y[k]=Wc(y[k-3]^y[k-8]^y[k-14]^y[k-16],1);for(var A=n[0],M=n[1],O=n[2],F=n[3],C=n[4],z=0;z<80;++z){var N=Math.floor(z/20),D=Wc(A,5)+ix(N,M,O,F)+C+e[N]+y[z]>>>0;C=F,F=O,O=Wc(M,30)>>>0,M=A,A=D}n[0]=n[0]+A>>>0,n[1]=n[1]+M>>>0,n[2]=n[2]+O>>>0,n[3]=n[3]+F>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var ax=N0("v5",80,ox);const cx=ax,ux="00000000-0000-0000-0000-000000000000";function lx(t){if(!Xa(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const dx=Object.freeze(Object.defineProperty({__proto__:null,NIL:ux,parse:L0,stringify:ec,v1:Z1,v3:rx,v4:sx,v5:cx,validate:Xa,version:lx},Symbol.toStringTag,{value:"Module"})),j0=Cu(dx),fx=j0.v4,hx=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return fx()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var px=hx;const mx=j0.v4,gx=px,Ba=function(t,e){if(!(this instanceof Ba))return new Ba(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return mx()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};Ba.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const l=typeof r=="function";try{i=gx(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(l)return r(m);throw m}if(!l)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(l){return r(l)}return this.callServer(c,function(l,m){s._parseResponse(l,m,r)}),i};Ba.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fd=(t,e)=>(t+(t>=0?e:-e)/z0)/e;function yx(t,e,n){const[[r,s],[i,o]]=e,a=Fd(o*t,n),c=Fd(-s*t,n);let l=t-a*r-c*i,m=-a*s-c*o;const g=l<Jn,y=m<Jn;g&&(l=-l),y&&(m=-m);const b=So(Math.ceil(zh(n)/2))+Ts;if(l<Jn||l>=b||m<Jn||m>=b)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:l,k2neg:y,k2:m}}function Su(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Gc(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ds(n.lowS,"lowS"),ds(n.prehash,"prehash"),n.format!==void 0&&Su(n.format),n}class wx extends Error{constructor(e=""){super(e)}}const Vn={Err:wx,_tlv:{encode:(t,e)=>{const{Err:n}=Vn;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=qo(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?qo(s.length/2|128):"";return qo(t)+i+s+e},decode(t,e){const{Err:n}=Vn;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const m of l)o=o<<8|m;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Vn;if(t<Jn)throw new e("integer: negative integers are not allowed");let n=qo(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vn;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ga(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vn,s=nt("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:m}=r.decode(2,c);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Vn,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},Jn=BigInt(0),Ts=BigInt(1),z0=BigInt(2),Ho=BigInt(3),bx=BigInt(4);function Rs(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=nt("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function vx(t,e={}){const n=n0("weierstrass",t,e),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;Io(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=D0(r,s);function m(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(ee,x,u){const{x:p,y:w}=x.toAffine(),_=r.toBytes(p);if(ds(u,"isCompressed"),u){m();const I=!r.isOdd(w);return Tn($0(I),_)}else return Tn(Uint8Array.of(4),_,r.toBytes(w))}function y(ee){_n(ee,void 0,"Point");const{publicKey:x,publicKeyUncompressed:u}=l,p=ee.length,w=ee[0],_=ee.subarray(1);if(p===x&&(w===2||w===3)){const I=r.fromBytes(_);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const R=A(I);let P;try{P=r.sqrt(R)}catch(B){const te=B instanceof Error?": "+B.message:"";throw new Error("bad point: is not on curve, sqrt error"+te)}m();const E=r.isOdd(P);return(w&1)===1!==E&&(P=r.neg(P)),{x:I,y:P}}else if(p===u&&w===4){const I=r.BYTES,R=r.fromBytes(_.subarray(0,I)),P=r.fromBytes(_.subarray(I,I*2));if(!M(R,P))throw new Error("bad point: is not on curve");return{x:R,y:P}}else throw new Error(`bad point: got length ${p}, expected compressed=${x} or uncompressed=${u}`)}const b=e.toBytes||g,k=e.fromBytes||y;function A(ee){const x=r.sqr(ee),u=r.mul(x,ee);return r.add(r.add(u,r.mul(ee,i.a)),i.b)}function M(ee,x){const u=r.sqr(x),p=A(ee);return r.eql(u,p)}if(!M(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const O=r.mul(r.pow(i.a,Ho),bx),F=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(O,F)))throw new Error("bad curve params: a or b");function C(ee,x,u=!1){if(!r.isValid(x)||u&&r.is0(x))throw new Error(`bad point coordinate ${ee}`);return x}function z(ee){if(!(ee instanceof L))throw new Error("ProjectivePoint expected")}function N(ee){if(!c||!c.basises)throw new Error("no endo");return yx(ee,c.basises,s.ORDER)}const D=va((ee,x)=>{const{X:u,Y:p,Z:w}=ee;if(r.eql(w,r.ONE))return{x:u,y:p};const _=ee.is0();x==null&&(x=_?r.ONE:r.inv(w));const I=r.mul(u,x),R=r.mul(p,x),P=r.mul(w,x);if(_)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:I,y:R}}),$=va(ee=>{if(ee.is0()){if(e.allowInfinityPoint&&!r.is0(ee.Y))return;throw new Error("bad point: ZERO")}const{x,y:u}=ee.toAffine();if(!r.isValid(x)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!M(x,u))throw new Error("bad point: equation left != right");if(!ee.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function H(ee,x,u,p,w){return u=new L(r.mul(u.X,ee),u.Y,u.Z),x=xa(p,x),u=xa(w,u),x.add(u)}class L{constructor(x,u,p){this.X=C("x",x),this.Y=C("y",u,!0),this.Z=C("z",p),Object.freeze(this)}static CURVE(){return i}static fromAffine(x){const{x:u,y:p}=x||{};if(!x||!r.isValid(u)||!r.isValid(p))throw new Error("invalid affine point");if(x instanceof L)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(p)?L.ZERO:new L(u,p,r.ONE)}static fromBytes(x){const u=L.fromAffine(k(_n(x,void 0,"point")));return u.assertValidity(),u}static fromHex(x){return L.fromBytes(nt("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,u=!0){return G.createCache(this,x),u||this.multiply(Ho),this}assertValidity(){$(this)}hasEvenY(){const{y:x}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(x)}equals(x){z(x);const{X:u,Y:p,Z:w}=this,{X:_,Y:I,Z:R}=x,P=r.eql(r.mul(u,R),r.mul(_,w)),E=r.eql(r.mul(p,R),r.mul(I,w));return P&&E}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:x,b:u}=i,p=r.mul(u,Ho),{X:w,Y:_,Z:I}=this;let R=r.ZERO,P=r.ZERO,E=r.ZERO,f=r.mul(w,w),B=r.mul(_,_),te=r.mul(I,I),Q=r.mul(w,_);return Q=r.add(Q,Q),E=r.mul(w,I),E=r.add(E,E),R=r.mul(x,E),P=r.mul(p,te),P=r.add(R,P),R=r.sub(B,P),P=r.add(B,P),P=r.mul(R,P),R=r.mul(Q,R),E=r.mul(p,E),te=r.mul(x,te),Q=r.sub(f,te),Q=r.mul(x,Q),Q=r.add(Q,E),E=r.add(f,f),f=r.add(E,f),f=r.add(f,te),f=r.mul(f,Q),P=r.add(P,f),te=r.mul(_,I),te=r.add(te,te),f=r.mul(te,Q),R=r.sub(R,f),E=r.mul(te,B),E=r.add(E,E),E=r.add(E,E),new L(R,P,E)}add(x){z(x);const{X:u,Y:p,Z:w}=this,{X:_,Y:I,Z:R}=x;let P=r.ZERO,E=r.ZERO,f=r.ZERO;const B=i.a,te=r.mul(i.b,Ho);let Q=r.mul(u,_),re=r.mul(p,I),Be=r.mul(w,R),ge=r.add(u,p),pe=r.add(_,I);ge=r.mul(ge,pe),pe=r.add(Q,re),ge=r.sub(ge,pe),pe=r.add(u,w);let We=r.add(_,R);return pe=r.mul(pe,We),We=r.add(Q,Be),pe=r.sub(pe,We),We=r.add(p,w),P=r.add(I,R),We=r.mul(We,P),P=r.add(re,Be),We=r.sub(We,P),f=r.mul(B,pe),P=r.mul(te,Be),f=r.add(P,f),P=r.sub(re,f),f=r.add(re,f),E=r.mul(P,f),re=r.add(Q,Q),re=r.add(re,Q),Be=r.mul(B,Be),pe=r.mul(te,pe),re=r.add(re,Be),Be=r.sub(Q,Be),Be=r.mul(B,Be),pe=r.add(pe,Be),Q=r.mul(re,pe),E=r.add(E,Q),Q=r.mul(We,pe),P=r.mul(ge,P),P=r.sub(P,Q),Q=r.mul(ge,re),f=r.mul(We,f),f=r.add(f,Q),new L(P,E,f)}subtract(x){return this.add(x.negate())}is0(){return this.equals(L.ZERO)}multiply(x){const{endo:u}=e;if(!s.isValidNot0(x))throw new Error("invalid scalar: out of range");let p,w;const _=I=>G.cached(this,I,R=>qr(L,R));if(u){const{k1neg:I,k1:R,k2neg:P,k2:E}=N(x),{p:f,f:B}=_(R),{p:te,f:Q}=_(E);w=B.add(Q),p=H(u.beta,f,te,I,P)}else{const{p:I,f:R}=_(x);p=I,w=R}return qr(L,[p,w])[0]}multiplyUnsafe(x){const{endo:u}=e,p=this;if(!s.isValid(x))throw new Error("invalid scalar: out of range");if(x===Jn||p.is0())return L.ZERO;if(x===Ts)return p;if(G.hasCache(this))return this.multiply(x);if(u){const{k1neg:w,k1:_,k2neg:I,k2:R}=N(x),{p1:P,p2:E}=kv(L,p,_,R);return H(u.beta,P,E,w,I)}else return G.unsafe(p,x)}multiplyAndAddUnsafe(x,u,p){const w=this.multiplyUnsafe(u).add(x.multiplyUnsafe(p));return w.is0()?void 0:w}toAffine(x){return D(this,x)}isTorsionFree(){const{isTorsionFree:x}=e;return o===Ts?!0:x?x(L,this):G.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:x}=e;return o===Ts?this:x?x(L,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(x=!0){return ds(x,"isCompressed"),this.assertValidity(),b(L,this,x)}toHex(x=!0){return es(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return qr(L,x)}static msm(x,u){return t0(L,s,x,u)}static fromPrivateKey(x){return L.BASE.multiply(Rs(s,x))}}L.BASE=new L(i.Gx,i.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=s;const Z=s.BITS,G=new e0(L,e.endo?Math.ceil(Z/2):Z);return L.BASE.precompute(8),L}function $0(t){return Uint8Array.of(t?2:3)}function D0(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function xx(t,e={}){const{Fn:n}=t,r=e.randomBytes||Lu,s=Object.assign(D0(t.Fp,n),{seed:Yh(n.ORDER)});function i(b){try{return!!Rs(n,b)}catch{return!1}}function o(b,k){const{publicKey:A,publicKeyUncompressed:M}=s;try{const O=b.length;return k===!0&&O!==A||k===!1&&O!==M?!1:!!t.fromBytes(b)}catch{return!1}}function a(b=r(s.seed)){return Sv(_n(b,s.seed,"seed"),n.ORDER)}function c(b,k=!0){return t.BASE.multiply(Rs(n,b)).toBytes(k)}function l(b){const k=a(b);return{secretKey:k,publicKey:c(k)}}function m(b){if(typeof b=="bigint")return!1;if(b instanceof t)return!0;const{secretKey:k,publicKey:A,publicKeyUncompressed:M}=s;if(n.allowedLengths||k===A)return;const O=nt("key",b).length;return O===A||O===M}function g(b,k,A=!0){if(m(b)===!0)throw new Error("first arg must be private key");if(m(k)===!1)throw new Error("second arg must be public key");const M=Rs(n,b);return t.fromHex(k).multiply(M).toBytes(A)}return Object.freeze({getPublicKey:c,getSharedSecret:g,keygen:l,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:b=>Rs(n,b),precompute(b=8,k=t.BASE){return k.precompute(b,!1)}},lengths:s})}function Ex(t,e,n={}){Af(e),Io(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Lu,s=n.hmac||((u,...p)=>fh(e,u,Tn(...p))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:m,getSharedSecret:g,utils:y,lengths:b}=xx(t,n),k={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},A="compact";function M(u){const p=a>>Ts;return u>p}function O(u,p){if(!o.isValidNot0(p))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return p}function F(u,p){Su(p);const w=b.signature,_=p==="compact"?w:p==="recovered"?w+1:void 0;return _n(u,_,`${p} signature`)}class C{constructor(p,w,_){this.r=O("r",p),this.s=O("s",w),_!=null&&(this.recovery=_),Object.freeze(this)}static fromBytes(p,w=A){F(p,w);let _;if(w==="der"){const{r:E,s:f}=Vn.toSig(_n(p));return new C(E,f)}w==="recovered"&&(_=p[0],w="compact",p=p.subarray(1));const I=o.BYTES,R=p.subarray(0,I),P=p.subarray(I,I*2);return new C(o.fromBytes(R),o.fromBytes(P),_)}static fromHex(p,w){return this.fromBytes(ea(p),w)}addRecoveryBit(p){return new C(this.r,this.s,p)}recoverPublicKey(p){const w=i.ORDER,{r:_,s:I,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(a*z0<w&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const E=R===2||R===3?_+a:_;if(!i.isValid(E))throw new Error("recovery id 2 or 3 invalid");const f=i.toBytes(E),B=t.fromBytes(Tn($0((R&1)===0),f)),te=o.inv(E),Q=N(nt("msgHash",p)),re=o.create(-Q*te),Be=o.create(I*te),ge=t.BASE.multiplyUnsafe(re).add(B.multiplyUnsafe(Be));if(ge.is0())throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return M(this.s)}toBytes(p=A){if(Su(p),p==="der")return ea(Vn.hexFromSig(this));const w=o.toBytes(this.r),_=o.toBytes(this.s);if(p==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Tn(Uint8Array.of(this.recovery),w,_)}return Tn(w,_)}toHex(p){return es(this.toBytes(p))}assertValidity(){}static fromCompact(p){return C.fromBytes(nt("sig",p),"compact")}static fromDER(p){return C.fromBytes(nt("sig",p),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return es(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return es(this.toBytes("compact"))}}const z=n.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const w=Ga(p),_=p.length*8-c;return _>0?w>>BigInt(_):w},N=n.bits2int_modN||function(p){return o.create(z(p))},D=So(c);function $(u){return xu("num < 2^"+c,u,Jn,D),o.toBytes(u)}function H(u,p){return _n(u,void 0,"message"),p?_n(e(u),void 0,"prehashed message"):u}function L(u,p,w){if(["recovered","canonical"].some(re=>re in w))throw new Error("sign() legacy options not supported");const{lowS:_,prehash:I,extraEntropy:R}=Gc(w,k);u=H(u,I);const P=N(u),E=Rs(o,p),f=[$(E),$(P)];if(R!=null&&R!==!1){const re=R===!0?r(b.secretKey):R;f.push(nt("extraEntropy",re))}const B=Tn(...f),te=P;function Q(re){const Be=z(re);if(!o.isValidNot0(Be))return;const ge=o.inv(Be),pe=t.BASE.multiply(Be).toAffine(),We=o.create(pe.x);if(We===Jn)return;const Ne=o.create(ge*o.create(te+We*E));if(Ne===Jn)return;let Fe=(pe.x===We?0:2)|Number(pe.y&Ts),hn=Ne;return _&&M(Ne)&&(hn=o.neg(Ne),Fe^=1),new C(We,hn,Fe)}return{seed:B,k2sig:Q}}function Z(u,p,w={}){u=nt("message",u);const{seed:_,k2sig:I}=L(u,p,w);return pv(e.outputLen,o.BYTES,s)(_,I)}function G(u){let p;const w=typeof u=="string"||xo(u),_=!w&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!w&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(_)p=new C(u.r,u.s);else if(w){try{p=C.fromBytes(nt("sig",u),"der")}catch(I){if(!(I instanceof Vn.Err))throw I}if(!p)try{p=C.fromBytes(nt("sig",u),"compact")}catch{return!1}}return p||!1}function ee(u,p,w,_={}){const{lowS:I,prehash:R,format:P}=Gc(_,k);if(w=nt("publicKey",w),p=H(nt("message",p),R),"strict"in _)throw new Error("options.strict was renamed to lowS");const E=P===void 0?G(u):C.fromBytes(nt("sig",u),P);if(E===!1)return!1;try{const f=t.fromBytes(w);if(I&&E.hasHighS())return!1;const{r:B,s:te}=E,Q=N(p),re=o.inv(te),Be=o.create(Q*re),ge=o.create(B*re),pe=t.BASE.multiplyUnsafe(Be).add(f.multiplyUnsafe(ge));return pe.is0()?!1:o.create(pe.x)===B}catch{return!1}}function x(u,p,w={}){const{prehash:_}=Gc(w,k);return p=H(p,_),C.fromBytes(u,"recovered").recoverPublicKey(p).toBytes()}return Object.freeze({keygen:l,getPublicKey:m,getSharedSecret:g,utils:y,lengths:b,Point:t,sign:Z,verify:ee,recoverPublicKey:x,Signature:C,hash:e})}function _x(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=fs(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Sx(t){const{CURVE:e,curveOpts:n}=_x(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function Ix(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Gh(n.Fn.ORDER,n.Fn.BITS))})}function Ax(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=Sx(t),i=vx(e,n),o=Ex(i,r,s);return Ix(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kx(t,e){const n=r=>Ax({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const El={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Bx={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},jd=BigInt(2);function Mx(t){const e=El.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,m=l*l*t%e,g=et(m,n,e)*m%e,y=et(g,n,e)*m%e,b=et(y,jd,e)*l%e,k=et(b,s,e)*b%e,A=et(k,i,e)*k%e,M=et(A,a,e)*A%e,O=et(M,c,e)*M%e,F=et(O,a,e)*A%e,C=et(F,n,e)*m%e,z=et(C,o,e)*k%e,N=et(z,r,e)*l%e,D=et(N,jd,e);if(!Iu.eql(Iu.sqr(D),t))throw new Error("Cannot find square root");return D}const Iu=fs(El.p,{sqrt:Mx}),Rx=kx({...El,Fp:Iu,lowS:!0,endo:Bx},Tf);Ao.utils.randomPrivateKey;Ao.getPublicKey;function zd(t){try{return Ao.ExtendedPoint.fromHex(t),!0}catch{return!1}}const q0=(t,e)=>Ao.sign(t,e.slice(0,32)),Cx=Ao.verify,_l=t=>ke.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ke.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ke.Buffer.from(t);class Ox{constructor(e){Object.assign(this,e)}encode(){return ke.Buffer.from(f0(Yo,this))}static decode(e){return h0(Yo,this,e)}static decodeUnchecked(e){return a0(Yo,this,e)}}const Yo=new Map;var K0;const Tx=32,kr=32;function Px(t){return t._bn!==void 0}let $d=1;class Se extends Ox{constructor(e){if(super({}),this._bn=void 0,Px(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Ht.decode(e);if(n.length!=kr)throw new Error("Invalid public key input");this._bn=new Ud(n)}else this._bn=new Ud(e);if(this._bn.byteLength()>kr)throw new Error("Invalid public key input")}}static unique(){const e=new Se($d);return $d+=1,new Se(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ht.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ke.Buffer);if(e.length===kr)return e;const n=ke.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=ke.Buffer.concat([e.toBuffer(),ke.Buffer.from(n),r.toBuffer()]),i=Qc(s);return new Se(i)}static createProgramAddressSync(e,n){let r=ke.Buffer.alloc(0);e.forEach(function(i){if(i.length>Tx)throw new TypeError("Max seed length exceeded");r=ke.Buffer.concat([r,_l(i)])}),r=ke.Buffer.concat([r,n.toBuffer(),ke.Buffer.from("ProgramDerivedAddress")]);const s=Qc(r);if(zd(s))throw new Error("Invalid seeds, address must fall off the curve");return new Se(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(ke.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Se(e);return zd(n.toBytes())}}K0=Se;Se.default=new K0("11111111111111111111111111111111");Yo.set(Se,{kind:"struct",fields:[["_bn","u256"]]});new Se("BPFLoader1111111111111111111111111111111111");const Ps=1280-40-8,Sl=127,Ma=64;class Ra{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Re=(t="publicKey")=>qe(32,t),Ux=(t="signature")=>qe(64,t),Cs=(t="string")=>{const e=de([he("length"),he("lengthPadding"),qe(rs(he(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:ke.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>he().span+he().span+ke.Buffer.from(i,"utf8").length,s},Lx=(t="authorized")=>de([Re("staker"),Re("withdrawer")],t),Nx=(t="lockup")=>de([on("unixTimestamp"),on("epoch"),Re("custodian")],t),Fx=(t="voteInit")=>de([Re("nodePubkey"),Re("authorizedVoter"),Re("authorizedWithdrawer"),Ue("commission")],t),jx=(t="voteAuthorizeWithSeedArgs")=>de([he("voteAuthorizationType"),Re("currentAuthorityDerivedKeyOwnerPubkey"),Cs("currentAuthorityDerivedKeySeed"),Re("newAuthorized")],t);function an(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function cn(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function St(t,e){if(!t)throw new Error(e||"Assertion failed")}class nc{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new nc(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];St(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{St(n.length>0,"Expected at least one writable signer key");const[c]=n[0];St(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Se(c)),...r.map(([c])=>new Se(c)),...s.map(([c])=>new Se(c)),...i.map(([c])=>new Se(c))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Se(i),c=e.findIndex(l=>l.equals(a));c>=0&&(St(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const V0="Reached end of buffer unexpectedly";function Gn(t){if(t.length===0)throw new Error(V0);return t.shift()}function un(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(V0);return t.splice(...e)}class ri{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Se(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ht.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ra(this.staticAccountKeys)}static compile(e){const n=nc.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new Ra(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ht.encode(a.data)}));return new ri({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];cn(n,e);const r=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,k=Array.from(Ht.decode(g.data));let A=[];cn(A,y.length);let M=[];return cn(M,k.length),{programIdIndex:b,keyIndicesCount:ke.Buffer.from(A),keyIndices:y,dataLength:ke.Buffer.from(M),data:k}});let s=[];cn(s,r.length);let i=ke.Buffer.alloc(Ps);ke.Buffer.from(s).copy(i);let o=s.length;r.forEach(g=>{const b=de([Ue("programIdIndex"),qe(g.keyIndicesCount.length,"keyIndicesCount"),Wt(Ue("keyIndex"),g.keyIndices.length,"keyIndices"),qe(g.dataLength.length,"dataLength"),Wt(Ue("userdatum"),g.data.length,"data")]).encode(g,i,o);o+=b}),i=i.slice(0,o);const a=de([qe(1,"numRequiredSignatures"),qe(1,"numReadonlySignedAccounts"),qe(1,"numReadonlyUnsignedAccounts"),qe(n.length,"keyCount"),Wt(Re("key"),e,"keys"),Re("recentBlockhash")]),c={numRequiredSignatures:ke.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ke.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ke.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ke.Buffer.from(n),keys:this.accountKeys.map(g=>_l(g.toBytes())),recentBlockhash:Ht.decode(this.recentBlockhash)};let l=ke.Buffer.alloc(2048);const m=a.encode(c,l);return i.copy(l,m),l.slice(0,m+i.length)}static from(e){let n=[...e];const r=Gn(n);if(r!==(r&Sl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Gn(n),i=Gn(n),o=an(n);let a=[];for(let y=0;y<o;y++){const b=un(n,0,kr);a.push(new Se(ke.Buffer.from(b)))}const c=un(n,0,kr),l=an(n);let m=[];for(let y=0;y<l;y++){const b=Gn(n),k=an(n),A=un(n,0,k),M=an(n),O=un(n,0,M),F=Ht.encode(ke.Buffer.from(O));m.push({programIdIndex:b,accounts:A,data:F})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ht.encode(ke.Buffer.from(c)),accountKeys:a,instructions:m};return new ri(g)}}class Ca{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ra(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=nc.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const m of i){const g=n.extractTableLookup(m);if(g!==void 0){const[y,{writable:b,readonly:k}]=g;r.push(y),s.writable.push(...b),s.readonly.push(...k)}}const[o,a]=n.getMessageComponents(),l=new Ra(a,s).compileInstructions(e.instructions);return new Ca({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const e=Array();cn(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();cn(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();cn(i,this.addressTableLookups.length);const o=de([Ue("prefix"),de([Ue("numRequiredSignatures"),Ue("numReadonlySignedAccounts"),Ue("numReadonlyUnsignedAccounts")],"header"),qe(e.length,"staticAccountKeysLength"),Wt(Re(),this.staticAccountKeys.length,"staticAccountKeys"),Re("recentBlockhash"),qe(r.length,"instructionsLength"),qe(n.length,"serializedInstructions"),qe(i.length,"addressTableLookupsLength"),qe(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ps),c=128,l=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Ht.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,l)}serializeInstructions(){let e=0;const n=new Uint8Array(Ps);for(const r of this.compiledInstructions){const s=Array();cn(s,r.accountKeyIndexes.length);const i=Array();cn(i,r.data.length);const o=de([Ue("programIdIndex"),qe(s.length,"encodedAccountKeyIndexesLength"),Wt(Ue(),r.accountKeyIndexes.length,"accountKeyIndexes"),qe(i.length,"encodedDataLength"),qe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Ps);for(const r of this.addressTableLookups){const s=Array();cn(s,r.writableIndexes.length);const i=Array();cn(i,r.readonlyIndexes.length);const o=de([Re("accountKey"),qe(s.length,"encodedWritableIndexesLength"),Wt(Ue(),r.writableIndexes.length,"writableIndexes"),qe(i.length,"encodedReadonlyIndexesLength"),Wt(Ue(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Gn(n),s=r&Sl;St(r!==s,"Expected versioned message but received legacy message");const i=s;St(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Gn(n),numReadonlySignedAccounts:Gn(n),numReadonlyUnsignedAccounts:Gn(n)},a=[],c=an(n);for(let k=0;k<c;k++)a.push(new Se(un(n,0,kr)));const l=Ht.encode(un(n,0,kr)),m=an(n),g=[];for(let k=0;k<m;k++){const A=Gn(n),M=an(n),O=un(n,0,M),F=an(n),C=new Uint8Array(un(n,0,F));g.push({programIdIndex:A,accountKeyIndexes:O,data:C})}const y=an(n),b=[];for(let k=0;k<y;k++){const A=new Se(un(n,0,kr)),M=an(n),O=un(n,0,M),F=an(n),C=un(n,0,F);b.push({accountKey:A,writableIndexes:O,readonlyIndexes:C})}return new Ca({header:o,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:g,addressTableLookups:b})}}const Il={deserializeMessageVersion(t){const e=t[0],n=e&Sl;return n===e?"legacy":n},deserialize:t=>{const e=Il.deserializeMessageVersion(t);if(e==="legacy")return ri.from(t);if(e===0)return Ca.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},zx=ke.Buffer.alloc(Ma).fill(0);class Dd{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ke.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Oa{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Dd(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<n.length;A++)if(n[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);const s=[],i=[];n.forEach(A=>{A.keys.forEach(O=>{i.push({...O})});const M=A.programId.toString();s.includes(M)||s.push(M)}),s.forEach(A=>{i.push({pubkey:new Se(A),isSigner:!1,isWritable:!1})});const o=[];i.forEach(A=>{const M=A.pubkey.toString(),O=o.findIndex(F=>F.pubkey.toString()===M);O>-1?(o[O].isWritable=o[O].isWritable||A.isWritable,o[O].isSigner=o[O].isSigner||A.isSigner):o.push(A)}),o.sort(function(A,M){if(A.isSigner!==M.isSigner)return A.isSigner?-1:1;if(A.isWritable!==M.isWritable)return A.isWritable?-1:1;const O={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return A.pubkey.toBase58().localeCompare(M.pubkey.toBase58(),"en",O)});const a=o.findIndex(A=>A.pubkey.equals(r));if(a>-1){const[A]=o.splice(a,1);A.isSigner=!0,A.isWritable=!0,o.unshift(A)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const A of this.signatures){const M=o.findIndex(O=>O.pubkey.equals(A.publicKey));if(M>-1)o[M].isSigner||(o[M].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let c=0,l=0,m=0;const g=[],y=[];o.forEach(({pubkey:A,isSigner:M,isWritable:O})=>{M?(g.push(A.toString()),c+=1,O||(l+=1)):(y.push(A.toString()),O||(m+=1))});const b=g.concat(y),k=n.map(A=>{const{data:M,programId:O}=A;return{programIdIndex:b.indexOf(O.toString()),accounts:A.keys.map(F=>b.indexOf(F.pubkey.toString())),data:Ht.encode(M)}});return k.forEach(A=>{St(A.programIdIndex>=0),A.accounts.forEach(M=>St(M>=0))}),new ri({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:m},accountKeys:b,recentBlockhash:e,instructions:k})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=q0(r,s.secretKey);this._addSignature(s.publicKey,_l(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){St(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ke.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):Cx(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];cn(r,n.length);const s=r.length+n.length*64+e.length,i=ke.Buffer.alloc(s);return St(n.length<256),ke.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(St(o.length===64,"signature has invalid length"),ke.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),St(i.length<=Ps,`Transaction too large: ${i.length} > ${Ps}`),i}get keys(){return St(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return St(this.instructions.length===1),this.instructions[0].programId}get data(){return St(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=an(n);let s=[];for(let i=0;i<r;i++){const o=un(n,0,Ma);s.push(Ht.encode(ke.Buffer.from(o)))}return Oa.populate(ri.from(n),s)}static populate(e,n=[]){const r=new Oa;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==Ht.encode(zx)?null:Ht.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Dd({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ht.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Al{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)St(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(Ma));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();cn(n,this.signatures.length);const r=de([qe(n.length,"encodedSignaturesLength"),Wt(Ux(),this.signatures.length,"signatures"),qe(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=an(n);for(let o=0;o<s;o++)r.push(new Uint8Array(un(n,0,Ma)));const i=Il.deserialize(new Uint8Array(n));return new Al(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));St(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=q0(n,s.secretKey)}}addSignature(e,n){St(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));St(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}new Se("SysvarC1ock11111111111111111111111111111111");new Se("SysvarEpochSchedu1e111111111111111111111111");new Se("Sysvar1nstructions1111111111111111111111111");new Se("SysvarRecentB1ockHashes11111111111111111111");new Se("SysvarRent111111111111111111111111111111111");new Se("SysvarRewards111111111111111111111111111111");new Se("SysvarS1otHashes111111111111111111111111111");new Se("SysvarS1otHistory11111111111111111111111111");new Se("SysvarStakeHistory1111111111111111111111111");const $x=Ct("lamportsPerSignature"),Dx=de([he("version"),he("state"),Re("authorizedPubkey"),Re("nonce"),de([$x],"feeCalculator")]);Dx.span;function si(t){const e=qe(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=L1();return s.decode=(o,a)=>{const c=n(o,a);return i.decode(c)},s.encode=(o,a,c)=>{const l=i.encode(o);return r(l,a,c)},s}Object.freeze({Create:{index:0,layout:de([he("instruction"),on("lamports"),on("space"),Re("programId")])},Assign:{index:1,layout:de([he("instruction"),Re("programId")])},Transfer:{index:2,layout:de([he("instruction"),si("lamports")])},CreateWithSeed:{index:3,layout:de([he("instruction"),Re("base"),Cs("seed"),on("lamports"),on("space"),Re("programId")])},AdvanceNonceAccount:{index:4,layout:de([he("instruction")])},WithdrawNonceAccount:{index:5,layout:de([he("instruction"),on("lamports")])},InitializeNonceAccount:{index:6,layout:de([he("instruction"),Re("authorized")])},AuthorizeNonceAccount:{index:7,layout:de([he("instruction"),Re("authorized")])},Allocate:{index:8,layout:de([he("instruction"),on("space")])},AllocateWithSeed:{index:9,layout:de([he("instruction"),Re("base"),Cs("seed"),on("space"),Re("programId")])},AssignWithSeed:{index:10,layout:de([he("instruction"),Re("base"),Cs("seed"),Re("programId")])},TransferWithSeed:{index:11,layout:de([he("instruction"),si("lamports"),Cs("seed"),Re("programId")])},UpgradeNonceAccount:{index:12,layout:de([he("instruction")])}});new Se("11111111111111111111111111111111");new Se("BPFLoader2111111111111111111111111111111111");de([he("typeIndex"),si("deactivationSlot"),Ct("lastExtendedSlot"),Ue("lastExtendedStartIndex"),Ue(),Wt(Re(),rs(Ue(),-1),"authority")]);const it=Mo(vl(Se),X(),t=>new Se(t)),H0=xl([X(),Ze("base64")]),kl=Mo(vl(ke.Buffer),H0,t=>ke.Buffer.from(t[0],"base64"));function Z0(t){return Gt([W({jsonrpc:Ze("2.0"),id:X(),result:t}),W({jsonrpc:Ze("2.0"),id:X(),error:W({code:fi(),message:X(),data:fe(q1())})})])}const qx=Z0(fi());function ze(t){return Mo(Z0(t),qx,e=>"error"in e?e:{...e,result:Wi(e.result,t)})}function kn(t){return ze(W({context:W({slot:q()}),value:t}))}function rc(t){return W({context:W({slot:q()}),value:t})}const Kx=W({foundation:q(),foundationTerm:q(),initial:q(),taper:q(),terminal:q()});ze(oe(ae(W({epoch:q(),effectiveSlot:q(),amount:q(),postBalance:q(),commission:fe(ae(q()))}))));const Vx=oe(W({slot:q(),prioritizationFee:q()})),Hx=W({total:q(),validator:q(),foundation:q(),epoch:q()}),Zx=W({epoch:q(),slotIndex:q(),slotsInEpoch:q(),absoluteSlot:q(),blockHeight:fe(q()),transactionCount:fe(q())}),Wx=W({slotsPerEpoch:q(),leaderScheduleSlotOffset:q(),warmup:Ln(),firstNormalEpoch:q(),firstNormalSlot:q()}),Gx=P0(X(),oe(q())),ms=ae(Gt([W({}),X()])),Jx=W({err:ms}),Yx=Ze("receivedSignature");W({"solana-core":X(),"feature-set":fe(q())});const Qx=W({program:X(),programId:it,parsed:fi()}),Xx=W({programId:it,accounts:oe(it),data:X()});kn(W({err:ae(Gt([W({}),X()])),logs:ae(oe(X())),accounts:fe(ae(oe(ae(W({executable:Ln(),owner:X(),lamports:q(),data:oe(X()),rentEpoch:fe(q())}))))),unitsConsumed:fe(q()),returnData:fe(ae(W({programId:X(),data:xl([X(),Ze("base64")])}))),innerInstructions:fe(ae(oe(W({index:q(),instructions:oe(Gt([Qx,Xx]))}))))}));kn(W({byIdentity:P0(X(),oe(q())),range:W({firstSlot:q(),lastSlot:q()})}));ze(Kx);ze(Hx);ze(Vx);ze(Zx);ze(Wx);ze(Gx);ze(q());kn(W({total:q(),circulating:q(),nonCirculating:q(),nonCirculatingAccounts:oe(it)}));const e2=W({amount:X(),uiAmount:ae(q()),decimals:q(),uiAmountString:fe(X())});kn(oe(W({address:it,amount:X(),uiAmount:ae(q()),decimals:q(),uiAmountString:fe(X())})));kn(oe(W({pubkey:it,account:W({executable:Ln(),owner:it,lamports:q(),data:kl,rentEpoch:q()})})));const Au=W({program:X(),parsed:fi(),space:q()});kn(oe(W({pubkey:it,account:W({executable:Ln(),owner:it,lamports:q(),data:Au,rentEpoch:q()})})));kn(oe(W({lamports:q(),address:it})));const Bl=W({executable:Ln(),owner:it,lamports:q(),data:kl,rentEpoch:q()});W({pubkey:it,account:Bl});const t2=Mo(Gt([vl(ke.Buffer),Au]),Gt([H0,Au]),t=>Array.isArray(t)?Wi(t,kl):t),n2=W({executable:Ln(),owner:it,lamports:q(),data:t2,rentEpoch:q()});W({pubkey:it,account:n2});W({state:Gt([Ze("active"),Ze("inactive"),Ze("activating"),Ze("deactivating")]),active:q(),inactive:q()});ze(oe(W({signature:X(),slot:q(),err:ms,memo:ae(X()),blockTime:fe(ae(q()))})));ze(oe(W({signature:X(),slot:q(),err:ms,memo:ae(X()),blockTime:fe(ae(q()))})));W({subscription:q(),result:rc(Bl)});const r2=W({pubkey:it,account:Bl});W({subscription:q(),result:rc(r2)});const s2=W({parent:q(),slot:q(),root:q()});W({subscription:q(),result:s2});const i2=Gt([W({type:Gt([Ze("firstShredReceived"),Ze("completed"),Ze("optimisticConfirmation"),Ze("root")]),slot:q(),timestamp:q()}),W({type:Ze("createdBank"),parent:q(),slot:q(),timestamp:q()}),W({type:Ze("frozen"),slot:q(),timestamp:q(),stats:W({numTransactionEntries:q(),numSuccessfulTransactions:q(),numFailedTransactions:q(),maxTransactionsPerEntry:q()})}),W({type:Ze("dead"),slot:q(),timestamp:q(),err:X()})]);W({subscription:q(),result:i2});W({subscription:q(),result:rc(Gt([Jx,Yx]))});W({subscription:q(),result:q()});W({pubkey:X(),gossip:ae(X()),tpu:ae(X()),rpc:ae(X()),version:ae(X())});const qd=W({votePubkey:X(),nodePubkey:X(),activatedStake:q(),epochVoteAccount:Ln(),epochCredits:oe(xl([q(),q(),q()])),commission:q(),lastVote:q(),rootSlot:ae(q())});ze(W({current:oe(qd),delinquent:oe(qd)}));const o2=Gt([Ze("processed"),Ze("confirmed"),Ze("finalized")]),a2=W({slot:q(),confirmations:ae(q()),err:ms,confirmationStatus:fe(o2)});kn(oe(ae(a2)));ze(q());const W0=W({accountKey:it,writableIndexes:oe(q()),readonlyIndexes:oe(q())}),Ml=W({signatures:oe(X()),message:W({accountKeys:oe(X()),header:W({numRequiredSignatures:q(),numReadonlySignedAccounts:q(),numReadonlyUnsignedAccounts:q()}),instructions:oe(W({accounts:oe(q()),data:X(),programIdIndex:q()})),recentBlockhash:X(),addressTableLookups:fe(oe(W0))})}),G0=W({pubkey:it,signer:Ln(),writable:Ln(),source:fe(Gt([Ze("transaction"),Ze("lookupTable")]))}),J0=W({accountKeys:oe(G0),signatures:oe(X())}),Y0=W({parsed:fi(),program:X(),programId:it}),Q0=W({accounts:oe(it),data:X(),programId:it}),c2=Gt([Q0,Y0]),u2=Gt([W({parsed:fi(),program:X(),programId:X()}),W({accounts:oe(X()),data:X(),programId:X()})]),X0=Mo(c2,u2,t=>"accounts"in t?Wi(t,Q0):Wi(t,Y0)),ep=W({signatures:oe(X()),message:W({accountKeys:oe(G0),instructions:oe(X0),recentBlockhash:X(),addressTableLookups:fe(ae(oe(W0)))})}),Ta=W({accountIndex:q(),mint:X(),owner:fe(X()),programId:fe(X()),uiTokenAmount:e2}),tp=W({writable:oe(it),readonly:oe(it)}),sc=W({err:ms,fee:q(),innerInstructions:fe(ae(oe(W({index:q(),instructions:oe(W({accounts:oe(q()),data:X(),programIdIndex:q()}))})))),preBalances:oe(q()),postBalances:oe(q()),logMessages:fe(ae(oe(X()))),preTokenBalances:fe(ae(oe(Ta))),postTokenBalances:fe(ae(oe(Ta))),loadedAddresses:fe(tp),computeUnitsConsumed:fe(q()),costUnits:fe(q())}),Rl=W({err:ms,fee:q(),innerInstructions:fe(ae(oe(W({index:q(),instructions:oe(X0)})))),preBalances:oe(q()),postBalances:oe(q()),logMessages:fe(ae(oe(X()))),preTokenBalances:fe(ae(oe(Ta))),postTokenBalances:fe(ae(oe(Ta))),loadedAddresses:fe(tp),computeUnitsConsumed:fe(q()),costUnits:fe(q())}),hi=Gt([Ze(0),Ze("legacy")]),gs=W({pubkey:X(),lamports:q(),postBalance:ae(q()),rewardType:ae(X()),commission:fe(ae(q()))});ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),transactions:oe(W({transaction:Ml,meta:ae(sc),version:fe(hi)})),rewards:fe(oe(gs)),blockTime:ae(q()),blockHeight:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),rewards:fe(oe(gs)),blockTime:ae(q()),blockHeight:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),transactions:oe(W({transaction:J0,meta:ae(sc),version:fe(hi)})),rewards:fe(oe(gs)),blockTime:ae(q()),blockHeight:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),transactions:oe(W({transaction:ep,meta:ae(Rl),version:fe(hi)})),rewards:fe(oe(gs)),blockTime:ae(q()),blockHeight:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),transactions:oe(W({transaction:J0,meta:ae(Rl),version:fe(hi)})),rewards:fe(oe(gs)),blockTime:ae(q()),blockHeight:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),rewards:fe(oe(gs)),blockTime:ae(q()),blockHeight:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),transactions:oe(W({transaction:Ml,meta:ae(sc)})),rewards:fe(oe(gs)),blockTime:ae(q())})));ze(ae(W({blockhash:X(),previousBlockhash:X(),parentSlot:q(),signatures:oe(X()),blockTime:ae(q())})));ze(ae(W({slot:q(),meta:ae(sc),blockTime:fe(ae(q())),transaction:Ml,version:fe(hi)})));ze(ae(W({slot:q(),transaction:ep,meta:ae(Rl),blockTime:fe(ae(q())),version:fe(hi)})));kn(W({blockhash:X(),lastValidBlockHeight:q()}));kn(Ln());const l2=W({slot:q(),numTransactions:q(),numSlots:q(),samplePeriodSecs:q()});ze(oe(l2));kn(ae(W({feeCalculator:W({lamportsPerSignature:q()})})));ze(X());ze(X());const d2=W({err:ms,logs:oe(X()),signature:X()});W({result:rc(d2),subscription:q()});Object.freeze({CreateLookupTable:{index:0,layout:de([he("instruction"),si("recentSlot"),Ue("bumpSeed")])},FreezeLookupTable:{index:1,layout:de([he("instruction")])},ExtendLookupTable:{index:2,layout:de([he("instruction"),si(),Wt(Re(),rs(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:de([he("instruction")])},CloseLookupTable:{index:4,layout:de([he("instruction")])}});new Se("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:de([Ue("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:de([Ue("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:de([Ue("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:de([Ue("instruction"),si("microLamports")])}});new Se("ComputeBudget111111111111111111111111111111");de([Ue("numSignatures"),Ue("padding"),yn("signatureOffset"),yn("signatureInstructionIndex"),yn("publicKeyOffset"),yn("publicKeyInstructionIndex"),yn("messageDataOffset"),yn("messageDataSize"),yn("messageInstructionIndex")]);new Se("Ed25519SigVerify111111111111111111111111111");Rx.utils.isValidPrivateKey;de([Ue("numSignatures"),yn("signatureOffset"),Ue("signatureInstructionIndex"),yn("ethAddressOffset"),Ue("ethAddressInstructionIndex"),yn("messageDataOffset"),yn("messageDataSize"),Ue("messageInstructionIndex"),qe(20,"ethAddress"),qe(64,"signature"),Ue("recoveryId")]);new Se("KeccakSecp256k11111111111111111111111111111");var np;new Se("StakeConfig11111111111111111111111111111111");class rp{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}np=rp;rp.default=new np(0,0,Se.default);Object.freeze({Initialize:{index:0,layout:de([he("instruction"),Lx(),Nx()])},Authorize:{index:1,layout:de([he("instruction"),Re("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:de([he("instruction")])},Split:{index:3,layout:de([he("instruction"),on("lamports")])},Withdraw:{index:4,layout:de([he("instruction"),on("lamports")])},Deactivate:{index:5,layout:de([he("instruction")])},Merge:{index:7,layout:de([he("instruction")])},AuthorizeWithSeed:{index:8,layout:de([he("instruction"),Re("newAuthorized"),he("stakeAuthorizationType"),Cs("authoritySeed"),Re("authorityOwner")])}});new Se("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:de([he("instruction"),Fx()])},Authorize:{index:1,layout:de([he("instruction"),Re("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:de([he("instruction"),on("lamports")])},UpdateValidatorIdentity:{index:4,layout:de([he("instruction")])},AuthorizeWithSeed:{index:10,layout:de([he("instruction"),jx()])}});new Se("Vote111111111111111111111111111111111111111");new Se("Va1idator1nfo111111111111111111111111111111");W({name:X(),website:fe(X()),details:fe(X()),iconUrl:fe(X()),keybaseUsername:fe(X())});new Se("Vote111111111111111111111111111111111111111");de([Re("nodePubkey"),Re("authorizedWithdrawer"),Ue("commission"),Ct(),Wt(de([Ct("slot"),he("confirmationCount")]),rs(he(),-8),"votes"),Ue("rootSlotValid"),Ct("rootSlot"),Ct(),Wt(de([Ct("epoch"),Re("authorizedVoter")]),rs(he(),-8),"authorizedVoters"),de([Wt(de([Re("authorizedPubkey"),Ct("epochOfLastAuthorizedSwitch"),Ct("targetEpoch")]),32,"buf"),Ct("idx"),Ue("isEmpty")],"priorVoters"),Ct(),Wt(de([Ct("epoch"),Ct("credits"),Ct("prevCredits")]),rs(he(),-8),"epochCredits"),de([Ct("slot"),Ct("timestamp")],"lastTimestamp")]);const f2=t=>({request:t,signMessage:e=>t({method:"signMessage",params:{message:e}}),signTransaction:e=>t({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>t({method:"signAndSendTransaction",params:e})});function Kd(t){return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64")}function h2(t){const e=Buffer.from(t,"base64");return Il.deserializeMessageVersion(e)==="legacy"?Al.deserialize(e):Oa.from(e)}function p2(t){return async n=>{if(n.method==="connect")return await t(n);if(n.method==="signMessage")return await t(n);if(n.method==="signAndSendTransaction"){const{transaction:r}=n.params,s={transaction:Kd(r)};return await t({method:"signAndSendTransaction",params:s})}if(n.method==="signTransaction"){const{transaction:r}=n.params,s={transaction:Kd(r)},{signedTransaction:i}=await t({method:"signTransaction",params:s});return{signedTransaction:h2(i)}}}}const m2=({miniAppHost:t,emitter:e})=>{let n,r=null;return{visible:!1,get onback(){return r},set onback(s){r&&e.removeListener("backNavigationTriggered",r),r=s,s&&e.addListener("backNavigationTriggered",s)},async show(){await t.updateBackState({visible:!0}),this.visible=!0},async hide(){await t.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){n=g2({back:this,emitter:e})},async disableWebNavigation(){n==null||n(),n=void 0}}};function g2({emitter:t,back:e}){const n=y2();if(n)return w2({emitter:t,back:e,navigation:n});if(typeof window<"u")return b2({emitter:t,back:e,window})}function y2(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function w2({emitter:t,back:e,navigation:n}){function r(){n.canGoBack?e.show():e.hide()}function s(){e.visible&&n.canGoBack&&n.back()}return n.addEventListener("navigatesuccess",r),t.addListener("backNavigationTriggered",s),()=>{n.removeEventListener("navigatesuccess",r),t.removeListener("backNavigationTriggered",s)}}function b2({emitter:t,back:e,window:n}){e.show();function r(){e.visible&&n.history.back()}return t.addListener("backNavigationTriggered",r),()=>{t.removeListener("backNavigationTriggered",r)}}const v2="0.1.1";function x2(){return v2}let E2=class ku extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof ku){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof ku&&n.cause.docsPath||n.docsPath)(),o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${x2()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return sp(this,e)}};function sp(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?sp(t.cause,e):e?null:t}function ip(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error){const{code:s}=r.error,i=(()=>s===ii.code?ii:s===Gi.code?Gi:s===so.code?so:s===no.code?no:s===eo.code?eo:s===ro.code?ro:s===Xi.code?Xi:s===io.code?io:s===Ji.code?Ji:s===Yi.code?Yi:s===Qi.code?Qi:s===to.code?to:rn)();throw new i(r.error)}return r.result}let rn=class extends Error{constructor(e){const{code:n,message:r,data:s}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.data=s}};class Gi extends rn{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:Gi.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(Gi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ji extends rn{constructor(e={}){super({message:"Requested resource not found.",...e,code:Ji.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(Ji,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Yi extends rn{constructor(e={}){super({message:"Requested resource not available.",...e,code:Yi.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(Yi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Qi extends rn{constructor(e={}){super({message:"Transaction creation failed.",...e,code:Qi.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(Qi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xi extends rn{constructor(e={}){super({message:"Method is not implemented.",...e,code:Xi.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(Xi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class eo extends rn{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:eo.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class to extends rn{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:to.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(to,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class no extends rn{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:no.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(no,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ro extends rn{constructor(e={}){super({message:"Method does not exist.",...e,code:ro.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(ro,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class so extends rn{constructor(e={}){super({message:"Invalid method parameters.",...e,code:so.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ii extends rn{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:ii.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(ii,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class io extends rn{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:io.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class ys extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class op extends ys{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(op,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ap extends ys{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class cp extends ys{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(cp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class up extends ys{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(up,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class lp extends ys{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function _2(){const t=new Ju;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function S2(t,e={}){var r,s;const{includeEvents:n=!0}=e;if(!t)throw new I2;return{...n?{on:(r=t.on)==null?void 0:r.bind(t),removeListener:(s=t.removeListener)==null?void 0:s.bind(t)}:{},async request(i){const o=await t.request(i);return o&&typeof o=="object"&&"jsonrpc"in o?ip(o):o}}}class I2 extends E2{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function A2(t={}){let e=t.id??0;return{prepare(n){return k2({id:e++,...n})},get id(){return e}}}function k2(t){return{...t,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dp=Symbol("Comlink.proxy"),B2=Symbol("Comlink.endpoint"),M2=Symbol("Comlink.releaseProxy"),Jc=Symbol("Comlink.finalizer"),Qo=Symbol("Comlink.thrown"),fp=t=>typeof t=="object"&&t!==null||typeof t=="function",R2={canHandle:t=>fp(t)&&t[dp],serialize(t){const{port1:e,port2:n}=new MessageChannel;return pp(t,e),[n,[n]]},deserialize(t){return t.start(),gp(t)}},C2={canHandle:t=>fp(t)&&Qo in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},hp=new Map([["proxy",R2],["throw",C2]]);function O2(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function pp(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(s){if(!s||!s.data)return;if(!O2(n,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}const{id:i,type:o,path:a}=Object.assign({path:[]},s.data),c=(s.data.argumentList||[]).map(jr);let l;try{const m=a.slice(0,-1).reduce((y,b)=>y[b],t),g=a.reduce((y,b)=>y[b],t);switch(o){case"GET":l=g;break;case"SET":m[a.slice(-1)[0]]=jr(s.data.value),l=!0;break;case"APPLY":l=g.apply(m,c);break;case"CONSTRUCT":{const y=new g(...c);l=F2(y)}break;case"ENDPOINT":{const{port1:y,port2:b}=new MessageChannel;pp(t,b),l=N2(y,[y])}break;case"RELEASE":l=void 0;break;default:return}}catch(m){l={value:m,[Qo]:0}}Promise.resolve(l).catch(m=>({value:m,[Qo]:0})).then(m=>{const[g,y]=La(m);e.postMessage(Object.assign(Object.assign({},g),{id:i}),y),o==="RELEASE"&&(e.removeEventListener("message",r),mp(e),Jc in t&&typeof t[Jc]=="function"&&t[Jc]())}).catch(m=>{const[g,y]=La({value:new TypeError("Unserializable return value"),[Qo]:0});e.postMessage(Object.assign(Object.assign({},g),{id:i}),y)})}),e.start&&e.start()}function T2(t){return t.constructor.name==="MessagePort"}function mp(t){T2(t)&&t.close()}function gp(t,e){const n=new Map;return t.addEventListener("message",function(s){const{data:i}=s;if(!i||!i.id)return;const o=n.get(i.id);if(o)try{o(i)}finally{n.delete(i.id)}}),Bu(t,n,[],e)}function Zo(t){if(t)throw new Error("Proxy has been released and is not useable")}function yp(t){return Ms(t,new Map,{type:"RELEASE"}).then(()=>{mp(t)})}const Pa=new WeakMap,Ua="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Pa.get(t)||0)-1;Pa.set(t,e),e===0&&yp(t)});function P2(t,e){const n=(Pa.get(e)||0)+1;Pa.set(e,n),Ua&&Ua.register(t,e,t)}function U2(t){Ua&&Ua.unregister(t)}function Bu(t,e,n=[],r=function(){}){let s=!1;const i=new Proxy(r,{get(o,a){if(Zo(s),a===M2)return()=>{U2(i),yp(t),e.clear(),s=!0};if(a==="then"){if(n.length===0)return{then:()=>i};const c=Ms(t,e,{type:"GET",path:n.map(l=>l.toString())}).then(jr);return c.then.bind(c)}return Bu(t,e,[...n,a])},set(o,a,c){Zo(s);const[l,m]=La(c);return Ms(t,e,{type:"SET",path:[...n,a].map(g=>g.toString()),value:l},m).then(jr)},apply(o,a,c){Zo(s);const l=n[n.length-1];if(l===B2)return Ms(t,e,{type:"ENDPOINT"}).then(jr);if(l==="bind")return Bu(t,e,n.slice(0,-1));const[m,g]=Vd(c);return Ms(t,e,{type:"APPLY",path:n.map(y=>y.toString()),argumentList:m},g).then(jr)},construct(o,a){Zo(s);const[c,l]=Vd(a);return Ms(t,e,{type:"CONSTRUCT",path:n.map(m=>m.toString()),argumentList:c},l).then(jr)}});return P2(i,t),i}function L2(t){return Array.prototype.concat.apply([],t)}function Vd(t){const e=t.map(La);return[e.map(n=>n[0]),L2(e.map(n=>n[1]))]}const wp=new WeakMap;function N2(t,e){return wp.set(t,e),t}function F2(t){return Object.assign(t,{[dp]:!0})}function j2(t,e=globalThis,n="*"){return{postMessage:(r,s)=>t.postMessage(r,n,s),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function La(t){for(const[e,n]of hp)if(n.canHandle(t)){const[r,s]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},s]}return[{type:"RAW",value:t},wp.get(t)||[]]}function jr(t){switch(t.type){case"HANDLER":return hp.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Ms(t,e,n,r){return new Promise(s=>{const i=z2();e.set(i,s),t.start&&t.start(),t.postMessage(Object.assign({id:i},n),r)})}function z2(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const $2={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},D2={postMessage:t=>{window.ReactNativeWebView.postMessage(JSON.stringify(t))},addEventListener:(t,e,...n)=>{document.addEventListener("FarcasterFrameCallback",e,...n)},removeEventListener:(t,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},q2=(()=>typeof window>"u"?$2:window!=null&&window.ReactNativeWebView?D2:j2((window==null?void 0:window.parent)??window))(),_e=gp(q2),Cl=_2(),K2=A2();function V2({code:t,details:e}){switch(t){case 4001:return new op;case 4100:return new ap;case 4200:return new cp;case 4900:return new up;case 4901:return new lp;default:return new ys(t,e??"Unknown provider RPC error")}}const oo=S2({...Cl,async request(t){const e=K2.prepare(t);try{const n=await _e.ethProviderRequestV2(e).then(r=>ip(r,{request:e,raw:!0}));if(n.error)throw V2(n.error);return n.result}catch(n){if(n instanceof Error&&n.message.match(/cannot read property 'apply'/i))return await _e.ethProviderRequest(e);throw n instanceof ys||n instanceof rn?n:new ii({message:n instanceof Error?n.message:void 0})}}});async function H2(){try{const t=await _e.getCapabilities();return!t.includes("wallet.getEthereumProvider")&&!t.includes("wallet.getEvmProvider")?void 0:oo}catch{return oo}}function bp(t){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(t)});window.dispatchEvent(e);const n=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{_e.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",t=>{if(t instanceof MessageEvent){const e=t.data;Cl.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="eip6963:announceProvider"&&bp({info:e.info,provider:oo})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{_e.eip6963RequestProvider()}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEthProviderEvent"){const e=t.data;Cl.emit(e.event,...e.params)}}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="eip6963:announceProvider"&&bp({info:e.info,provider:oo})}}));new TextEncoder;const vp=new TextDecoder,Z2=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},W2=t=>{let e=t;e instanceof Uint8Array&&(e=vp.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Z2(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},G2=W2;function J2(t){return typeof t=="object"&&t!==null}function Y2(t){if(!J2(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}class Jt extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Jt.code="ERR_JOSE_GENERIC";class Q2 extends Jt{constructor(e,n,r="unspecified",s="unspecified"){super(e,{cause:{claim:r,reason:s,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=s,this.payload=n}}Q2.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class X2 extends Jt{constructor(e,n,r="unspecified",s="unspecified"){super(e,{cause:{claim:r,reason:s,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=s,this.payload=n}}X2.code="ERR_JWT_EXPIRED";class eE extends Jt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}eE.code="ERR_JOSE_ALG_NOT_ALLOWED";class tE extends Jt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}tE.code="ERR_JOSE_NOT_SUPPORTED";class nE extends Jt{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}nE.code="ERR_JWE_DECRYPTION_FAILED";class rE extends Jt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}rE.code="ERR_JWE_INVALID";class sE extends Jt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}sE.code="ERR_JWS_INVALID";class ur extends Jt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}ur.code="ERR_JWT_INVALID";class iE extends Jt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}iE.code="ERR_JWK_INVALID";class oE extends Jt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}oE.code="ERR_JWKS_INVALID";class aE extends Jt{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}aE.code="ERR_JWKS_NO_MATCHING_KEY";class cE extends Jt{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}cE.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class uE extends Jt{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}uE.code="ERR_JWKS_TIMEOUT";class lE extends Jt{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}lE.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function dE(t){if(typeof t!="string")throw new ur("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new ur("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new ur("Invalid JWT");if(!e)throw new ur("JWTs must contain a payload");let r;try{r=G2(e)}catch{throw new ur("Failed to base64url decode the payload")}let s;try{s=JSON.parse(vp.decode(r))}catch{throw new ur("Failed to parse the decoded payload as JSON")}if(!Y2(s))throw new ur("Invalid JWT Claims Set");return s}function fE(t){return dE(t)}class ic extends Error{constructor(e,n={}){const r=(()=>{var i;if(n.cause instanceof ic){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(s,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.cause=n.cause,this.details=r,this.shortMessage=e}}class xp extends ic{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class hE extends ic{constructor(e){super(e),this.name="InvalidToken"}}async function pE({origin:t}){const e=await fetch(`${t}/nonce`,{method:"POST"});if(!e.ok)throw new xp({status:e.status});return await e.json()}async function mE({origin:t},e){const n=await fetch(`${t}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!n.ok)throw new xp({status:n.status});const r=await n.json();if(r.valid===!1)throw new hE(r.message??"unknown");return{token:r.token}}function gE(t={}){return{origin:t.origin??"https://auth.farcaster.xyz"}}function yE(t={}){const e=gE(t);return{generateNonce:()=>pE(e),verifySiwf:n=>mE(e,n)}}const wE=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,bE=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function vE(t){var g,y,b;const{scheme:e,statement:n,...r}=((g=t.match(wE))==null?void 0:g.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...l}=((y=t.match(bE))==null?void 0:y.groups)??{},m=(b=t.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...l,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...m?{resources:m}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Hd=(()=>{let t,e;async function n(r){const s=yE({origin:r.quickAuthServerOrigin}),{nonce:i}=await s.generateNonce(),o=await _e.signIn({nonce:i,acceptAuthAddress:!0});if(o.result){const a=vE(o.result.message);if(!a.domain)throw new Error("Missing domain on SIWE message");const c=await s.verifySiwf({domain:a.domain,message:o.result.message,signature:o.result.signature});return t={token:c.token,payload:fE(c.token)},c}throw o.error.type==="rejected_by_user"?new Bh:new Error("Unreachable")}return{get token(){if(t&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3))return t.token},async getToken(r={}){const s=r.force??!1;return t&&!s&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:t.token}:(e||(e=n(r)),e.finally(()=>{e=void 0}),e)},async fetch(r,s){const{token:i}=await this.getToken(),o=new Headers(s==null?void 0:s.headers);return o.set("Authorization",`Bearer ${i}`),fetch(r,{...s,headers:o})}}})();function xE(){const t=new Ju;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}const zt=xE(),{solanaProviderRequest:Zd}=_e;let Ep;Zd&&(Ep=f2(p2(Zd)));async function Wd(){let t;try{t=await _e.getCapabilities()}catch{}if(t!=null&&t.includes("wallet.getSolanaProvider"))return Ep}let Gd=null;async function EE(t=50){if(Gd===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([_e.context.then(n=>!!n),new Promise(n=>{setTimeout(()=>n(!1),t)})]).catch(()=>!1);return e&&(Gd=!0),e}const Jd=async()=>{const t=await _e.addFrame();if(t.result)return t.result;throw t.error.type==="invalid_domain_manifest"?new Gw:t.error.type==="rejected_by_user"?new Jw:new Error("Unreachable")},_p={...zt,getCapabilities:_e.getCapabilities,getChains:_e.getChains,isInMiniApp:EE,context:_e.context,back:m2({miniAppHost:_e,emitter:zt}),quickAuth:Hd,actions:{setPrimaryButton:_e.setPrimaryButton.bind(_e),ready:async(t={})=>await _e.ready(t),close:_e.close.bind(_e),viewCast:_e.viewCast.bind(_e),viewProfile:_e.viewProfile.bind(_e),openMiniApp:_e.openMiniApp.bind(_e),signIn:async t=>{const e=await _e.signIn(t);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new Bh:new Error("Unreachable")},openUrl:t=>{const e=typeof t=="string"?t:t.url;return _e.openUrl(e.trim())},addFrame:Jd,addMiniApp:Jd,composeCast(t={}){return _e.composeCast(t)},viewToken:_e.viewToken.bind(_e),sendToken:_e.sendToken.bind(_e),swapToken:_e.swapToken.bind(_e),requestCameraAndMicrophoneAccess:_e.requestCameraAndMicrophoneAccess.bind(_e)},experimental:{getSolanaProvider:Wd,quickAuth(t){return Hd.getToken(t)}},wallet:{ethProvider:oo,getEthereumProvider:H2,getSolanaProvider:Wd},haptics:{impactOccurred:_e.impactOccurred.bind(_e),notificationOccurred:_e.notificationOccurred.bind(_e),selectionChanged:_e.selectionChanged.bind(_e)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="primary_button_clicked"?zt.emit("primaryButtonClicked"):e.event==="miniapp_added"?zt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?zt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?zt.emit("miniAppRemoved"):e.event==="notifications_enabled"?zt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?zt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&zt.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="primary_button_clicked"?zt.emit("primaryButtonClicked"):e.event==="miniapp_added"?zt.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?zt.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?zt.emit("miniAppRemoved"):e.event==="notifications_enabled"?zt.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?zt.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&zt.emit("backNavigationTriggered")}});typeof console<"u"&&console.warn&&console.warn("@farcaster/frame-sdk is deprecated. Please use @farcaster/miniapp-sdk instead.");const Mn=_p;let Yd=!1;new Proxy(_e,{get(t,e,n){return!Yd&&typeof console<"u"&&console.warn&&(Yd=!0,console.warn("frameHost is deprecated. Please use miniAppHost instead.")),Reflect.get(t,e,n)}});class _E{constructor(){this.clientMeta=null,this.initPromise=null}async init({isMiniKit:e}){if(this.isInitialized()){console.warn("ClientMetaManager already initialized");return}this.initPromise=this.handleInit({isMiniKit:e})}isInitialized(){return!!this.initPromise}async getClientMeta(){if(!this.initPromise)throw new Error("ClientMetaManager not initialized");return this.clientMeta?this.clientMeta:await this.initPromise}async handleInit({isMiniKit:e}){var n;let r=null;try{const s=await Mn.context;r=((n=s==null?void 0:s.client)==null?void 0:n.clientFid)||null}catch(s){console.error("Error getting client FID",s)}return this.clientMeta={mode:e?"minikit":"onchainkit",clientFid:r},this.clientMeta}}const Mu=new _E;function SE(){return"0.38.19"}const IE=SE(),AE={"Content-Type":"application/json","OnchainKit-Version":IE};function kE(t,e){return{apiKey:na("apiKey")??"undefined",sessionId:na("sessionId")??"undefined",timestamp:Date.now(),eventType:t,data:e,origin:window.location.origin}}async function BE(t,e){var n;const r=na("config");if(r!=null&&r.analytics)try{const s=await Mu.getClientMeta();await fetch((r==null?void 0:r.analyticsUrl)??Ww,{method:"POST",headers:{...AE,"OnchainKit-App-Name":document.title,"OnchainKit-Client-Fid":((n=s.clientFid)==null?void 0:n.toString())??"","OnchainKit-Mode":s.mode},body:JSON.stringify(kE(t,e))})}catch{}}const ME=(t,e)=>BE(t,e);var Sp=(t=>(t.ComponentError="componentError",t))(Sp||{});class RE extends ie.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),ME(Sp.ComponentError,{component:"OnchainKitProviderBoundary",error:e.message,metadata:{message:e.message,stack:n.componentStack}})}render(){if(this.state.error){if(this.props.fallback){const e=this.props.fallback;return Y.jsx(e,{error:this.state.error})}return Y.jsx("h1",{children:"Sorry, we had an unhandled error"})}return this.props.children}}const CE="https://base.org/privacy-policy",OE="https://base.org/terms-of-service";Si.id+"",_i.id+"";const TE="0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9";function PE(t,e){return new RegExp(`^0x[a-fA-F0-9]{${e}}$`).test(t)}const UE=t=>{const e=new Uint8Array(t);return crypto.getRandomValues(e),e},LE=()=>{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=UE(16);return t[0].toString(16).padStart(2,"0")+t[1].toString(16).padStart(2,"0")+t[2].toString(16).padStart(2,"0")+t[3].toString(16).padStart(2,"0")+"-"+t[4].toString(16).padStart(2,"0")+t[5].toString(16).padStart(2,"0")+"-"+(t[6]&15|64).toString(16).padStart(2,"0")+t[7].toString(16).padStart(2,"0")+"-"+(t[8]&63|128).toString(16).padStart(2,"0")+t[9].toString(16).padStart(2,"0")+"-"+t[10].toString(16).padStart(2,"0")+t[11].toString(16).padStart(2,"0")+t[12].toString(16).padStart(2,"0")+t[13].toString(16).padStart(2,"0")+t[14].toString(16).padStart(2,"0")+t[15].toString(16).padStart(2,"0")};Ol.type="farcasterMiniApp";let Ss,Is,As;function Ol(){return t=>({id:"farcaster",name:"Farcaster",rdns:"xyz.farcaster.MiniAppWallet",icon:"https://imagedelivery.net/BXluQx4ige9GuW0Ia56BHw/055c25d6-7fe7-4a49-abf9-49772021cf00/original",type:Ol.type,async connect({chainId:e}={}){var o,a;const n=await this.getProvider(),r=await n.request({method:"eth_requestAccounts"});let s=e;if(!s){const c=await((o=t.storage)==null?void 0:o.getItem("state"))??{};t.chains.some(m=>m.id===c.chainId)?s=c.chainId:s=(a=t.chains[0])==null?void 0:a.id}if(!s)throw new Error("No chains found on connector.");Ss||(Ss=this.onAccountsChanged.bind(this),n.on("accountsChanged",Ss)),Is||(Is=this.onChainChanged.bind(this),n.on("chainChanged",Is)),As||(As=this.onDisconnect.bind(this),n.on("disconnect",As));let i=await this.getChainId();return s&&i!==s&&(i=(await this.switchChain({chainId:s})).id),{accounts:r.map(c=>$t(c)),chainId:i}},async disconnect(){const e=await this.getProvider();Ss&&(e.removeListener("accountsChanged",Ss),Ss=void 0),Is&&(e.removeListener("chainChanged",Is),Is=void 0),As&&(e.removeListener("disconnect",As),As=void 0)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(r=>$t(r))},async getChainId(){const n=await(await this.getProvider()).request({method:"eth_chainId"});return Yp(n,"number")},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:e}){const n=await this.getProvider(),r=t.chains.find(s=>s.id===e);if(!r)throw new tn(new as);return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:xe(e)}]}),t.emitter.emit("change",{chainId:e}),r},onAccountsChanged(e){e.length===0?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(n=>$t(n))})},onChainChanged(e){const n=Number(e);t.emitter.emit("change",{chainId:n})},async onDisconnect(){t.emitter.emit("disconnect")},async getProvider(){return _p.wallet.ethProvider}})}const Ip=Ol;Ip.type="farcasterFrame";function NE(){const{data:t,...e}=Sy({queryKey:["useIsInMiniApp"],queryFn:async()=>!!await Mn.context});return{...e,isInMiniApp:t}}const FE=new Set(["farcasterFrame","farcasterMiniApp"]);function jE({children:t,enabled:e=!0}){const{isConnected:n,isConnecting:r}=Lw(),{connectors:s,connect:i}=jw(),o=ie.useRef(!1),a=s[0],{isInMiniApp:c,isSuccess:l}=NE();return ie.useEffect(()=>{if(!e||o.current||!FE.has(a==null?void 0:a.type)||!l)return;o.current=!0;async function m(){!c||n||r||i({connector:a})}m()},[s,i,n,r,a,e,l,c]),Y.jsx(Y.Fragment,{children:t})}const Ap={},Tl=ie.createContext(Ap);function zE({children:t,notificationProxyUrl:e="/api/notify",autoConnect:n=!0,...r}){var s,i,o,a,c,l;const[m,g]=ie.useState(null);ie.useEffect(()=>{Mn.on("miniAppAdded",({notificationDetails:M})=>{M&&y({details:M,frameAdded:!0})}),Mn.on("miniAppAddRejected",({reason:M})=>{console.error("Mini app add rejected",M)}),Mn.on("miniAppRemoved",()=>{y({details:void 0,frameAdded:!1})}),Mn.on("notificationsEnabled",({notificationDetails:M})=>{y({details:M})}),Mn.on("notificationsDisabled",()=>{y({details:void 0})});async function A(){try{const M=await Mn.context;g(M)}catch(M){console.error("Error fetching context:",M)}}return A(),()=>{Mn.removeAllListeners()}},[]);const y=ie.useCallback(({details:A,frameAdded:M})=>{g(O=>O?{...O,client:{...O.client,notificationDetails:A??void 0,added:M??O.client.added}}:null)},[]),b=ie.useMemo(()=>{var A,M;return[m?Ip():_o({appName:{}.NEXT_PUBLIC_ONCHAINKIT_PROJECT_NAME,appLogoUrl:{}.NEXT_PUBLIC_ICON_URL,preference:(M=(A=r.config)==null?void 0:A.wallet)==null?void 0:M.preference})]},[m,(i=(s=r.config)==null?void 0:s.wallet)==null?void 0:i.preference]),k=ie.useMemo(()=>({context:m,updateClientContext:y,notificationProxyUrl:e,__isMiniKit:!0}),[y,e,m]);return Y.jsx(Tl.Provider,{value:k,children:Y.jsx(kh,{connectors:b,children:Y.jsx($E,{...r,children:Y.jsx(jE,{enabled:n,children:Y.jsx("div",{style:{paddingTop:((o=m==null?void 0:m.client.safeAreaInsets)==null?void 0:o.top)??0,paddingBottom:((a=m==null?void 0:m.client.safeAreaInsets)==null?void 0:a.bottom)??0,paddingLeft:((c=m==null?void 0:m.client.safeAreaInsets)==null?void 0:c.left)??0,paddingRight:((l=m==null?void 0:m.client.safeAreaInsets)==null?void 0:l.right)??0},children:t})})})})})}function $E({address:t,analytics:e,apiKey:n,chain:r,children:s,config:i,projectId:o,rpcUrl:a,schemaId:c}){var l;if(c&&!PE(c,64))throw Error('EAS schemaId must be 64 characters prefixed with "0x"');const m=ie.useMemo(()=>LE(),[]),g=!!((l=ie.useContext(Tl))!=null&&l.__isMiniKit);ie.useEffect(()=>{Mu.isInitialized()||Mu.init({isMiniKit:g})},[g]);const y=ie.useMemo(()=>{var b,k,A,M,O,F,C,z,N,D,$,H,L,Z,G;const ee=n?`https://api.developer.coinbase.com/rpc/v1/${r.name.replace(" ","-").toLowerCase()}/${n}`:null,x={address:t??null,apiKey:n??null,chain:r,config:{analytics:e??!0,analyticsUrl:(i==null?void 0:i.analyticsUrl)??null,appearance:{name:((b=i==null?void 0:i.appearance)==null?void 0:b.name)??"Dapp",logo:((k=i==null?void 0:i.appearance)==null?void 0:k.logo)??"",mode:((A=i==null?void 0:i.appearance)==null?void 0:A.mode)??"auto",theme:((M=i==null?void 0:i.appearance)==null?void 0:M.theme)??"default"},paymaster:(i==null?void 0:i.paymaster)||ee,wallet:{display:((O=i==null?void 0:i.wallet)==null?void 0:O.display)??"classic",preference:((F=i==null?void 0:i.wallet)==null?void 0:F.preference)??"all",signUpEnabled:((C=i==null?void 0:i.wallet)==null?void 0:C.signUpEnabled)??!0,termsUrl:((z=i==null?void 0:i.wallet)==null?void 0:z.termsUrl)||OE,privacyUrl:((N=i==null?void 0:i.wallet)==null?void 0:N.privacyUrl)||CE,supportedWallets:{rabby:(($=(D=i==null?void 0:i.wallet)==null?void 0:D.supportedWallets)==null?void 0:$.rabby)??!1,trust:((L=(H=i==null?void 0:i.wallet)==null?void 0:H.supportedWallets)==null?void 0:L.trust)??!1,frame:((G=(Z=i==null?void 0:i.wallet)==null?void 0:Z.supportedWallets)==null?void 0:G.frame)??!1}}},projectId:o??null,rpcUrl:a??null,schemaId:c??TE,sessionId:m};return Vg(x),x},[t,e,n,r,i,o,a,c,m]);return Y.jsx(Ah.Provider,{value:y,children:Y.jsx(kh,{children:Y.jsx(RE,{children:s})})})}const DE=()=>{const[t,e]=ie.useState(!1),n=ie.useContext(Tl);if(n===Ap)throw new Error("useMiniKit must be used within a MiniKitProvider");return{setFrameReady:async(s={})=>(Mn.actions.ready(s),e(!0),n),isFrameReady:t,context:n.context,updateClientContext:n.updateClientContext,notificationProxyUrl:n.notificationProxyUrl}},Qd=[{name:"nfttrappin",url:"https://zora.co/@nfttrappin"},{name:"tangyyoghurt",url:"https://zora.co/@tangyyoghurt"},{name:"tanazolam",url:"https://zora.co/@tanazolam"},{name:"realmrider",url:"https://zora.co/@realmrider"},{name:"nadayar",url:"https://zora.co/@nadayar"},{name:"maxgains",url:"https://zora.co/@maxgains"},{name:"hippophant",url:"https://zora.co/@hippophant"},{name:"gringosuave",url:"https://zora.co/@gringosuave"},{name:"idree",url:"https://zora.co/@idree"},{name:"smhsince91",url:"https://zora.co/@smhsince91"},{name:"bicillinla",url:"https://zora.co/@bicillinla"},{name:"nova100x",url:"https://zora.co/@nova100x"},{name:"tobiasfollows",url:"https://zora.co/@tobiasfollows"},{name:"7101dogdaot",url:"https://zora.co/@7101dogdaot"},{name:"decenenthusiast_pt",url:"https://zora.co/@decenenthusiast_pt"},{name:"blockchainjoe",url:"https://zora.co/@blockchainjoe"},{name:"theparshuram",url:"https://zora.co/@theparshuram"},{name:"heldpenguin",url:"https://zora.co/@heldpenguin"},{name:"biggerton",url:"https://zora.co/@biggerton"},{name:"carlybee",url:"https://zora.co/@carlybee"},{name:"metamessiah",url:"https://zora.co/@metamessiah"},{name:"cryptomag",url:"https://zora.co/@cryptomag"},{name:"magicman",url:"https://zora.co/@magicman"},{name:"gilligan",url:"https://zora.co/@gilligan"},{name:"jshockyall",url:"https://zora.co/@jshockyall"},{name:"messyyplayer",url:"https://zora.co/@messyyplayer"},{name:"thegardener",url:"https://zora.co/@thegardener"},{name:"l0rdsir1us",url:"https://zora.co/@l0rdsir1us"},{name:"sophieji",url:"https://zora.co/@sophieji"},{name:"flexy2kk",url:"https://zora.co/@flexy2kk"},{name:"livelife",url:"https://zora.co/@livelife"},{name:"berick06",url:"https://zora.co/@berick06"},{name:"darudragond",url:"https://zora.co/@darudragond"},{name:"toby_apprentice777",url:"https://zora.co/@toby_apprentice777"},{name:"digitdrifter",url:"https://zora.co/@digitdrifter"},{name:"ricardojgms",url:"https://zora.co/@ricardojgms"},{name:"kuzikuu",url:"https://zora.co/@kuzikuu"},{name:"bossboss",url:"https://zora.co/@bossboss"},{name:"ernie",url:"https://zora.co/@ernie"},{name:"fallenfrog9",url:"https://zora.co/@fallenfrog9"},{name:"habit777",url:"https://zora.co/@habit777"},{name:"drolesab",url:"https://zora.co/@drolesab"},{name:"dub",url:"https://zora.co/@dub"},{name:"toadgang777",url:"https://zora.co/@toadgang777"},{name:"desperad0",url:"https://zora.co/@desperad0"},{name:"lordsat0by",url:"https://zora.co/@lordsat0by"},{name:"cptbased",url:"https://zora.co/@cptbased"},{name:"cryptovenkey",url:"https://zora.co/@cryptovenkey"},{name:"barrylane",url:"https://zora.co/@barrylane"},{name:"geniusjoe",url:"https://zora.co/@geniusjoe"},{name:"rocho69",url:"https://zora.co/@rocho69"},{name:"bleedndodgerblu",url:"https://zora.co/@bleedndodgerblu"},{name:"yellon982",url:"https://zora.co/@yellon982"},{name:"bull_sararu",url:"https://zora.co/@bull_sararu"},{name:"christian",url:"https://zora.co/@clj38"},{name:"johndabeast",url:"https://zora.co/@johndabeast"},{name:"bloo",url:"https://zora.co/@bloo"},{name:"g_l0",url:"https://zora.co/@g_l0"}];function qE(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function KE(){const t=ie.useRef(null),[e,n]=ie.useState({w:0,h:0});return ie.useEffect(()=>{if(!t.current)return;const r=new ResizeObserver(s=>{const{width:i,height:o}=s[0].contentRect;n({w:i,h:o})});return r.observe(t.current),()=>r.disconnect()},[]),[t,e]}function VE(t,e,n,r=42){const s=qE(r),i=e<640?60:e<1024?80:88,o=e<640?100:e<1024?120:148,a=[];for(let c=0;c<t;c++){const l=Math.floor(i+s()*(o-i)),m=e<640?8:16,g=Math.floor(s()*Math.max(1,e-l-m))+m/2,y=Math.floor(s()*Math.max(1,n-l-m))+m/2,b=7+s()*10,k=5+s()*7,A=Math.floor(s()*360);a.push({x:g,y,size:l,drift:b,float:k,angle:A})}return a}function HE(){const[t,e]=ie.useState(""),[n,r]=ie.useState(()=>Math.floor(Math.random()*1e5)),[s,{w:i,h:o}]=KE(),[a,c]=ie.useState(!1),[l,m]=ie.useState({zoraProfile:"",email:""}),[g,y]=ie.useState(!1),[b,k]=ie.useState(!1),[A,M]=ie.useState(!1),{setFrameReady:O,isFrameReady:F,sdk:C}=DE();ie.useEffect(()=>{F||O()},[F,O]),ie.useEffect(()=>{if(C&&C.actions&&typeof C.actions.ready=="function")try{C.actions.ready(),console.log("Base OnchainKit ready() called successfully - splash screen should hide")}catch($){console.error("Error calling sdk.actions.ready():",$)}},[C]),ie.useEffect(()=>{const $=new Image;return $.onload=()=>{M(!0)},$.onerror=()=>{M(!0)},$.src="/lily.png",()=>{$.onload=null,$.onerror=null}},[]);const z=ie.useMemo(()=>{const $=t.trim().toLowerCase();return $?Qd.filter(H=>H.name.toLowerCase().includes($)):Qd},[t]),N=ie.useMemo(()=>VE(z.length,i,o,n),[z.length,i,o,n]),D=async $=>{$.preventDefault(),y(!0);try{if((await fetch("https://formspree.io/f/xvgqyyay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"kuzikuu@gmail.com",subject:"New Toad Gang Registration Request",zoraProfile:l.zoraProfile,userEmail:l.email,message:`New Toad Gang registration request from ${l.zoraProfile} (${l.email})`})})).ok)k(!0),setTimeout(()=>{c(!1),k(!1),m({zoraProfile:"",email:""})},3e3);else throw new Error("Form submission failed")}catch(H){console.error("Registration failed:",H),alert("Registration failed. Please try again.")}finally{y(!1)}};return!A&&C?Y.jsx("div",{className:"fixed inset-0 bg-purple-950 flex items-center justify-center z-50",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("img",{src:"/lily.png",alt:"Loading...",className:"w-32 h-32 mx-auto mb-4 animate-pulse"}),Y.jsx("div",{className:"text-white text-lg",children:"Loading Purple Pond..."})]})}):(C||console.warn("MiniKit SDK not available, showing app without Base OnchainKit features"),Y.jsxs("div",{className:"relative min-h-screen text-white overflow-hidden",children:[Y.jsxs("div",{className:"absolute inset-0 -z-10",children:[Y.jsx("img",{src:"/pond.png",alt:"Purple pond background",className:"w-full h-full object-cover"}),Y.jsx("div",{className:"absolute inset-0 bg-[rgba(12,0,24,0.45)]"})]}),Y.jsxs("header",{className:"relative z-10 mx-auto max-w-6xl px-3 sm:px-4 pt-4 sm:pt-6 md:pt-8 pb-2",children:[Y.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold tracking-tight drop-shadow leading-tight",children:["Purple Pond: ",Y.jsx("span",{className:"text-fuchsia-200",children:"Toad Gang Zora Links"})]}),Y.jsx("p",{className:"mt-1 text-xs sm:text-sm text-fuchsia-50/90 max-w-3xl drop-shadow leading-relaxed",children:"Click a lily pad to jump to a Zora profile."})]}),Y.jsxs("div",{className:"relative z-10 mx-auto max-w-6xl px-3 sm:px-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[Y.jsxs("div",{className:"flex-1 relative",children:[Y.jsx(Cp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 opacity-80"}),Y.jsx("input",{value:t,onChange:$=>e($.target.value),placeholder:"Search handles…",className:"w-full rounded-2xl bg-black/30 backdrop-blur px-10 py-3 sm:py-2 outline-none ring-1 ring-white/20 focus:ring-fuchsia-300/70 text-white placeholder-white/70 text-sm sm:text-base"})]}),Y.jsxs("button",{onClick:()=>r(Math.floor(Math.random()*1e5)),className:"inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-3 sm:px-3 sm:py-2 bg-fuchsia-600/90 hover:bg-fuchsia-500 active:bg-fuchsia-700 transition shadow-lg shadow-fuchsia-900/40 touch-manipulation",children:[Y.jsx(Op,{className:"h-4 w-4 sm:h-5 sm:w-5"}),Y.jsx("span",{className:"sm:hidden",children:"Shuffle Layout"}),Y.jsx("span",{className:"hidden sm:inline",children:"Shuffle"})]})]}),Y.jsxs("main",{ref:s,className:"relative z-0 mx-auto mt-3 sm:mt-4 mb-6 sm:mb-10 max-w-7xl h-[60vh] sm:h-[72vh] md:h-[76vh] lg:h-[78vh] xl:h-[80vh] rounded-2xl sm:rounded-3xl overflow-hidden border border-white/20 bg-black/10 backdrop-blur-[2px]",children:[z.map(($,H)=>{const L=N[H]||{x:0,y:0,size:120,drift:8,float:6,angle:0},Z={left:L.x,top:L.y,width:L.size,height:L.size,animation:`drift-${H} ${L.drift}s ease-in-out infinite alternate, float-${H} ${L.float}s ease-in-out infinite alternate`};return Y.jsxs("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",title:$.name,className:"group absolute select-none grid place-items-center text-center focus:outline-none focus-visible:ring-2 focus-visible:ring-fuchsia-300/80 touch-manipulation",style:Z,children:[Y.jsxs("div",{className:"relative w-full h-full",children:[Y.jsx("img",{src:"/lily.png",alt:"lily pad",draggable:!1,className:"w-full h-full object-contain drop-shadow-[0_20px_30px_rgba(0,0,0,0.45)] transition-transform group-active:scale-95"}),Y.jsxs("span",{className:"lily-pad-text absolute left-1/2 -translate-x-1/2 bottom-1 translate-y-1/2 whitespace-nowrap text-[8px] xs:text-[10px] sm:text-xs md:text-sm font-semibold bg-black/55 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ring-1 ring-white/20 backdrop-blur max-w-[90%] truncate",children:["🍃 ",$.name]})]}),Y.jsx("span",{className:"pointer-events-none absolute -inset-2 rounded-full opacity-0 group-hover:opacity-100 transition ring-2 ring-fuchsia-300/50"}),Y.jsx("style",{children:`
                @keyframes drift-${H} {
                  0%   { transform: translate3d(0px, 0px, 0px) rotate(${L.angle}deg); }
                  100% { transform: translate3d(${Math.round(L.size/2*(H%2===0?1:-1))}px, 0px, 0px) rotate(${L.angle+(H%2===0?4:-4)}deg); }
                }
                @keyframes float-${H} {
                  0%   { transform: translate3d(0px, 0px, 0px); }
                  100% { transform: translate3d(0px, ${Math.round(L.size/4*(H%3===0?1:-1))}px, 0px); }
                }
              `})]},$.name)}),z.length===0&&Y.jsx("div",{className:"absolute inset-0 grid place-items-center text-center px-4 sm:px-6",children:Y.jsx("p",{className:"text-sm sm:text-base text-fuchsia-50/90 drop-shadow",children:"No pads match your search. Try another handle."})}),Y.jsx("div",{className:"pointer-events-none absolute inset-0","aria-hidden":!0,children:Y.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_160px_rgba(0,0,0,0.45)]"})})]}),Y.jsx("footer",{className:"relative z-10 mx-auto max-w-6xl px-3 sm:px-4 pb-4 sm:pb-6 md:pb-8 text-xs sm:text-sm text-fuchsia-50/90 drop-shadow",children:Y.jsxs("p",{className:"leading-relaxed",children:["Arigato ",Y.jsx("a",{href:"https://x.com/TopNoshFinance",className:"underline decoration-fuchsia-300/70 hover:decoration-fuchsia-200",target:"_blank",rel:"noreferrer noopener",children:"Topnoshfinance "})," for building the list. Built for ",Y.jsx("a",{href:"https://github.com/kuzikuu/toadgang",className:"underline decoration-fuchsia-300/70 hover:decoration-fuchsia-200",target:"_blank",rel:"noreferrer noopener",children:"toadgang"}),". Study the lore ",Y.jsx("a",{href:"https://toadgod.xyz",className:"underline decoration-fuchsia-300/70 hover:decoration-fuchsia-200",target:"_blank",rel:"noreferrer noopener",children:"toadgod.xyz"}),"."]})}),Y.jsx("button",{onClick:()=>c(!0),className:"fixed bottom-4 right-4 z-50 w-16 h-16 rounded-full bg-fuchsia-600/90 hover:bg-fuchsia-500 active:bg-fuchsia-700 transition-all duration-200 shadow-lg shadow-fuchsia-900/40 hover:scale-110 touch-manipulation",title:"Register for Toad Gang",children:Y.jsx("img",{src:"/toby.png",alt:"Toby",className:"w-full h-full object-contain p-2"})}),a&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:Y.jsxs("div",{className:"relative w-full max-w-md bg-gradient-to-br from-purple-900/95 to-fuchsia-900/95 rounded-3xl border border-white/20 backdrop-blur-xl shadow-2xl",children:[Y.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white transition-colors",children:Y.jsx(Tp,{className:"w-5 h-5"})}),Y.jsx("div",{className:"p-6",children:b?Y.jsxs("div",{className:"text-center py-8",children:[Y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-500/20 rounded-full flex items-center justify-center",children:Y.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Thank You!"}),Y.jsx("p",{className:"text-white/80",children:"We will review your registration and add you shortly."})]}):Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"text-center mb-6",children:[Y.jsx("img",{src:"/toby.png",alt:"Toby",className:"w-16 h-16 mx-auto mb-4 object-contain"}),Y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Join Toad Gang"}),Y.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-xl p-3 mb-4",children:Y.jsx("p",{className:"text-sm text-yellow-200 font-medium",children:"⚠️ Requirement: You must have at least 1 TobyWorld related post to join"})})]}),Y.jsxs("form",{onSubmit:D,className:"space-y-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"zoraProfile",className:"block text-sm font-medium text-white/90 mb-2",children:"Zora Profile Name"}),Y.jsx("input",{type:"text",id:"zoraProfile",value:l.zoraProfile,onChange:$=>m({...l,zoraProfile:$.target.value}),placeholder:"Enter your Zora profile name",required:!0,className:"w-full px-4 py-3 rounded-2xl bg-black/30 border border-white/20 focus:border-fuchsia-300/70 focus:ring-2 focus:ring-fuchsia-300/20 outline-none text-white placeholder-white/50 transition-all"})]}),Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-2",children:"Your Email"}),Y.jsx("input",{type:"email",id:"email",value:l.email,onChange:$=>m({...l,email:$.target.value}),placeholder:"Enter your email address",required:!0,className:"w-full px-4 py-3 rounded-2xl bg-black/30 border border-white/20 focus:border-fuchsia-300/70 focus:ring-2 focus:ring-fuchsia-300/20 outline-none text-white placeholder-white/50 transition-all"})]}),Y.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 px-6 bg-fuchsia-600 hover:bg-fuchsia-500 active:bg-fuchsia-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-2xl font-semibold text-white transition-all duration-200 shadow-lg shadow-fuchsia-900/40 touch-manipulation",children:g?"Submitting...":"Submit Registration"})]})]})})]})})]}))}function ZE({children:t}){return Y.jsx(zE,{apiKey:{}.NEXT_PUBLIC_CDP_CLIENT_API_KEY,chain:_i,children:t})}const WE=ff(document.getElementById("root"));WE.render(Y.jsx(Rp.StrictMode,{children:Y.jsx(ZE,{children:Y.jsx(HE,{})})}));export{cg as $,Ur as A,ye as B,a_ as C,e_ as D,Ju as E,Rr as F,qp as G,Hp as H,QE as I,zp as J,xf as K,Kf as L,Eg as M,ts as N,gm as O,l_ as P,Xo as Q,Dg as R,Ff as S,qa as T,tg as U,ng as V,rg as W,sg as X,ig as Y,og as Z,ag as _,vo as a,jf as a0,u_ as a1,n_ as a2,Pu as a3,ai as a4,Wu as a5,ss as a6,nm as a7,XE as a8,Sf as a9,uh as aA,i_ as aB,Ei as aC,Lu as aD,fh as aE,Am as aF,Tf as aG,Qp as aH,jy as aI,fs as aJ,kx as aK,o_ as aL,Hm as aM,$u as aN,vi as aO,Gm as aa,If as ab,eg as ac,Bg as ad,Js as ae,Zf as af,es as ag,Xn as ah,ea as ai,xo as aj,Tn as ak,c_ as al,My as am,um as an,sm as ao,r_ as ap,Tu as aq,s_ as ar,om as as,wg as at,_g as au,Fu as av,Cy as aw,Mi as ax,im as ay,By as az,Lr as b,bf as c,ja as d,Qn as e,Sr as f,yf as g,zo as h,Cr as i,Br as j,bg as k,Xp as l,$t as m,xe as n,xi as o,oi as p,s0 as q,Hv as r,xg as s,Xr as t,ke as u,Vv as v,mm as w,Pr as x,t_ as y,wf as z};
